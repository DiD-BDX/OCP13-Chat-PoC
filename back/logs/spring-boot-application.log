2024-12-05T10:41:48.797+01:00  INFO 73682 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 73682 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T10:41:48.800+01:00  INFO 73682 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T10:41:49.110+01:00  INFO 73682 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T10:41:49.141+01:00  INFO 73682 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2024-12-05T10:41:49.442+01:00  INFO 73682 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T10:41:49.449+01:00  INFO 73682 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T10:41:49.454+01:00  INFO 73682 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T10:41:49.492+01:00  INFO 73682 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T10:41:49.492+01:00  INFO 73682 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 665 ms
2024-12-05T10:41:49.568+01:00  INFO 73682 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T10:41:49.604+01:00  INFO 73682 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T10:41:49.624+01:00  INFO 73682 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T10:41:49.784+01:00  INFO 73682 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T10:41:49.804+01:00  INFO 73682 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T10:41:49.872+01:00  INFO 73682 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b791dca
2024-12-05T10:41:49.873+01:00  INFO 73682 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T10:41:50.404+01:00  INFO 73682 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T10:41:50.569+01:00  INFO 73682 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T10:41:50.710+01:00  INFO 73682 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T10:41:50.878+01:00  WARN 73682 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T10:41:50.892+01:00  WARN 73682 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T10:41:50.966+01:00 DEBUG 73682 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T10:41:50.994+01:00 DEBUG 73682 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2024-12-05T10:41:51.012+01:00 DEBUG 73682 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T10:41:51.047+01:00 DEBUG 73682 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T10:41:51.047+01:00 DEBUG 73682 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T10:41:51.048+01:00 DEBUG 73682 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T10:41:51.080+01:00 DEBUG 73682 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T10:41:51.098+01:00 DEBUG 73682 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T10:41:51.157+01:00  INFO 73682 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T10:41:51.158+01:00 DEBUG 73682 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T10:41:51.158+01:00 DEBUG 73682 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T10:41:51.159+01:00  INFO 73682 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T10:41:51.159+01:00 DEBUG 73682 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643947d1]
2024-12-05T10:41:51.159+01:00 DEBUG 73682 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643947d1]
2024-12-05T10:41:51.159+01:00  INFO 73682 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643947d1]]
2024-12-05T10:41:51.159+01:00  INFO 73682 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T10:41:51.159+01:00 DEBUG 73682 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T10:41:51.159+01:00 DEBUG 73682 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T10:41:51.164+01:00  INFO 73682 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.558 seconds (process running for 2.711)
2024-12-05T10:42:51.170+01:00  INFO 73682 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T10:44:02.649+01:00  INFO 73682 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T10:44:02.650+01:00  INFO 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T10:44:02.650+01:00 DEBUG 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T10:44:02.650+01:00 DEBUG 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T10:44:02.650+01:00 DEBUG 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T10:44:02.652+01:00 DEBUG 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@386b4f7e
2024-12-05T10:44:02.653+01:00 DEBUG 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@43e9eddf
2024-12-05T10:44:02.653+01:00 DEBUG 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T10:44:02.653+01:00  INFO 73682 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-12-05T11:06:01.898+01:00 DEBUG 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:06:01.901+01:00 DEBUG 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:06:01.902+01:00  INFO 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T11:06:01.902+01:00  INFO 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643947d1]]
2024-12-05T11:06:01.902+01:00 DEBUG 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643947d1]
2024-12-05T11:06:01.902+01:00 DEBUG 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@643947d1]
2024-12-05T11:06:01.902+01:00  INFO 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T11:06:01.902+01:00 DEBUG 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:06:01.902+01:00 DEBUG 73682 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:06:01.917+01:00  INFO 73682 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:06:01.921+01:00  INFO 73682 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T11:06:01.923+01:00  INFO 73682 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T11:06:18.581+01:00  INFO 89595 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 89595 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T11:06:18.583+01:00  INFO 89595 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T11:06:18.873+01:00  INFO 89595 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T11:06:18.902+01:00  INFO 89595 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T11:06:19.184+01:00  INFO 89595 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T11:06:19.196+01:00  INFO 89595 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T11:06:19.197+01:00  INFO 89595 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T11:06:19.228+01:00  INFO 89595 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T11:06:19.228+01:00  INFO 89595 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 623 ms
2024-12-05T11:06:19.300+01:00  INFO 89595 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T11:06:19.329+01:00  INFO 89595 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T11:06:19.350+01:00  INFO 89595 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T11:06:19.481+01:00  INFO 89595 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T11:06:19.497+01:00  INFO 89595 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T11:06:19.550+01:00  INFO 89595 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@67a8bcbb
2024-12-05T11:06:19.550+01:00  INFO 89595 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T11:06:19.973+01:00  INFO 89595 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T11:06:20.039+01:00  INFO 89595 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:06:20.170+01:00  INFO 89595 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T11:06:20.335+01:00  WARN 89595 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T11:06:20.349+01:00  WARN 89595 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T11:06:20.421+01:00 DEBUG 89595 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T11:06:20.449+01:00 DEBUG 89595 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2024-12-05T11:06:20.466+01:00 DEBUG 89595 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T11:06:20.504+01:00 DEBUG 89595 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T11:06:20.504+01:00 DEBUG 89595 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T11:06:20.505+01:00 DEBUG 89595 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T11:06:20.538+01:00 DEBUG 89595 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T11:06:20.554+01:00 DEBUG 89595 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T11:06:20.612+01:00  INFO 89595 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T11:06:20.613+01:00 DEBUG 89595 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:06:20.613+01:00 DEBUG 89595 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:06:20.614+01:00  INFO 89595 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T11:06:20.614+01:00 DEBUG 89595 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@258e5601]
2024-12-05T11:06:20.614+01:00 DEBUG 89595 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@258e5601]
2024-12-05T11:06:20.614+01:00  INFO 89595 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@258e5601]]
2024-12-05T11:06:20.614+01:00  INFO 89595 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T11:06:20.614+01:00 DEBUG 89595 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:06:20.614+01:00 DEBUG 89595 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:06:20.619+01:00  INFO 89595 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.215 seconds (process running for 2.354)
2024-12-05T11:07:12.182+01:00  INFO 89595 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T11:07:12.183+01:00  INFO 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T11:07:12.184+01:00 DEBUG 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T11:07:12.184+01:00 DEBUG 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T11:07:12.184+01:00 DEBUG 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T11:07:12.187+01:00 DEBUG 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f1e5f85
2024-12-05T11:07:12.187+01:00 DEBUG 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@17fbbf0a
2024-12-05T11:07:12.187+01:00 DEBUG 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T11:07:12.187+01:00  INFO 89595 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-12-05T11:07:20.615+01:00  INFO 89595 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T11:16:15.173+01:00 DEBUG 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:16:15.176+01:00 DEBUG 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:16:15.176+01:00  INFO 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T11:16:15.177+01:00  INFO 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@258e5601]]
2024-12-05T11:16:15.177+01:00 DEBUG 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@258e5601]
2024-12-05T11:16:15.177+01:00 DEBUG 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@258e5601]
2024-12-05T11:16:15.177+01:00  INFO 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T11:16:15.177+01:00 DEBUG 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:16:15.177+01:00 DEBUG 89595 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:16:15.187+01:00  INFO 89595 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:16:15.191+01:00  INFO 89595 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T11:16:15.193+01:00  INFO 89595 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T11:16:24.169+01:00  INFO 96098 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 96098 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T11:16:24.170+01:00  INFO 96098 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T11:16:24.454+01:00  INFO 96098 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T11:16:24.482+01:00  INFO 96098 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T11:16:24.784+01:00  INFO 96098 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T11:16:24.796+01:00  INFO 96098 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T11:16:24.796+01:00  INFO 96098 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T11:16:24.831+01:00  INFO 96098 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T11:16:24.831+01:00  INFO 96098 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 638 ms
2024-12-05T11:16:24.907+01:00  INFO 96098 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T11:16:24.939+01:00  INFO 96098 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T11:16:24.958+01:00  INFO 96098 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T11:16:25.111+01:00  INFO 96098 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T11:16:25.128+01:00  INFO 96098 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T11:16:25.205+01:00  INFO 96098 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@50ff7063
2024-12-05T11:16:25.205+01:00  INFO 96098 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T11:16:25.634+01:00  INFO 96098 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T11:16:25.700+01:00  INFO 96098 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:16:25.842+01:00  INFO 96098 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T11:16:26.006+01:00  WARN 96098 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T11:16:26.019+01:00  WARN 96098 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T11:16:26.094+01:00 DEBUG 96098 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T11:16:26.120+01:00 DEBUG 96098 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T11:16:26.138+01:00 DEBUG 96098 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T11:16:26.173+01:00 DEBUG 96098 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T11:16:26.174+01:00 DEBUG 96098 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T11:16:26.174+01:00 DEBUG 96098 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T11:16:26.206+01:00 DEBUG 96098 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T11:16:26.226+01:00 DEBUG 96098 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T11:16:26.286+01:00  INFO 96098 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T11:16:26.287+01:00 DEBUG 96098 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:16:26.287+01:00 DEBUG 96098 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:16:26.287+01:00  INFO 96098 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T11:16:26.287+01:00 DEBUG 96098 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57f31caf]
2024-12-05T11:16:26.288+01:00 DEBUG 96098 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57f31caf]
2024-12-05T11:16:26.288+01:00  INFO 96098 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57f31caf]]
2024-12-05T11:16:26.288+01:00  INFO 96098 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T11:16:26.288+01:00 DEBUG 96098 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:16:26.288+01:00 DEBUG 96098 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:16:26.293+01:00  INFO 96098 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.3 seconds (process running for 2.455)
2024-12-05T11:17:10.369+01:00  INFO 96098 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T11:17:10.369+01:00  INFO 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T11:17:10.369+01:00 DEBUG 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T11:17:10.370+01:00 DEBUG 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T11:17:10.370+01:00 DEBUG 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T11:17:10.371+01:00 DEBUG 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1d306d27
2024-12-05T11:17:10.371+01:00 DEBUG 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@750448fb
2024-12-05T11:17:10.371+01:00 DEBUG 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T11:17:10.371+01:00  INFO 96098 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T11:17:26.292+01:00  INFO 96098 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T11:35:05.702+01:00 DEBUG 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:35:05.703+01:00 DEBUG 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:35:05.703+01:00  INFO 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T11:35:05.703+01:00  INFO 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57f31caf]]
2024-12-05T11:35:05.703+01:00 DEBUG 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57f31caf]
2024-12-05T11:35:05.703+01:00 DEBUG 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@57f31caf]
2024-12-05T11:35:05.703+01:00  INFO 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T11:35:05.703+01:00 DEBUG 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:35:05.703+01:00 DEBUG 96098 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:35:05.711+01:00  INFO 96098 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:35:05.715+01:00  INFO 96098 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T11:35:05.717+01:00  INFO 96098 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T11:35:14.036+01:00  INFO 8537 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 8537 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T11:35:14.037+01:00  INFO 8537 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T11:35:14.359+01:00  INFO 8537 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T11:35:14.391+01:00  INFO 8537 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2024-12-05T11:35:14.703+01:00  INFO 8537 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T11:35:14.716+01:00  INFO 8537 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T11:35:14.716+01:00  INFO 8537 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T11:35:14.752+01:00  INFO 8537 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T11:35:14.753+01:00  INFO 8537 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 690 ms
2024-12-05T11:35:14.834+01:00  INFO 8537 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T11:35:14.865+01:00  INFO 8537 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T11:35:14.882+01:00  INFO 8537 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T11:35:15.023+01:00  INFO 8537 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T11:35:15.038+01:00  INFO 8537 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T11:35:15.095+01:00  INFO 8537 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4fad51a3
2024-12-05T11:35:15.096+01:00  INFO 8537 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T11:35:15.516+01:00  INFO 8537 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T11:35:15.576+01:00  INFO 8537 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:35:15.713+01:00  INFO 8537 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T11:35:15.881+01:00  WARN 8537 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T11:35:15.894+01:00  WARN 8537 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T11:35:15.968+01:00 DEBUG 8537 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T11:35:15.995+01:00 DEBUG 8537 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T11:35:16.012+01:00 DEBUG 8537 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T11:35:16.046+01:00 DEBUG 8537 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T11:35:16.046+01:00 DEBUG 8537 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T11:35:16.047+01:00 DEBUG 8537 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T11:35:16.078+01:00 DEBUG 8537 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T11:35:16.098+01:00 DEBUG 8537 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T11:35:16.159+01:00  INFO 8537 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T11:35:16.160+01:00 DEBUG 8537 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:35:16.160+01:00 DEBUG 8537 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:35:16.160+01:00  INFO 8537 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T11:35:16.161+01:00 DEBUG 8537 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19598b38]
2024-12-05T11:35:16.161+01:00 DEBUG 8537 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19598b38]
2024-12-05T11:35:16.161+01:00  INFO 8537 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19598b38]]
2024-12-05T11:35:16.161+01:00  INFO 8537 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T11:35:16.161+01:00 DEBUG 8537 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:35:16.161+01:00 DEBUG 8537 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:35:16.166+01:00  INFO 8537 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.368 seconds (process running for 2.515)
2024-12-05T11:36:07.636+01:00  INFO 8537 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T11:36:07.636+01:00  INFO 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T11:36:07.636+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T11:36:07.637+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T11:36:07.637+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T11:36:07.638+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@57e9cd2
2024-12-05T11:36:07.638+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3d5009c0
2024-12-05T11:36:07.638+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T11:36:07.638+01:00  INFO 8537 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T11:36:07.679+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-05T11:36:07.681+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T11:36:07.702+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T11:36:07.704+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 11:36:07 CET 2024, status=401, error=Unauthorized, path=/api/login}]
2024-12-05T11:36:07.725+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 401
2024-12-05T11:36:16.168+01:00  INFO 8537 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T11:48:25.619+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-05T11:48:25.620+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T11:48:25.622+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-05T11:48:25.622+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 11:48:25 CET 2024, status=401, error=Unauthorized, path=/api/login}]
2024-12-05T11:48:25.624+01:00 DEBUG 8537 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 401
2024-12-05T11:58:12.967+01:00 DEBUG 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:58:12.970+01:00 DEBUG 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:58:12.970+01:00  INFO 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T11:58:12.971+01:00  INFO 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19598b38]]
2024-12-05T11:58:12.971+01:00 DEBUG 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19598b38]
2024-12-05T11:58:12.971+01:00 DEBUG 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@19598b38]
2024-12-05T11:58:12.971+01:00  INFO 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T11:58:12.971+01:00 DEBUG 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:58:12.971+01:00 DEBUG 8537 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:58:12.986+01:00  INFO 8537 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:58:12.990+01:00  INFO 8537 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T11:58:12.992+01:00  INFO 8537 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T11:58:22.052+01:00  INFO 23427 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 23427 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T11:58:22.053+01:00  INFO 23427 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T11:58:22.349+01:00  INFO 23427 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T11:58:22.378+01:00  INFO 23427 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T11:58:22.661+01:00  INFO 23427 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T11:58:22.672+01:00  INFO 23427 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T11:58:22.673+01:00  INFO 23427 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T11:58:22.707+01:00  INFO 23427 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T11:58:22.707+01:00  INFO 23427 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 629 ms
2024-12-05T11:58:22.781+01:00  INFO 23427 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T11:58:22.810+01:00  INFO 23427 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T11:58:22.827+01:00  INFO 23427 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T11:58:22.968+01:00  INFO 23427 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T11:58:22.984+01:00  INFO 23427 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T11:58:23.040+01:00  INFO 23427 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@50ff7063
2024-12-05T11:58:23.041+01:00  INFO 23427 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T11:58:23.475+01:00  INFO 23427 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T11:58:23.547+01:00  INFO 23427 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T11:58:23.681+01:00  INFO 23427 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T11:58:23.844+01:00  WARN 23427 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T11:58:23.857+01:00  WARN 23427 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T11:58:23.879+01:00  INFO 23427 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T11:58:23.931+01:00 DEBUG 23427 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T11:58:23.959+01:00 DEBUG 23427 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T11:58:23.976+01:00 DEBUG 23427 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T11:58:24.011+01:00 DEBUG 23427 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T11:58:24.011+01:00 DEBUG 23427 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T11:58:24.012+01:00 DEBUG 23427 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T11:58:24.043+01:00 DEBUG 23427 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T11:58:24.063+01:00 DEBUG 23427 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T11:58:24.124+01:00  INFO 23427 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T11:58:24.125+01:00 DEBUG 23427 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T11:58:24.125+01:00 DEBUG 23427 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T11:58:24.125+01:00  INFO 23427 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T11:58:24.125+01:00 DEBUG 23427 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@80347b2]
2024-12-05T11:58:24.125+01:00 DEBUG 23427 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@80347b2]
2024-12-05T11:58:24.125+01:00  INFO 23427 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@80347b2]]
2024-12-05T11:58:24.125+01:00  INFO 23427 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T11:58:24.125+01:00 DEBUG 23427 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:58:24.125+01:00 DEBUG 23427 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T11:58:24.130+01:00  INFO 23427 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.262 seconds (process running for 2.413)
2024-12-05T11:59:24.125+01:00  INFO 23427 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T12:01:28.874+01:00 DEBUG 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:01:28.874+01:00 DEBUG 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:01:28.874+01:00  INFO 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T12:01:28.875+01:00  INFO 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@80347b2]]
2024-12-05T12:01:28.875+01:00 DEBUG 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@80347b2]
2024-12-05T12:01:28.875+01:00 DEBUG 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@80347b2]
2024-12-05T12:01:28.875+01:00  INFO 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T12:01:28.875+01:00 DEBUG 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:01:28.875+01:00 DEBUG 23427 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:01:28.888+01:00  INFO 23427 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:01:28.891+01:00  INFO 23427 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T12:01:28.894+01:00  INFO 23427 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T12:01:37.686+01:00  INFO 25507 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 25507 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T12:01:37.688+01:00  INFO 25507 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T12:01:37.977+01:00  INFO 25507 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T12:01:38.006+01:00  INFO 25507 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2024-12-05T12:01:38.283+01:00  INFO 25507 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T12:01:38.295+01:00  INFO 25507 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T12:01:38.296+01:00  INFO 25507 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T12:01:38.332+01:00  INFO 25507 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T12:01:38.333+01:00  INFO 25507 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 622 ms
2024-12-05T12:01:38.406+01:00  INFO 25507 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T12:01:38.435+01:00  INFO 25507 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T12:01:38.451+01:00  INFO 25507 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T12:01:38.585+01:00  INFO 25507 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T12:01:38.601+01:00  INFO 25507 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T12:01:38.655+01:00  INFO 25507 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4abbe41c
2024-12-05T12:01:38.655+01:00  INFO 25507 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T12:01:39.082+01:00  INFO 25507 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T12:01:39.142+01:00  INFO 25507 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:01:39.300+01:00  INFO 25507 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T12:01:39.497+01:00  WARN 25507 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T12:01:39.510+01:00  WARN 25507 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T12:01:39.533+01:00  INFO 25507 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T12:01:39.585+01:00 DEBUG 25507 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T12:01:39.612+01:00 DEBUG 25507 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T12:01:39.630+01:00 DEBUG 25507 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T12:01:39.664+01:00 DEBUG 25507 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T12:01:39.664+01:00 DEBUG 25507 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T12:01:39.665+01:00 DEBUG 25507 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T12:01:39.696+01:00 DEBUG 25507 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T12:01:39.714+01:00 DEBUG 25507 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T12:01:39.776+01:00  INFO 25507 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T12:01:39.777+01:00 DEBUG 25507 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:01:39.777+01:00 DEBUG 25507 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:01:39.777+01:00  INFO 25507 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T12:01:39.777+01:00 DEBUG 25507 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45aa02de]
2024-12-05T12:01:39.777+01:00 DEBUG 25507 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45aa02de]
2024-12-05T12:01:39.777+01:00  INFO 25507 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45aa02de]]
2024-12-05T12:01:39.777+01:00  INFO 25507 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T12:01:39.778+01:00 DEBUG 25507 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:01:39.778+01:00 DEBUG 25507 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:01:39.782+01:00  INFO 25507 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.269 seconds (process running for 2.411)
2024-12-05T12:02:39.775+01:00  INFO 25507 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T12:09:39.831+01:00 DEBUG 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:09:39.834+01:00 DEBUG 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:09:39.834+01:00  INFO 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T12:09:39.834+01:00  INFO 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45aa02de]]
2024-12-05T12:09:39.835+01:00 DEBUG 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45aa02de]
2024-12-05T12:09:39.835+01:00 DEBUG 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@45aa02de]
2024-12-05T12:09:39.835+01:00  INFO 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T12:09:39.835+01:00 DEBUG 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:09:39.835+01:00 DEBUG 25507 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:09:39.851+01:00  INFO 25507 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:09:39.855+01:00  INFO 25507 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T12:09:39.857+01:00  INFO 25507 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T12:09:46.855+01:00  INFO 30815 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 30815 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T12:09:46.856+01:00  INFO 30815 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T12:09:47.153+01:00  INFO 30815 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T12:09:47.182+01:00  INFO 30815 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T12:09:47.462+01:00  INFO 30815 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T12:09:47.474+01:00  INFO 30815 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T12:09:47.474+01:00  INFO 30815 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T12:09:47.509+01:00  INFO 30815 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T12:09:47.510+01:00  INFO 30815 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 631 ms
2024-12-05T12:09:47.583+01:00  INFO 30815 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T12:09:47.611+01:00  INFO 30815 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T12:09:47.626+01:00  INFO 30815 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T12:09:47.760+01:00  INFO 30815 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T12:09:47.777+01:00  INFO 30815 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T12:09:47.829+01:00  INFO 30815 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@619c3546
2024-12-05T12:09:47.830+01:00  INFO 30815 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T12:09:48.249+01:00  INFO 30815 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T12:09:48.316+01:00  INFO 30815 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:09:48.450+01:00  INFO 30815 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T12:09:48.614+01:00  WARN 30815 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T12:09:48.628+01:00  WARN 30815 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T12:09:48.649+01:00  INFO 30815 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T12:09:48.701+01:00 DEBUG 30815 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T12:09:48.728+01:00 DEBUG 30815 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T12:09:48.745+01:00 DEBUG 30815 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T12:09:48.779+01:00 DEBUG 30815 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T12:09:48.780+01:00 DEBUG 30815 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T12:09:48.780+01:00 DEBUG 30815 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T12:09:48.810+01:00 DEBUG 30815 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T12:09:48.830+01:00 DEBUG 30815 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T12:09:48.888+01:00  INFO 30815 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T12:09:48.889+01:00 DEBUG 30815 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:09:48.889+01:00 DEBUG 30815 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:09:48.889+01:00  INFO 30815 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T12:09:48.889+01:00 DEBUG 30815 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:09:48.889+01:00 DEBUG 30815 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:09:48.890+01:00  INFO 30815 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]]
2024-12-05T12:09:48.890+01:00  INFO 30815 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T12:09:48.890+01:00 DEBUG 30815 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:09:48.890+01:00 DEBUG 30815 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:09:48.894+01:00  INFO 30815 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.211 seconds (process running for 2.354)
2024-12-05T12:10:48.895+01:00  INFO 30815 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T12:16:25.793+01:00 DEBUG 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:16:25.795+01:00 DEBUG 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:16:25.795+01:00  INFO 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T12:16:25.795+01:00  INFO 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]]
2024-12-05T12:16:25.795+01:00 DEBUG 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:16:25.795+01:00 DEBUG 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:16:25.795+01:00  INFO 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T12:16:25.795+01:00 DEBUG 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:16:25.795+01:00 DEBUG 30815 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:16:25.814+01:00  INFO 30815 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:16:25.817+01:00  INFO 30815 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T12:16:25.819+01:00  INFO 30815 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T12:16:32.977+01:00  INFO 35085 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 35085 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T12:16:32.978+01:00  INFO 35085 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T12:16:33.260+01:00  INFO 35085 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T12:16:33.288+01:00  INFO 35085 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T12:16:33.569+01:00  INFO 35085 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T12:16:33.575+01:00  INFO 35085 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T12:16:33.575+01:00  INFO 35085 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T12:16:33.610+01:00  INFO 35085 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T12:16:33.611+01:00  INFO 35085 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 609 ms
2024-12-05T12:16:33.684+01:00  INFO 35085 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T12:16:33.712+01:00  INFO 35085 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T12:16:33.729+01:00  INFO 35085 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T12:16:33.869+01:00  INFO 35085 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T12:16:33.887+01:00  INFO 35085 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T12:16:33.945+01:00  INFO 35085 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@619c3546
2024-12-05T12:16:33.945+01:00  INFO 35085 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T12:16:34.353+01:00  INFO 35085 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T12:16:34.413+01:00  INFO 35085 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:16:34.550+01:00  INFO 35085 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T12:16:34.713+01:00  WARN 35085 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T12:16:34.726+01:00  WARN 35085 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Found 2 UserDetailsService beans, with names [customUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-12-05T12:16:34.749+01:00  INFO 35085 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T12:16:34.802+01:00 DEBUG 35085 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T12:16:34.830+01:00 DEBUG 35085 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T12:16:34.847+01:00 DEBUG 35085 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T12:16:34.882+01:00 DEBUG 35085 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T12:16:34.882+01:00 DEBUG 35085 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T12:16:34.883+01:00 DEBUG 35085 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T12:16:34.915+01:00 DEBUG 35085 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T12:16:34.931+01:00 DEBUG 35085 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T12:16:34.998+01:00  INFO 35085 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T12:16:34.999+01:00 DEBUG 35085 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:16:34.999+01:00 DEBUG 35085 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:16:35.000+01:00  INFO 35085 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T12:16:35.000+01:00 DEBUG 35085 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:16:35.000+01:00 DEBUG 35085 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:16:35.000+01:00  INFO 35085 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]]
2024-12-05T12:16:35.000+01:00  INFO 35085 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T12:16:35.000+01:00 DEBUG 35085 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:16:35.000+01:00 DEBUG 35085 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:16:35.005+01:00  INFO 35085 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.204 seconds (process running for 2.346)
2024-12-05T12:17:34.999+01:00  INFO 35085 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T12:24:35.329+01:00 DEBUG 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:24:35.332+01:00 DEBUG 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:24:35.332+01:00  INFO 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T12:24:35.332+01:00  INFO 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]]
2024-12-05T12:24:35.332+01:00 DEBUG 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:24:35.332+01:00 DEBUG 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@943d0c2]
2024-12-05T12:24:35.332+01:00  INFO 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T12:24:35.332+01:00 DEBUG 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:24:35.332+01:00 DEBUG 35085 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:24:35.353+01:00  INFO 35085 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:24:35.359+01:00  INFO 35085 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T12:24:35.362+01:00  INFO 35085 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T12:24:46.137+01:00  INFO 40309 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 40309 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T12:24:46.138+01:00  INFO 40309 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T12:24:46.433+01:00  INFO 40309 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T12:24:46.462+01:00  INFO 40309 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2024-12-05T12:24:46.751+01:00  INFO 40309 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T12:24:46.759+01:00  INFO 40309 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T12:24:46.759+01:00  INFO 40309 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T12:24:46.797+01:00  INFO 40309 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T12:24:46.798+01:00  INFO 40309 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 637 ms
2024-12-05T12:24:46.875+01:00  INFO 40309 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T12:24:46.906+01:00  INFO 40309 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T12:24:46.926+01:00  INFO 40309 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T12:24:47.066+01:00  INFO 40309 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T12:24:47.082+01:00  INFO 40309 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T12:24:47.134+01:00  INFO 40309 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2af9a5ef
2024-12-05T12:24:47.135+01:00  INFO 40309 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T12:24:47.564+01:00  INFO 40309 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T12:24:47.649+01:00  INFO 40309 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T12:24:47.807+01:00  INFO 40309 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T12:24:47.981+01:00  WARN 40309 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T12:24:47.998+01:00  INFO 40309 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T12:24:48.020+01:00  INFO 40309 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T12:24:48.137+01:00 DEBUG 40309 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T12:24:48.164+01:00 DEBUG 40309 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T12:24:48.182+01:00 DEBUG 40309 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T12:24:48.215+01:00 DEBUG 40309 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T12:24:48.216+01:00 DEBUG 40309 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T12:24:48.216+01:00 DEBUG 40309 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T12:24:48.248+01:00 DEBUG 40309 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T12:24:48.268+01:00 DEBUG 40309 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T12:24:48.329+01:00  INFO 40309 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T12:24:48.329+01:00 DEBUG 40309 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T12:24:48.330+01:00 DEBUG 40309 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T12:24:48.330+01:00  INFO 40309 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T12:24:48.330+01:00 DEBUG 40309 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e29a7d]
2024-12-05T12:24:48.330+01:00 DEBUG 40309 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e29a7d]
2024-12-05T12:24:48.330+01:00  INFO 40309 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e29a7d]]
2024-12-05T12:24:48.330+01:00  INFO 40309 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T12:24:48.330+01:00 DEBUG 40309 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:24:48.330+01:00 DEBUG 40309 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T12:24:48.335+01:00  INFO 40309 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.371 seconds (process running for 2.514)
2024-12-05T12:25:11.117+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T12:25:11.118+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T12:25:11.118+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T12:25:11.118+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T12:25:11.118+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T12:25:11.119+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@61f2bf3a
2024-12-05T12:25:11.119+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2cf6dd4d
2024-12-05T12:25:11.119+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T12:25:11.119+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T12:25:11.135+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T12:25:11.213+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T12:25:11.217+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T12:25:11.218+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T12:25:11.225+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T12:25:11.236+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-05T12:25:11.236+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T12:25:11.237+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T12:25:48.336+01:00  INFO 40309 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T12:26:09.412+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T12:26:09.417+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T12:26:09.418+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T12:26:09.418+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T12:26:09.419+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T12:26:09.420+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T12:26:09.420+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T12:26:09.420+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T12:26:09.453+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T12:26:09.454+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6df605f
2024-12-05T12:26:09.455+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T12:26:09.458+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T12:26:09.458+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T12:26:09.461+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T12:26:09.461+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T12:26:09.462+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T12:26:09.462+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T12:26:09.462+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T12:26:09.462+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T12:26:09.464+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T12:26:09.465+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T12:26:09.465+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T12:26:09.465+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T12:26:09.465+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T12:26:09.468+01:00  INFO 40309 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T12:26:09.469+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T12:26:09.469+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T12:26:09.481+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T12:26:09.484+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T12:26:09.503+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29, uri=ws://localhost:8080/ws]
2024-12-05T12:26:09.511+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29
2024-12-05T12:26:09.520+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29
2024-12-05T12:26:09.530+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T12:26:09.530+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T12:26:09.532+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T12:28:43.183+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29, uri=ws://localhost:8080/ws]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1293) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1181) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T12:28:43.244+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1006, reason=null]
2024-12-05T12:28:43.244+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b62d2ab8-ee89-753e-10a7-48cfcbbbdf29
2024-12-05T12:28:43.246+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29
2024-12-05T12:28:43.249+01:00 DEBUG 40309 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29}], simpSessionId=b62d2ab8-ee89-753e-10a7-48cfcbbbdf29}]
2024-12-05T12:28:43.437+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T12:28:43.437+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6df605f
2024-12-05T12:28:43.437+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T12:28:43.438+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T12:28:43.439+01:00 DEBUG 40309 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6ecba1e0-f080-78a0-52b6-4c709b87200d, uri=ws://localhost:8080/ws]
2024-12-05T12:28:43.467+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6ecba1e0-f080-78a0-52b6-4c709b87200d
2024-12-05T12:28:43.472+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6ecba1e0-f080-78a0-52b6-4c709b87200d
2024-12-05T12:50:04.216+01:00  WARN 40309 --- [ycyw] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=21m16s941ms).
2024-12-05T13:39:55.847+01:00  WARN 40309 --- [ycyw] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49m21s620ms).
2024-12-05T13:48:02.731+01:00  WARN 40309 --- [ycyw] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m6s884ms).
2024-12-05T13:48:14.612+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6ecba1e0-f080-78a0-52b6-4c709b87200d, lookupDestination='/chat.sendMessage'
2024-12-05T13:48:14.626+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T13:48:14.675+01:00  INFO 40309 --- [ycyw] [clientInboundChannel-16] c.o.ycyw.controllers.ChatController      : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=qsdqdq, timestamp=2024-12-05T12:48:14.598, status=sent)
2024-12-05T13:48:14.676+01:00  INFO 40309 --- [ycyw] [clientInboundChannel-16] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T13:48:14.702+01:00 ERROR 40309 --- [ycyw] [clientInboundChannel-16] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T13:48:14.703+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T13:48:14.703+01:00 ERROR 40309 --- [ycyw] [clientInboundChannel-16] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T13:53:13.203+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T13:53:13.204+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=6ecba1e0-f080-78a0-52b6-4c709b87200d, uri=ws://localhost:8080/ws]
2024-12-05T13:53:13.205+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6ecba1e0-f080-78a0-52b6-4c709b87200d, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T13:53:13.205+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6ecba1e0-f080-78a0-52b6-4c709b87200d
2024-12-05T13:53:13.206+01:00 DEBUG 40309 --- [ycyw] [clientInboundChannel-20] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6ecba1e0-f080-78a0-52b6-4c709b87200d
2024-12-05T13:53:13.207+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T13:53:13.207+01:00  INFO 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T13:53:13.207+01:00  INFO 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e29a7d]]
2024-12-05T13:53:13.207+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e29a7d]
2024-12-05T13:53:13.207+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e29a7d]
2024-12-05T13:53:13.208+01:00  INFO 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T13:53:13.208+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T13:53:13.208+01:00 DEBUG 40309 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T13:53:13.216+01:00  INFO 40309 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T13:53:13.220+01:00  INFO 40309 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T13:53:13.223+01:00  INFO 40309 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T13:53:23.678+01:00  INFO 47614 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 47614 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T13:53:23.680+01:00  INFO 47614 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T13:53:23.985+01:00  INFO 47614 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T13:53:24.014+01:00  INFO 47614 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2024-12-05T13:53:24.323+01:00  INFO 47614 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T13:53:24.336+01:00  INFO 47614 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T13:53:24.337+01:00  INFO 47614 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T13:53:24.375+01:00  INFO 47614 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T13:53:24.375+01:00  INFO 47614 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 671 ms
2024-12-05T13:53:24.450+01:00  INFO 47614 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T13:53:24.482+01:00  INFO 47614 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T13:53:24.501+01:00  INFO 47614 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T13:53:24.645+01:00  INFO 47614 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T13:53:24.663+01:00  INFO 47614 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T13:53:24.721+01:00  INFO 47614 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2fc7fa6e
2024-12-05T13:53:24.721+01:00  INFO 47614 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T13:53:25.152+01:00  INFO 47614 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T13:53:25.217+01:00  INFO 47614 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T13:53:25.355+01:00  INFO 47614 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T13:53:25.517+01:00  WARN 47614 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T13:53:25.534+01:00  INFO 47614 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T13:53:25.557+01:00  INFO 47614 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T13:53:25.610+01:00 DEBUG 47614 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T13:53:25.638+01:00 DEBUG 47614 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T13:53:25.655+01:00 DEBUG 47614 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T13:53:25.690+01:00 DEBUG 47614 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T13:53:25.690+01:00 DEBUG 47614 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T13:53:25.691+01:00 DEBUG 47614 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T13:53:25.722+01:00 DEBUG 47614 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T13:53:25.738+01:00 DEBUG 47614 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T13:53:25.799+01:00  INFO 47614 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T13:53:25.800+01:00 DEBUG 47614 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T13:53:25.801+01:00 DEBUG 47614 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T13:53:25.801+01:00  INFO 47614 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T13:53:25.801+01:00 DEBUG 47614 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@138d85f8]
2024-12-05T13:53:25.801+01:00 DEBUG 47614 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@138d85f8]
2024-12-05T13:53:25.801+01:00  INFO 47614 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@138d85f8]]
2024-12-05T13:53:25.801+01:00  INFO 47614 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T13:53:25.801+01:00 DEBUG 47614 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T13:53:25.801+01:00 DEBUG 47614 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T13:53:25.806+01:00  INFO 47614 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.326 seconds (process running for 2.473)
2024-12-05T13:53:28.006+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T13:53:28.007+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T13:53:28.007+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T13:53:28.007+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T13:53:28.007+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T13:53:28.008+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@64a0ee65
2024-12-05T13:53:28.008+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a8eed58
2024-12-05T13:53:28.008+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T13:53:28.008+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T13:53:28.028+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T13:53:28.029+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@12ef7db5
2024-12-05T13:53:28.032+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T13:53:28.043+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T13:53:28.049+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=72e9c55b-3e64-128c-0372-02fd399ce68a, uri=ws://localhost:8080/ws]
2024-12-05T13:53:28.055+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=72e9c55b-3e64-128c-0372-02fd399ce68a
2024-12-05T13:53:28.061+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=72e9c55b-3e64-128c-0372-02fd399ce68a
2024-12-05T13:54:05.557+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=72e9c55b-3e64-128c-0372-02fd399ce68a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T13:54:05.558+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 72e9c55b-3e64-128c-0372-02fd399ce68a
2024-12-05T13:54:05.560+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=72e9c55b-3e64-128c-0372-02fd399ce68a
2024-12-05T13:54:05.565+01:00 DEBUG 47614 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=72e9c55b-3e64-128c-0372-02fd399ce68a}], simpSessionId=72e9c55b-3e64-128c-0372-02fd399ce68a}]
2024-12-05T13:54:05.792+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T13:54:05.792+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@12ef7db5
2024-12-05T13:54:05.793+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T13:54:05.794+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T13:54:05.806+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cddf995b-9386-225b-d0ef-80e72dbcc457, uri=ws://localhost:8080/ws]
2024-12-05T13:54:05.814+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=cddf995b-9386-225b-d0ef-80e72dbcc457
2024-12-05T13:54:05.823+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=cddf995b-9386-225b-d0ef-80e72dbcc457
2024-12-05T13:54:09.861+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cddf995b-9386-225b-d0ef-80e72dbcc457, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T13:54:09.861+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session cddf995b-9386-225b-d0ef-80e72dbcc457
2024-12-05T13:54:09.861+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=cddf995b-9386-225b-d0ef-80e72dbcc457
2024-12-05T13:54:09.861+01:00 DEBUG 47614 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cddf995b-9386-225b-d0ef-80e72dbcc457}], simpSessionId=cddf995b-9386-225b-d0ef-80e72dbcc457}]
2024-12-05T13:54:25.800+01:00  INFO 47614 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T13:54:49.199+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T13:54:49.279+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T13:54:49.281+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T13:54:49.281+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T13:54:49.287+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T13:54:49.295+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T13:54:49.295+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T13:54:49.296+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T13:54:49.320+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T13:54:49.323+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T13:54:49.323+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@12ef7db5
2024-12-05T13:54:49.324+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T13:54:49.325+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T13:54:49.325+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T13:54:49.329+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b5a25815-2b6b-1b5b-dead-6327321e5590, uri=ws://localhost:8080/ws]
2024-12-05T13:54:49.332+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T13:54:49.333+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T13:54:49.333+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b5a25815-2b6b-1b5b-dead-6327321e5590
2024-12-05T13:54:49.334+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T13:54:49.338+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T13:54:49.338+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T13:54:49.361+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T13:54:49.363+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T13:54:49.363+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T13:54:49.363+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T13:54:49.364+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T13:54:49.364+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T13:54:49.366+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b5a25815-2b6b-1b5b-dead-6327321e5590
2024-12-05T13:54:49.366+01:00  INFO 47614 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T13:54:49.367+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T13:54:49.368+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T13:54:49.382+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T13:54:49.387+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T13:54:49.387+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T13:54:49.388+01:00 DEBUG 47614 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:02:13.356+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:02:13.358+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=b5a25815-2b6b-1b5b-dead-6327321e5590, uri=ws://localhost:8080/ws]
2024-12-05T14:02:13.359+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b5a25815-2b6b-1b5b-dead-6327321e5590, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:02:13.359+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b5a25815-2b6b-1b5b-dead-6327321e5590
2024-12-05T14:02:13.360+01:00 DEBUG 47614 --- [ycyw] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b5a25815-2b6b-1b5b-dead-6327321e5590
2024-12-05T14:02:13.360+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:02:13.360+01:00  INFO 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T14:02:13.360+01:00  INFO 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@138d85f8]]
2024-12-05T14:02:13.360+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@138d85f8]
2024-12-05T14:02:13.360+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@138d85f8]
2024-12-05T14:02:13.361+01:00  INFO 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T14:02:13.361+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:02:13.361+01:00 DEBUG 47614 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:02:13.373+01:00  INFO 47614 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:02:13.375+01:00  INFO 47614 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T14:02:13.377+01:00  INFO 47614 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T14:02:21.400+01:00  INFO 53224 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 53224 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T14:02:21.401+01:00  INFO 53224 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T14:02:21.711+01:00  INFO 53224 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T14:02:21.740+01:00  INFO 53224 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2024-12-05T14:02:22.048+01:00  INFO 53224 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T14:02:22.059+01:00  INFO 53224 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T14:02:22.059+01:00  INFO 53224 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T14:02:22.094+01:00  INFO 53224 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T14:02:22.094+01:00  INFO 53224 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 669 ms
2024-12-05T14:02:22.169+01:00  INFO 53224 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T14:02:22.198+01:00  INFO 53224 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T14:02:22.214+01:00  INFO 53224 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T14:02:22.357+01:00  INFO 53224 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T14:02:22.373+01:00  INFO 53224 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T14:02:22.426+01:00  INFO 53224 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f0a4e30
2024-12-05T14:02:22.426+01:00  INFO 53224 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T14:02:22.857+01:00  INFO 53224 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T14:02:22.921+01:00  INFO 53224 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:02:23.055+01:00  INFO 53224 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T14:02:23.220+01:00  WARN 53224 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T14:02:23.236+01:00  INFO 53224 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T14:02:23.258+01:00  INFO 53224 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T14:02:23.309+01:00 DEBUG 53224 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T14:02:23.336+01:00 DEBUG 53224 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T14:02:23.353+01:00 DEBUG 53224 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T14:02:23.386+01:00 DEBUG 53224 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T14:02:23.387+01:00 DEBUG 53224 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T14:02:23.387+01:00 DEBUG 53224 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T14:02:23.418+01:00 DEBUG 53224 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T14:02:23.437+01:00 DEBUG 53224 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T14:02:23.497+01:00  INFO 53224 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T14:02:23.498+01:00 DEBUG 53224 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:02:23.498+01:00 DEBUG 53224 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:02:23.498+01:00  INFO 53224 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T14:02:23.498+01:00 DEBUG 53224 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:02:23.498+01:00 DEBUG 53224 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:02:23.498+01:00  INFO 53224 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]]
2024-12-05T14:02:23.499+01:00  INFO 53224 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T14:02:23.499+01:00 DEBUG 53224 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:02:23.499+01:00 DEBUG 53224 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:02:23.503+01:00  INFO 53224 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.287 seconds (process running for 2.458)
2024-12-05T14:02:25.742+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T14:02:25.743+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T14:02:25.743+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T14:02:25.743+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T14:02:25.743+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T14:02:25.743+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a648b35
2024-12-05T14:02:25.744+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6acdca3a
2024-12-05T14:02:25.744+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T14:02:25.744+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T14:02:25.760+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:02:25.761+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:02:25.764+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:02:25.774+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:02:25.779+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=a0488026-4070-ffe3-8935-1108445919ec, uri=ws://localhost:8080/ws]
2024-12-05T14:02:25.786+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=a0488026-4070-ffe3-8935-1108445919ec
2024-12-05T14:02:25.793+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=a0488026-4070-ffe3-8935-1108445919ec
2024-12-05T14:02:43.249+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=a0488026-4070-ffe3-8935-1108445919ec, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:02:43.250+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session a0488026-4070-ffe3-8935-1108445919ec
2024-12-05T14:02:43.252+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=a0488026-4070-ffe3-8935-1108445919ec
2024-12-05T14:02:43.253+01:00 DEBUG 53224 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=a0488026-4070-ffe3-8935-1108445919ec}], simpSessionId=a0488026-4070-ffe3-8935-1108445919ec}]
2024-12-05T14:02:43.416+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:02:43.416+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:02:43.416+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:02:43.417+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:02:43.418+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=fb54e3f5-be94-6c36-1bd4-b4e921e08b42, uri=ws://localhost:8080/ws]
2024-12-05T14:02:43.442+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=fb54e3f5-be94-6c36-1bd4-b4e921e08b42
2024-12-05T14:02:43.450+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=fb54e3f5-be94-6c36-1bd4-b4e921e08b42
2024-12-05T14:02:47.635+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=fb54e3f5-be94-6c36-1bd4-b4e921e08b42, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:02:47.635+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session fb54e3f5-be94-6c36-1bd4-b4e921e08b42
2024-12-05T14:02:47.636+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=fb54e3f5-be94-6c36-1bd4-b4e921e08b42
2024-12-05T14:02:47.636+01:00 DEBUG 53224 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fb54e3f5-be94-6c36-1bd4-b4e921e08b42}], simpSessionId=fb54e3f5-be94-6c36-1bd4-b4e921e08b42}]
2024-12-05T14:03:23.504+01:00  INFO 53224 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T14:03:49.063+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:03:49.153+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:03:49.155+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:03:49.155+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:03:49.161+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:03:49.169+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:03:49.169+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:03:49.169+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:03:49.195+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:03:49.196+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:03:49.200+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:03:49.200+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:03:49.201+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:03:49.210+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:03:49.201+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=1baa08a9-2795-f903-da9a-ee3f657e6d91, uri=ws://localhost:8080/ws]
2024-12-05T14:03:49.216+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:03:49.219+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:03:49.220+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:03:49.221+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:03:49.221+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:03:49.222+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=1baa08a9-2795-f903-da9a-ee3f657e6d91
2024-12-05T14:03:49.229+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:03:49.230+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:03:49.230+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:03:49.230+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:03:49.230+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:03:49.230+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:03:49.231+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=1baa08a9-2795-f903-da9a-ee3f657e6d91
2024-12-05T14:03:49.234+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:03:49.236+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:03:49.236+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:03:49.252+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:03:49.254+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:03:49.254+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T14:03:49.255+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:06:10.194+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-23] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=1baa08a9-2795-f903-da9a-ee3f657e6d91, lookupDestination='/chat.sendMessage'
2024-12-05T14:06:10.199+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-23] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T14:06:10.244+01:00  INFO 53224 --- [ycyw] [clientInboundChannel-23] c.o.ycyw.controllers.ChatController      : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=ssssss, timestamp=2024-12-05T13:06:10.187, status=sent)
2024-12-05T14:06:10.245+01:00  INFO 53224 --- [ycyw] [clientInboundChannel-23] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T14:06:10.297+01:00  INFO 53224 --- [ycyw] [clientInboundChannel-23] c.o.ycyw.controllers.ChatController      : Saved chat: Chat(id=2, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=ssssss, timestamp=2024-12-05T13:06:10.187, status=sent)
2024-12-05T14:06:10.297+01:00  INFO 53224 --- [ycyw] [clientInboundChannel-23] c.o.ycyw.controllers.ChatController      : Sending message: ChatDTO(id=2, senderId=2, conversationId=1, content=ssssss, timestamp=2024-12-05T13:06:10.187, status=sent)
2024-12-05T14:06:10.302+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=1baa08a9-2795-f903-da9a-ee3f657e6d91 payload={"id":2,"senderId":2,"conversationId":1,"content":"ssssss","timestamp":"2024-12-...(truncated)
2024-12-05T14:06:10.303+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-23] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T14:16:24.679+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=1baa08a9-2795-f903-da9a-ee3f657e6d91, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:16:24.681+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 1baa08a9-2795-f903-da9a-ee3f657e6d91
2024-12-05T14:16:24.685+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-27] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=1baa08a9-2795-f903-da9a-ee3f657e6d91
2024-12-05T14:16:24.711+01:00 DEBUG 53224 --- [ycyw] [clientOutboundChannel-7] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=1baa08a9-2795-f903-da9a-ee3f657e6d91}], simpSessionId=1baa08a9-2795-f903-da9a-ee3f657e6d91}]
2024-12-05T14:16:24.842+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:16:24.848+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:16:24.848+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:16:24.849+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:16:24.852+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6d9b42ce-10b2-b283-3c79-165d800afee1, uri=ws://localhost:8080/ws]
2024-12-05T14:16:24.891+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-30] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6d9b42ce-10b2-b283-3c79-165d800afee1
2024-12-05T14:16:24.897+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-33] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6d9b42ce-10b2-b283-3c79-165d800afee1
2024-12-05T14:16:39.397+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-35] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6d9b42ce-10b2-b283-3c79-165d800afee1, lookupDestination='/chat.sendMessage'
2024-12-05T14:16:39.400+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-35] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T14:16:39.405+01:00  INFO 53224 --- [ycyw] [clientInboundChannel-35] c.o.ycyw.controllers.ChatController      : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=dddddd, timestamp=2024-12-05T13:16:39.392, status=sent)
2024-12-05T14:16:39.405+01:00  INFO 53224 --- [ycyw] [clientInboundChannel-35] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T14:16:39.419+01:00 ERROR 53224 --- [ycyw] [clientInboundChannel-35] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T14:16:39.420+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-35] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T14:16:39.423+01:00 ERROR 53224 --- [ycyw] [clientInboundChannel-35] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:17:44.844+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:17:44.854+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:17:44.856+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:17:44.856+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:17:44.857+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:17:44.858+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:17:44.858+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:17:44.859+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:17:44.881+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-39] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-1 session=6d9b42ce-10b2-b283-3c79-165d800afee1
2024-12-05T14:17:44.881+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:17:44.882+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:17:44.884+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:17:44.884+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:17:44.884+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:17:44.884+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:17:44.884+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:17:44.886+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:17:44.886+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:17:44.886+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:17:44.887+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:17:44.906+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream
2024-12-05T14:17:44.906+01:00 ERROR 53224 --- [ycyw] [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream] with root cause

org.postgresql.util.PSQLException: Les Large Objects ne devraient pas être utilisés en mode auto-commit.
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:244) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:230) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:288) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:127) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgClob.getCharacterStream(PgClob.java:76) ~[postgresql-42.7.4.jar:42.7.4]
	at org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:263) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:108) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:27) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.ClobJdbcType$1.doExtract(ClobJdbcType.java:62) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:379) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:120) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1038) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:795) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:770) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:762) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:73) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:113) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:205) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:555) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:169) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.15.jar:6.1.15]
	at jdk.proxy2/jdk.proxy2.$Proxy134.findFirstBySenderIdOrderByTimestampDesc(Unknown Source) ~[na:na]
	at com.openclassrooms.ycyw.services.ChatService.getOrCreateConversationIdByUserId(ChatService.java:24) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.UserController.getConversationId(UserController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:17:44.913+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2024-12-05T14:17:44.913+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T14:17:44.921+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:17:44.922+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 14:17:44 CET 2024, status=500, error=Internal Server Error, path=/api/conversa (truncated)...]
2024-12-05T14:17:44.928+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-05T14:18:40.243+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6d9b42ce-10b2-b283-3c79-165d800afee1, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:18:40.246+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6d9b42ce-10b2-b283-3c79-165d800afee1
2024-12-05T14:18:40.247+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-42] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6d9b42ce-10b2-b283-3c79-165d800afee1
2024-12-05T14:18:40.249+01:00 DEBUG 53224 --- [ycyw] [clientOutboundChannel-9] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=6d9b42ce-10b2-b283-3c79-165d800afee1}], simpSessionId=6d9b42ce-10b2-b283-3c79-165d800afee1}]
2024-12-05T14:19:16.778+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xf80x850xc80xca0x85<0xbb0x030xffXaP0xda0x110xf40xec7#W[%J0xcf0xcd0xa70x0e0xec[0xafB0xddk ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:406) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:270) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:20:31.542+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:20:31.557+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:20:31.558+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:20:31.558+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:20:31.559+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:20:31.560+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:20:31.560+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:20:31.561+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:20:31.587+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:20:31.591+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:20:31.591+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:20:31.592+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:20:31.596+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:20:31.597+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=98786a9e-37b3-c6d5-ee2d-54be7952a67d, uri=ws://localhost:8080/ws]
2024-12-05T14:20:31.600+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:20:31.600+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:20:31.601+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:20:31.602+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-45] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=98786a9e-37b3-c6d5-ee2d-54be7952a67d
2024-12-05T14:20:31.602+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:20:31.602+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:20:31.602+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:20:31.603+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:20:31.604+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:20:31.605+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:20:31.606+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:20:31.606+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:20:31.606+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:20:31.606+01:00  INFO 53224 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:20:31.607+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:20:31.607+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:20:31.610+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:20:31.610+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-48] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=98786a9e-37b3-c6d5-ee2d-54be7952a67d
2024-12-05T14:20:31.614+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream
2024-12-05T14:20:31.614+01:00 ERROR 53224 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream] with root cause

org.postgresql.util.PSQLException: Les Large Objects ne devraient pas être utilisés en mode auto-commit.
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:244) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:230) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:288) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:127) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgClob.getCharacterStream(PgClob.java:76) ~[postgresql-42.7.4.jar:42.7.4]
	at org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:263) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:108) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:27) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.ClobJdbcType$1.doExtract(ClobJdbcType.java:62) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:379) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:120) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1038) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:795) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:770) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:762) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:73) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:113) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:205) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:555) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:169) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.15.jar:6.1.15]
	at jdk.proxy2/jdk.proxy2.$Proxy134.findFirstBySenderIdOrderByTimestampDesc(Unknown Source) ~[na:na]
	at com.openclassrooms.ycyw.services.ChatService.getOrCreateConversationIdByUserId(ChatService.java:24) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.UserController.getConversationId(UserController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:20:31.618+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2024-12-05T14:20:31.618+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T14:20:31.618+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:20:31.618+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 14:20:31 CET 2024, status=500, error=Internal Server Error, path=/api/conversa (truncated)...]
2024-12-05T14:20:31.619+01:00 DEBUG 53224 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-05T14:21:08.019+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:21:08.020+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=98786a9e-37b3-c6d5-ee2d-54be7952a67d, uri=ws://localhost:8080/ws]
2024-12-05T14:21:08.021+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=98786a9e-37b3-c6d5-ee2d-54be7952a67d, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:21:08.021+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 98786a9e-37b3-c6d5-ee2d-54be7952a67d
2024-12-05T14:21:08.021+01:00 DEBUG 53224 --- [ycyw] [clientInboundChannel-51] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=98786a9e-37b3-c6d5-ee2d-54be7952a67d
2024-12-05T14:21:08.021+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:21:08.021+01:00  INFO 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T14:21:08.021+01:00  INFO 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]]
2024-12-05T14:21:08.022+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:21:08.022+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:21:08.022+01:00  INFO 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T14:21:08.022+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:21:08.022+01:00 DEBUG 53224 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:21:08.032+01:00  INFO 53224 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:21:08.036+01:00  INFO 53224 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T14:21:08.038+01:00  INFO 53224 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T14:21:17.645+01:00  INFO 65931 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 65931 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T14:21:17.646+01:00  INFO 65931 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T14:21:17.977+01:00  INFO 65931 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T14:21:18.008+01:00  INFO 65931 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2024-12-05T14:21:18.338+01:00  INFO 65931 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T14:21:18.347+01:00  INFO 65931 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T14:21:18.347+01:00  INFO 65931 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T14:21:18.393+01:00  INFO 65931 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T14:21:18.393+01:00  INFO 65931 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 721 ms
2024-12-05T14:21:18.482+01:00  INFO 65931 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T14:21:18.518+01:00  INFO 65931 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T14:21:18.539+01:00  INFO 65931 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T14:21:18.706+01:00  INFO 65931 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T14:21:18.726+01:00  INFO 65931 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T14:21:18.799+01:00  INFO 65931 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4fad51a3
2024-12-05T14:21:18.800+01:00  INFO 65931 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T14:21:19.269+01:00  INFO 65931 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T14:21:19.335+01:00  INFO 65931 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:21:19.481+01:00  INFO 65931 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T14:21:19.660+01:00  WARN 65931 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T14:21:19.678+01:00  INFO 65931 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T14:21:19.703+01:00  INFO 65931 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T14:21:19.758+01:00 DEBUG 65931 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T14:21:19.789+01:00 DEBUG 65931 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T14:21:19.808+01:00 DEBUG 65931 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T14:21:19.843+01:00 DEBUG 65931 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T14:21:19.843+01:00 DEBUG 65931 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T14:21:19.844+01:00 DEBUG 65931 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T14:21:19.880+01:00 DEBUG 65931 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T14:21:19.896+01:00 DEBUG 65931 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T14:21:19.958+01:00  INFO 65931 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T14:21:19.959+01:00 DEBUG 65931 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:21:19.959+01:00 DEBUG 65931 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:21:19.960+01:00  INFO 65931 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T14:21:19.960+01:00 DEBUG 65931 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@8d0253b]
2024-12-05T14:21:19.960+01:00 DEBUG 65931 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@8d0253b]
2024-12-05T14:21:19.960+01:00  INFO 65931 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@8d0253b]]
2024-12-05T14:21:19.960+01:00  INFO 65931 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T14:21:19.960+01:00 DEBUG 65931 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:21:19.960+01:00 DEBUG 65931 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:21:19.965+01:00  INFO 65931 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.515 seconds (process running for 2.676)
2024-12-05T14:21:20.428+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T14:21:20.429+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T14:21:20.429+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T14:21:20.429+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T14:21:20.429+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T14:21:20.430+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@ab5954d
2024-12-05T14:21:20.430+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5eba0cc5
2024-12-05T14:21:20.430+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T14:21:20.430+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T14:21:20.447+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:21:20.448+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@78a46d7b
2024-12-05T14:21:20.451+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:21:20.467+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:21:20.473+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b34c1668-d1c3-ff54-d988-3be93a0ee7fc, uri=ws://localhost:8080/ws]
2024-12-05T14:21:20.479+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b34c1668-d1c3-ff54-d988-3be93a0ee7fc
2024-12-05T14:21:20.485+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b34c1668-d1c3-ff54-d988-3be93a0ee7fc
2024-12-05T14:21:33.105+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b34c1668-d1c3-ff54-d988-3be93a0ee7fc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:21:33.107+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b34c1668-d1c3-ff54-d988-3be93a0ee7fc
2024-12-05T14:21:33.109+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b34c1668-d1c3-ff54-d988-3be93a0ee7fc
2024-12-05T14:21:33.112+01:00 DEBUG 65931 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b34c1668-d1c3-ff54-d988-3be93a0ee7fc}], simpSessionId=b34c1668-d1c3-ff54-d988-3be93a0ee7fc}]
2024-12-05T14:21:33.408+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:21:33.408+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@78a46d7b
2024-12-05T14:21:33.408+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:21:33.409+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:21:33.410+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=da4697f6-035f-693c-6e92-e1d92ef1450c, uri=ws://localhost:8080/ws]
2024-12-05T14:21:33.412+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=da4697f6-035f-693c-6e92-e1d92ef1450c
2024-12-05T14:21:33.415+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=da4697f6-035f-693c-6e92-e1d92ef1450c
2024-12-05T14:21:36.706+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=da4697f6-035f-693c-6e92-e1d92ef1450c, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:21:36.707+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session da4697f6-035f-693c-6e92-e1d92ef1450c
2024-12-05T14:21:36.709+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=da4697f6-035f-693c-6e92-e1d92ef1450c
2024-12-05T14:21:36.710+01:00 DEBUG 65931 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=da4697f6-035f-693c-6e92-e1d92ef1450c}], simpSessionId=da4697f6-035f-693c-6e92-e1d92ef1450c}]
2024-12-05T14:21:36.822+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:21:36.823+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@78a46d7b
2024-12-05T14:21:36.823+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:21:36.823+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:21:36.824+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e8a0c5cb-4e84-334a-1236-6685414651bc, uri=ws://localhost:8080/ws]
2024-12-05T14:21:36.843+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e8a0c5cb-4e84-334a-1236-6685414651bc
2024-12-05T14:21:36.849+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e8a0c5cb-4e84-334a-1236-6685414651bc
2024-12-05T14:21:44.187+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e8a0c5cb-4e84-334a-1236-6685414651bc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:21:44.189+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e8a0c5cb-4e84-334a-1236-6685414651bc
2024-12-05T14:21:44.191+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e8a0c5cb-4e84-334a-1236-6685414651bc
2024-12-05T14:21:44.192+01:00 DEBUG 65931 --- [ycyw] [clientOutboundChannel-6] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e8a0c5cb-4e84-334a-1236-6685414651bc}], simpSessionId=e8a0c5cb-4e84-334a-1236-6685414651bc}]
2024-12-05T14:22:03.722+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:22:03.800+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:22:03.802+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:22:03.802+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:22:03.808+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:22:03.816+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:22:03.817+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:22:03.817+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:22:03.835+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:22:03.835+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@78a46d7b
2024-12-05T14:22:03.835+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:22:03.836+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:22:03.836+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:22:03.837+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=f5bac7d1-7839-54fc-843d-43c721b64030, uri=ws://localhost:8080/ws]
2024-12-05T14:22:03.841+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:22:03.842+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:22:03.842+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:22:03.842+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:22:03.842+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:22:03.842+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:22:03.842+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:22:03.843+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:22:03.845+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:22:03.845+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:22:03.845+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:22:03.845+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:22:03.845+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=f5bac7d1-7839-54fc-843d-43c721b64030
2024-12-05T14:22:03.847+01:00  INFO 65931 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:22:03.848+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:22:03.848+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=f5bac7d1-7839-54fc-843d-43c721b64030
2024-12-05T14:22:03.848+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:22:03.856+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:22:03.864+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream
2024-12-05T14:22:03.865+01:00 ERROR 65931 --- [ycyw] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream] with root cause

org.postgresql.util.PSQLException: Les Large Objects ne devraient pas être utilisés en mode auto-commit.
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:244) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:230) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:288) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:127) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgClob.getCharacterStream(PgClob.java:76) ~[postgresql-42.7.4.jar:42.7.4]
	at org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:263) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:108) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:27) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.ClobJdbcType$1.doExtract(ClobJdbcType.java:62) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:379) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:120) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1038) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:795) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:770) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:762) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:73) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:113) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:205) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:555) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:169) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.15.jar:6.1.15]
	at jdk.proxy2/jdk.proxy2.$Proxy134.findFirstBySenderIdOrderByTimestampDesc(Unknown Source) ~[na:na]
	at com.openclassrooms.ycyw.services.ChatService.getOrCreateConversationIdByUserId(ChatService.java:24) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.UserController.getConversationId(UserController.java:42) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:22:03.872+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2024-12-05T14:22:03.872+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T14:22:03.878+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:22:03.878+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 14:22:03 CET 2024, status=500, error=Internal Server Error, path=/api/conversa (truncated)...]
2024-12-05T14:22:03.887+01:00 DEBUG 65931 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-05T14:22:19.964+01:00  INFO 65931 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 33], outboundChannel[pool size = 7, active threads = 0, queued tasks = 0, completed tasks = 7], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T14:27:24.688+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:27:24.691+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=f5bac7d1-7839-54fc-843d-43c721b64030, uri=ws://localhost:8080/ws]
2024-12-05T14:27:24.693+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=f5bac7d1-7839-54fc-843d-43c721b64030, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:27:24.693+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session f5bac7d1-7839-54fc-843d-43c721b64030
2024-12-05T14:27:24.694+01:00 DEBUG 65931 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=f5bac7d1-7839-54fc-843d-43c721b64030
2024-12-05T14:27:24.695+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:27:24.695+01:00  INFO 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T14:27:24.695+01:00  INFO 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@8d0253b]]
2024-12-05T14:27:24.695+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@8d0253b]
2024-12-05T14:27:24.695+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@8d0253b]
2024-12-05T14:27:24.696+01:00  INFO 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T14:27:24.696+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:27:24.696+01:00 DEBUG 65931 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:27:24.711+01:00  INFO 65931 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:27:24.716+01:00  INFO 65931 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T14:27:24.718+01:00  INFO 65931 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T14:27:32.470+01:00  INFO 70008 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 70008 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T14:27:32.472+01:00  INFO 70008 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T14:27:32.753+01:00  INFO 70008 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T14:27:32.782+01:00  INFO 70008 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T14:27:33.066+01:00  INFO 70008 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T14:27:33.079+01:00  INFO 70008 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T14:27:33.079+01:00  INFO 70008 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T14:27:33.115+01:00  INFO 70008 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T14:27:33.115+01:00  INFO 70008 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 620 ms
2024-12-05T14:27:33.189+01:00  INFO 70008 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T14:27:33.217+01:00  INFO 70008 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T14:27:33.234+01:00  INFO 70008 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T14:27:33.368+01:00  INFO 70008 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T14:27:33.384+01:00  INFO 70008 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T14:27:33.438+01:00  INFO 70008 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f0a4e30
2024-12-05T14:27:33.439+01:00  INFO 70008 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T14:27:33.913+01:00  INFO 70008 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T14:27:33.983+01:00  INFO 70008 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:27:34.124+01:00  INFO 70008 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T14:27:34.307+01:00  WARN 70008 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T14:27:34.325+01:00  INFO 70008 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T14:27:34.347+01:00  INFO 70008 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T14:27:34.398+01:00 DEBUG 70008 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T14:27:34.425+01:00 DEBUG 70008 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T14:27:34.442+01:00 DEBUG 70008 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T14:27:34.477+01:00 DEBUG 70008 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T14:27:34.478+01:00 DEBUG 70008 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T14:27:34.478+01:00 DEBUG 70008 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T14:27:34.509+01:00 DEBUG 70008 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T14:27:34.528+01:00 DEBUG 70008 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T14:27:34.591+01:00  INFO 70008 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T14:27:34.592+01:00 DEBUG 70008 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:27:34.592+01:00 DEBUG 70008 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:27:34.592+01:00  INFO 70008 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T14:27:34.592+01:00 DEBUG 70008 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:27:34.592+01:00 DEBUG 70008 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:27:34.592+01:00  INFO 70008 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]]
2024-12-05T14:27:34.592+01:00  INFO 70008 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T14:27:34.592+01:00 DEBUG 70008 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:27:34.592+01:00 DEBUG 70008 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:27:34.597+01:00  INFO 70008 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.3 seconds (process running for 2.444)
2024-12-05T14:27:36.149+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T14:27:36.149+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T14:27:36.149+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T14:27:36.149+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T14:27:36.149+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T14:27:36.150+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a648b35
2024-12-05T14:27:36.151+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6acdca3a
2024-12-05T14:27:36.151+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T14:27:36.151+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T14:27:36.166+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:27:36.167+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:27:36.170+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:27:36.181+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:27:36.187+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=17c092e6-1285-5810-fb0d-b5cb4c44823a, uri=ws://localhost:8080/ws]
2024-12-05T14:27:36.194+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=17c092e6-1285-5810-fb0d-b5cb4c44823a
2024-12-05T14:27:36.199+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=17c092e6-1285-5810-fb0d-b5cb4c44823a
2024-12-05T14:27:48.162+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=17c092e6-1285-5810-fb0d-b5cb4c44823a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:27:48.166+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 17c092e6-1285-5810-fb0d-b5cb4c44823a
2024-12-05T14:27:48.170+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=17c092e6-1285-5810-fb0d-b5cb4c44823a
2024-12-05T14:27:48.173+01:00 DEBUG 70008 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=17c092e6-1285-5810-fb0d-b5cb4c44823a}], simpSessionId=17c092e6-1285-5810-fb0d-b5cb4c44823a}]
2024-12-05T14:27:48.392+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:27:48.392+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:27:48.392+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:27:48.393+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:27:48.393+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=7b0a4395-d6f7-ca69-3c1d-001d00726ab2, uri=ws://localhost:8080/ws]
2024-12-05T14:27:48.409+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=7b0a4395-d6f7-ca69-3c1d-001d00726ab2
2024-12-05T14:27:48.413+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=7b0a4395-d6f7-ca69-3c1d-001d00726ab2
2024-12-05T14:27:50.691+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=7b0a4395-d6f7-ca69-3c1d-001d00726ab2, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:27:50.704+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 7b0a4395-d6f7-ca69-3c1d-001d00726ab2
2024-12-05T14:27:50.721+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=7b0a4395-d6f7-ca69-3c1d-001d00726ab2
2024-12-05T14:27:50.722+01:00 DEBUG 70008 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=7b0a4395-d6f7-ca69-3c1d-001d00726ab2}], simpSessionId=7b0a4395-d6f7-ca69-3c1d-001d00726ab2}]
2024-12-05T14:28:09.672+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:28:09.761+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:28:09.763+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:28:09.763+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:28:09.769+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:28:09.776+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:28:09.776+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:28:09.777+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:28:09.787+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:28:09.788+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6179551b
2024-12-05T14:28:09.788+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:28:09.792+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:28:09.794+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c2ae93ca-11c8-1de6-1abd-4706d09d0f0f, uri=ws://localhost:8080/ws]
2024-12-05T14:28:09.795+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=c2ae93ca-11c8-1de6-1abd-4706d09d0f0f
2024-12-05T14:28:09.795+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:28:09.796+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:28:09.798+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=c2ae93ca-11c8-1de6-1abd-4706d09d0f0f
2024-12-05T14:28:09.798+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:28:09.798+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:28:09.798+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:28:09.799+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:28:09.799+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:28:09.799+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:28:09.800+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:28:09.801+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:28:09.801+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:28:09.801+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:28:09.801+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:28:09.801+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:28:09.802+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T14:28:09.802+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:28:09.802+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:28:09.803+01:00  INFO 70008 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:28:09.809+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:28:09.822+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream
2024-12-05T14:28:09.822+01:00 ERROR 70008 --- [ycyw] [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to access lob stream] with root cause

org.postgresql.util.PSQLException: Les Large Objects ne devraient pas être utilisés en mode auto-commit.
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:244) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.largeobject.LargeObjectManager.open(LargeObjectManager.java:230) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:288) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:127) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgClob.getCharacterStream(PgClob.java:76) ~[postgresql-42.7.4.jar:42.7.4]
	at org.hibernate.type.descriptor.java.DataHelper.extractString(DataHelper.java:263) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:108) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:27) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.ClobJdbcType$1.doExtract(ClobJdbcType.java:62) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:379) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:120) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:35) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1038) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:795) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:770) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:762) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:73) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:113) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:205) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:555) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:169) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136) ~[spring-data-jpa-3.3.6.jar:3.3.6]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.15.jar:6.1.15]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.15.jar:6.1.15]
	at jdk.proxy2/jdk.proxy2.$Proxy134.findFirstBySenderIdOrderByTimestampDesc(Unknown Source) ~[na:na]
	at com.openclassrooms.ycyw.services.ChatService.getOrCreateConversationIdByUserId(ChatService.java:24) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.UserController.getConversationId(UserController.java:44) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.33.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.5.jar:6.3.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.15.jar:6.1.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.15.jar:6.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:28:09.828+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2024-12-05T14:28:09.828+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T14:28:09.835+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:28:09.835+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 14:28:09 CET 2024, status=500, error=Internal Server Error, path=/api/conversa (truncated)...]
2024-12-05T14:28:09.844+01:00 DEBUG 70008 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-05T14:28:34.597+01:00  INFO 70008 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 24], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T14:32:10.508+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:32:10.511+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=c2ae93ca-11c8-1de6-1abd-4706d09d0f0f, uri=ws://localhost:8080/ws]
2024-12-05T14:32:10.513+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=c2ae93ca-11c8-1de6-1abd-4706d09d0f0f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:32:10.513+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session c2ae93ca-11c8-1de6-1abd-4706d09d0f0f
2024-12-05T14:32:10.514+01:00 DEBUG 70008 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=c2ae93ca-11c8-1de6-1abd-4706d09d0f0f
2024-12-05T14:32:10.514+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:32:10.514+01:00  INFO 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T14:32:10.514+01:00  INFO 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]]
2024-12-05T14:32:10.515+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:32:10.515+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@34438b38]
2024-12-05T14:32:10.515+01:00  INFO 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T14:32:10.515+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:32:10.515+01:00 DEBUG 70008 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:32:10.530+01:00  INFO 70008 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:32:10.535+01:00  INFO 70008 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T14:32:10.537+01:00  INFO 70008 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T14:32:17.499+01:00  INFO 73110 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 73110 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T14:32:17.501+01:00  INFO 73110 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T14:32:17.807+01:00  INFO 73110 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T14:32:17.837+01:00  INFO 73110 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2024-12-05T14:32:18.139+01:00  INFO 73110 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T14:32:18.146+01:00  INFO 73110 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T14:32:18.147+01:00  INFO 73110 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T14:32:18.181+01:00  INFO 73110 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T14:32:18.181+01:00  INFO 73110 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 655 ms
2024-12-05T14:32:18.254+01:00  INFO 73110 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T14:32:18.284+01:00  INFO 73110 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T14:32:18.304+01:00  INFO 73110 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T14:32:18.459+01:00  INFO 73110 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T14:32:18.476+01:00  INFO 73110 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T14:32:18.533+01:00  INFO 73110 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d226f27
2024-12-05T14:32:18.534+01:00  INFO 73110 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T14:32:18.973+01:00  INFO 73110 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T14:32:19.042+01:00  INFO 73110 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T14:32:19.177+01:00  INFO 73110 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T14:32:19.347+01:00  WARN 73110 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T14:32:19.365+01:00  INFO 73110 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T14:32:19.386+01:00  INFO 73110 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T14:32:19.437+01:00 DEBUG 73110 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T14:32:19.465+01:00 DEBUG 73110 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T14:32:19.483+01:00 DEBUG 73110 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T14:32:19.516+01:00 DEBUG 73110 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T14:32:19.516+01:00 DEBUG 73110 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T14:32:19.516+01:00 DEBUG 73110 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T14:32:19.550+01:00 DEBUG 73110 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T14:32:19.567+01:00 DEBUG 73110 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T14:32:19.627+01:00  INFO 73110 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T14:32:19.628+01:00 DEBUG 73110 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T14:32:19.628+01:00 DEBUG 73110 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T14:32:19.628+01:00  INFO 73110 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T14:32:19.628+01:00 DEBUG 73110 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6442c2dd]
2024-12-05T14:32:19.629+01:00 DEBUG 73110 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6442c2dd]
2024-12-05T14:32:19.629+01:00  INFO 73110 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6442c2dd]]
2024-12-05T14:32:19.629+01:00  INFO 73110 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T14:32:19.629+01:00 DEBUG 73110 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:32:19.629+01:00 DEBUG 73110 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T14:32:19.634+01:00  INFO 73110 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.407 seconds (process running for 2.557)
2024-12-05T14:32:20.461+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T14:32:20.462+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T14:32:20.462+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T14:32:20.462+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T14:32:20.462+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T14:32:20.463+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6ea0dfaa
2024-12-05T14:32:20.463+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3fe33c59
2024-12-05T14:32:20.463+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T14:32:20.463+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T14:32:20.479+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:32:20.480+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@487f025
2024-12-05T14:32:20.483+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:32:20.493+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:32:20.499+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=791f878c-f5a0-4da9-083e-46a503dcfbe7, uri=ws://localhost:8080/ws]
2024-12-05T14:32:20.507+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=791f878c-f5a0-4da9-083e-46a503dcfbe7
2024-12-05T14:32:20.512+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=791f878c-f5a0-4da9-083e-46a503dcfbe7
2024-12-05T14:32:33.145+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=791f878c-f5a0-4da9-083e-46a503dcfbe7, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:32:33.145+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 791f878c-f5a0-4da9-083e-46a503dcfbe7
2024-12-05T14:32:33.147+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=791f878c-f5a0-4da9-083e-46a503dcfbe7
2024-12-05T14:32:33.150+01:00 DEBUG 73110 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=791f878c-f5a0-4da9-083e-46a503dcfbe7}], simpSessionId=791f878c-f5a0-4da9-083e-46a503dcfbe7}]
2024-12-05T14:32:33.364+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:32:33.364+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@487f025
2024-12-05T14:32:33.364+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:32:33.365+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:32:33.367+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cca00a4c-1990-254e-4687-b9a3996caf2a, uri=ws://localhost:8080/ws]
2024-12-05T14:32:33.377+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=cca00a4c-1990-254e-4687-b9a3996caf2a
2024-12-05T14:32:33.385+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=cca00a4c-1990-254e-4687-b9a3996caf2a
2024-12-05T14:32:33.549+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cca00a4c-1990-254e-4687-b9a3996caf2a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:32:33.552+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session cca00a4c-1990-254e-4687-b9a3996caf2a
2024-12-05T14:32:33.554+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=cca00a4c-1990-254e-4687-b9a3996caf2a
2024-12-05T14:32:33.572+01:00 DEBUG 73110 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cca00a4c-1990-254e-4687-b9a3996caf2a}], simpSessionId=cca00a4c-1990-254e-4687-b9a3996caf2a}]
2024-12-05T14:32:55.940+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:32:56.030+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:32:56.032+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:32:56.032+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:32:56.038+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:32:56.046+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:32:56.046+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:32:56.046+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:32:56.056+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:32:56.057+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@487f025
2024-12-05T14:32:56.058+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:32:56.060+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:32:56.062+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=0efbf884-416a-2c65-5042-607244b5c457, uri=ws://localhost:8080/ws]
2024-12-05T14:32:56.063+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=0efbf884-416a-2c65-5042-607244b5c457
2024-12-05T14:32:56.064+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:32:56.065+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:32:56.066+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:32:56.066+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=0efbf884-416a-2c65-5042-607244b5c457
2024-12-05T14:32:56.066+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:32:56.067+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:32:56.067+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:32:56.067+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:32:56.067+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:32:56.068+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:32:56.068+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:32:56.068+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:32:56.069+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T14:32:56.069+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:32:56.069+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:32:56.069+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:32:56.070+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:32:56.070+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:32:56.072+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:32:56.078+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:32:56.093+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:32:56.093+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T14:32:56.093+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:33:19.635+01:00  INFO 73110 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 24], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T14:33:42.279+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=0efbf884-416a-2c65-5042-607244b5c457, lookupDestination='/chat.sendMessage'
2024-12-05T14:33:42.283+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T14:33:42.315+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-17] c.o.ycyw.controllers.ChatController      : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=vvvv, timestamp=2024-12-05T13:33:42.275, status=sent)
2024-12-05T14:33:42.315+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-17] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T14:33:42.459+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-17] c.o.ycyw.controllers.ChatController      : Saved chat: Chat(id=3, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=vvvv, timestamp=2024-12-05T13:33:42.275, status=sent)
2024-12-05T14:33:42.459+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-17] c.o.ycyw.controllers.ChatController      : Sending message: ChatDTO(id=3, senderId=2, conversationId=1, content=vvvv, timestamp=2024-12-05T13:33:42.275, status=sent)
2024-12-05T14:33:42.467+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=0efbf884-416a-2c65-5042-607244b5c457 payload={"id":3,"senderId":2,"conversationId":1,"content":"vvvv","timestamp":"2024-12-05...(truncated)
2024-12-05T14:33:42.468+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-17] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T14:36:31.610+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=0efbf884-416a-2c65-5042-607244b5c457, uri=ws://localhost:8080/ws]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1293) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1181) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:36:31.641+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=0efbf884-416a-2c65-5042-607244b5c457, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1006, reason=null]
2024-12-05T14:36:31.641+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 0efbf884-416a-2c65-5042-607244b5c457
2024-12-05T14:36:31.651+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=0efbf884-416a-2c65-5042-607244b5c457
2024-12-05T14:36:31.654+01:00 DEBUG 73110 --- [ycyw] [clientOutboundChannel-7] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0efbf884-416a-2c65-5042-607244b5c457}], simpSessionId=0efbf884-416a-2c65-5042-607244b5c457}]
2024-12-05T14:36:31.792+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:36:31.793+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@487f025
2024-12-05T14:36:31.793+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:36:31.795+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:36:31.801+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=66d22b51-0598-3c3f-b4c6-417c7e1b02c0, uri=ws://localhost:8080/ws]
2024-12-05T14:36:31.808+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=66d22b51-0598-3c3f-b4c6-417c7e1b02c0
2024-12-05T14:36:31.816+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-27] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=66d22b51-0598-3c3f-b4c6-417c7e1b02c0
2024-12-05T14:39:59.311+01:00  WARN 73110 --- [ycyw] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m40s639ms).
2024-12-05T14:40:46.082+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=66d22b51-0598-3c3f-b4c6-417c7e1b02c0, lookupDestination='/chat.sendMessage'
2024-12-05T14:40:46.084+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T14:40:46.086+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=cccc, timestamp=2024-12-05T13:40:46.072, status=sent)
2024-12-05T14:40:46.087+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T14:40:46.096+01:00 ERROR 73110 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T14:40:46.097+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T14:40:46.100+01:00 ERROR 73110 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:42:04.404+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=66d22b51-0598-3c3f-b4c6-417c7e1b02c0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T14:42:04.405+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 66d22b51-0598-3c3f-b4c6-417c7e1b02c0
2024-12-05T14:42:04.406+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-33] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=66d22b51-0598-3c3f-b4c6-417c7e1b02c0
2024-12-05T14:42:04.407+01:00 DEBUG 73110 --- [ycyw] [clientOutboundChannel-9] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=66d22b51-0598-3c3f-b4c6-417c7e1b02c0}], simpSessionId=66d22b51-0598-3c3f-b4c6-417c7e1b02c0}]
2024-12-05T14:42:04.538+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:42:04.539+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@487f025
2024-12-05T14:42:04.539+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:42:04.540+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:42:04.541+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2520c753-a1ed-f312-03ec-4d9f348bc1b9, uri=ws://localhost:8080/ws]
2024-12-05T14:42:04.558+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=2520c753-a1ed-f312-03ec-4d9f348bc1b9
2024-12-05T14:42:04.562+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-39] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=2520c753-a1ed-f312-03ec-4d9f348bc1b9
2024-12-05T14:42:19.823+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:42:19.834+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:42:19.835+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T14:42:19.835+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T14:42:19.836+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T14:42:19.837+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:42:19.838+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T14:42:19.839+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:42:19.854+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:42:19.860+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-42] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-1 session=2520c753-a1ed-f312-03ec-4d9f348bc1b9
2024-12-05T14:42:19.860+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:42:19.860+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T14:42:19.860+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T14:42:19.860+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T14:42:19.861+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T14:42:19.861+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:42:19.861+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:42:19.862+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T14:42:19.862+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T14:42:19.862+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T14:42:19.862+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T14:42:19.863+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T14:42:19.863+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T14:42:19.863+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:42:19.863+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:42:19.863+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T14:42:19.864+01:00  INFO 73110 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T14:42:19.864+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:42:19.870+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T14:42:19.870+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T14:42:19.871+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T14:42:27.533+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-44] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=2520c753-a1ed-f312-03ec-4d9f348bc1b9, lookupDestination='/chat.sendMessage'
2024-12-05T14:42:27.534+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-44] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T14:42:27.535+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-44] c.o.ycyw.controllers.ChatController      : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=xxxxx, timestamp=2024-12-05T13:42:27.529, status=sent)
2024-12-05T14:42:27.536+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-44] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T14:42:27.551+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-44] c.o.ycyw.controllers.ChatController      : Saved chat: Chat(id=4, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xxxxx, timestamp=2024-12-05T13:42:27.529, status=sent)
2024-12-05T14:42:27.552+01:00  INFO 73110 --- [ycyw] [clientInboundChannel-44] c.o.ycyw.controllers.ChatController      : Sending message: ChatDTO(id=4, senderId=2, conversationId=1, content=xxxxx, timestamp=2024-12-05T13:42:27.529, status=sent)
2024-12-05T14:42:27.553+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-44] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=2520c753-a1ed-f312-03ec-4d9f348bc1b9 payload={"id":4,"senderId":2,"conversationId":1,"content":"xxxxx","timestamp":"2024-12-0...(truncated)
2024-12-05T14:42:27.553+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-44] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T14:47:56.672+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=2520c753-a1ed-f312-03ec-4d9f348bc1b9, uri=ws://localhost:8080/ws]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1293) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1181) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T14:47:56.676+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2520c753-a1ed-f312-03ec-4d9f348bc1b9, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1006, reason=null]
2024-12-05T14:47:56.676+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 2520c753-a1ed-f312-03ec-4d9f348bc1b9
2024-12-05T14:47:56.677+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-48] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=2520c753-a1ed-f312-03ec-4d9f348bc1b9
2024-12-05T14:47:56.678+01:00 DEBUG 73110 --- [ycyw] [clientOutboundChannel-13] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2520c753-a1ed-f312-03ec-4d9f348bc1b9}], simpSessionId=2520c753-a1ed-f312-03ec-4d9f348bc1b9}]
2024-12-05T14:47:56.843+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T14:47:56.847+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@487f025
2024-12-05T14:47:56.847+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T14:47:56.849+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T14:47:56.850+01:00 DEBUG 73110 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=047523fc-ebf9-aa00-b5df-886edd60f515, uri=ws://localhost:8080/ws]
2024-12-05T14:47:56.875+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-51] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=047523fc-ebf9-aa00-b5df-886edd60f515
2024-12-05T14:47:56.882+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-54] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=047523fc-ebf9-aa00-b5df-886edd60f515
2024-12-05T15:01:33.369+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:01:33.372+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=047523fc-ebf9-aa00-b5df-886edd60f515, uri=ws://localhost:8080/ws]
2024-12-05T15:01:33.373+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=047523fc-ebf9-aa00-b5df-886edd60f515, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:01:33.374+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 047523fc-ebf9-aa00-b5df-886edd60f515
2024-12-05T15:01:33.375+01:00 DEBUG 73110 --- [ycyw] [clientInboundChannel-57] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=047523fc-ebf9-aa00-b5df-886edd60f515
2024-12-05T15:01:33.375+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:01:33.375+01:00  INFO 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T15:01:33.376+01:00  INFO 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6442c2dd]]
2024-12-05T15:01:33.376+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6442c2dd]
2024-12-05T15:01:33.376+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6442c2dd]
2024-12-05T15:01:33.376+01:00  INFO 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T15:01:33.376+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:01:33.376+01:00 DEBUG 73110 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:01:33.390+01:00  INFO 73110 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:01:33.394+01:00  INFO 73110 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T15:01:33.396+01:00  INFO 73110 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T15:01:42.039+01:00  INFO 89776 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 89776 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T15:01:42.040+01:00  INFO 89776 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T15:01:42.344+01:00  INFO 89776 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T15:01:42.374+01:00  INFO 89776 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2024-12-05T15:01:42.674+01:00  INFO 89776 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T15:01:42.682+01:00  INFO 89776 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T15:01:42.682+01:00  INFO 89776 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T15:01:42.723+01:00  INFO 89776 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T15:01:42.724+01:00  INFO 89776 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 659 ms
2024-12-05T15:01:42.821+01:00  INFO 89776 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T15:01:42.856+01:00  INFO 89776 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T15:01:42.876+01:00  INFO 89776 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T15:01:43.032+01:00  INFO 89776 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T15:01:43.050+01:00  INFO 89776 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T15:01:43.106+01:00  INFO 89776 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45571cfc
2024-12-05T15:01:43.107+01:00  INFO 89776 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T15:01:43.545+01:00  INFO 89776 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T15:01:43.612+01:00  INFO 89776 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:01:43.750+01:00  INFO 89776 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T15:01:43.921+01:00  WARN 89776 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T15:01:43.938+01:00  INFO 89776 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T15:01:43.962+01:00  INFO 89776 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T15:01:44.014+01:00 DEBUG 89776 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T15:01:44.043+01:00 DEBUG 89776 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T15:01:44.060+01:00 DEBUG 89776 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T15:01:44.095+01:00 DEBUG 89776 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T15:01:44.096+01:00 DEBUG 89776 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T15:01:44.096+01:00 DEBUG 89776 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T15:01:44.129+01:00 DEBUG 89776 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T15:01:44.147+01:00 DEBUG 89776 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T15:01:44.208+01:00  INFO 89776 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T15:01:44.209+01:00 DEBUG 89776 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:01:44.209+01:00 DEBUG 89776 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:01:44.209+01:00  INFO 89776 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T15:01:44.209+01:00 DEBUG 89776 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@762e3836]
2024-12-05T15:01:44.210+01:00 DEBUG 89776 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@762e3836]
2024-12-05T15:01:44.210+01:00  INFO 89776 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@762e3836]]
2024-12-05T15:01:44.210+01:00  INFO 89776 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T15:01:44.210+01:00 DEBUG 89776 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:01:44.210+01:00 DEBUG 89776 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:01:44.215+01:00  INFO 89776 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.358 seconds (process running for 2.511)
2024-12-05T15:01:47.846+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T15:01:47.846+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T15:01:47.846+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T15:01:47.846+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T15:01:47.847+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T15:01:47.848+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@e50e308
2024-12-05T15:01:47.848+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@505f6511
2024-12-05T15:01:47.848+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T15:01:47.848+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T15:01:47.863+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:01:47.864+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@3393aa46
2024-12-05T15:01:47.867+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:01:47.877+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:01:47.883+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=48b52951-8acc-3d53-1d66-0ca591591b05, uri=ws://localhost:8080/ws]
2024-12-05T15:01:47.888+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=48b52951-8acc-3d53-1d66-0ca591591b05
2024-12-05T15:01:47.894+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=48b52951-8acc-3d53-1d66-0ca591591b05
2024-12-05T15:01:57.015+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=48b52951-8acc-3d53-1d66-0ca591591b05, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:01:57.017+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 48b52951-8acc-3d53-1d66-0ca591591b05
2024-12-05T15:01:57.020+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=48b52951-8acc-3d53-1d66-0ca591591b05
2024-12-05T15:01:57.021+01:00 DEBUG 89776 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=48b52951-8acc-3d53-1d66-0ca591591b05}], simpSessionId=48b52951-8acc-3d53-1d66-0ca591591b05}]
2024-12-05T15:01:57.197+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:01:57.198+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@3393aa46
2024-12-05T15:01:57.198+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:01:57.201+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:01:57.202+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1, uri=ws://localhost:8080/ws]
2024-12-05T15:01:57.221+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1
2024-12-05T15:01:57.226+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1
2024-12-05T15:02:01.193+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:02:01.193+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 2a1f0f90-6cc1-7b2b-f049-766b6f5909b1
2024-12-05T15:02:01.227+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1
2024-12-05T15:02:01.236+01:00 DEBUG 89776 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1}], simpSessionId=2a1f0f90-6cc1-7b2b-f049-766b6f5909b1}]
2024-12-05T15:02:30.091+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:02:30.187+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:02:30.189+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T15:02:30.189+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T15:02:30.197+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T15:02:30.207+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:02:30.207+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T15:02:30.207+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:02:30.226+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:02:30.228+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@3393aa46
2024-12-05T15:02:30.229+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:02:30.229+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:02:30.229+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:02:30.230+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=9f11d32d-508f-b673-9487-549fb436efaa, uri=ws://localhost:8080/ws]
2024-12-05T15:02:30.231+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:02:30.232+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:02:30.232+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=9f11d32d-508f-b673-9487-549fb436efaa
2024-12-05T15:02:30.232+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T15:02:30.233+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T15:02:30.233+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T15:02:30.233+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:02:30.233+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:02:30.234+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:02:30.234+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T15:02:30.234+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T15:02:30.234+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T15:02:30.234+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:02:30.234+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:02:30.234+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=9f11d32d-508f-b673-9487-549fb436efaa
2024-12-05T15:02:30.235+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:02:30.236+01:00  INFO 89776 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:02:30.237+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:02:30.237+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T15:02:30.245+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:02:30.258+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:02:30.258+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T15:02:30.258+01:00 DEBUG 89776 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:02:37.769+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9f11d32d-508f-b673-9487-549fb436efaa, lookupDestination='/chat.sendMessage'
2024-12-05T15:02:37.776+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:02:37.822+01:00  INFO 89776 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=bbbbbb, timestamp=2024-12-05T14:02:37.765, status=sent)
2024-12-05T15:02:37.822+01:00  INFO 89776 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T15:02:37.832+01:00  INFO 89776 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bbbbbb, timestamp=2024-12-05T14:02:37.765, status=sent)
2024-12-05T15:02:37.856+01:00  INFO 89776 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=5, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bbbbbb, timestamp=2024-12-05T14:02:37.765, status=sent)
2024-12-05T15:02:37.856+01:00  INFO 89776 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=5, senderId=2, conversationId=1, content=bbbbbb, timestamp=2024-12-05T14:02:37.765, status=sent)
2024-12-05T15:02:37.863+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9f11d32d-508f-b673-9487-549fb436efaa payload={"id":5,"senderId":2,"conversationId":1,"content":"bbbbbb","timestamp":"2024-12-...(truncated)
2024-12-05T15:02:37.864+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T15:02:44.215+01:00  INFO 89776 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T15:10:40.660+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:10:40.664+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=9f11d32d-508f-b673-9487-549fb436efaa, uri=ws://localhost:8080/ws]
2024-12-05T15:10:40.665+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=9f11d32d-508f-b673-9487-549fb436efaa, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:10:40.665+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 9f11d32d-508f-b673-9487-549fb436efaa
2024-12-05T15:10:40.666+01:00 DEBUG 89776 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=9f11d32d-508f-b673-9487-549fb436efaa
2024-12-05T15:10:40.667+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:10:40.667+01:00  INFO 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T15:10:40.667+01:00  INFO 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@762e3836]]
2024-12-05T15:10:40.667+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@762e3836]
2024-12-05T15:10:40.668+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@762e3836]
2024-12-05T15:10:40.668+01:00  INFO 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T15:10:40.668+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:10:40.668+01:00 DEBUG 89776 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:10:40.682+01:00  INFO 89776 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:10:40.686+01:00  INFO 89776 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T15:10:40.688+01:00  INFO 89776 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T15:10:47.211+01:00  INFO 95654 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 95654 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T15:10:47.213+01:00  INFO 95654 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T15:10:47.502+01:00  INFO 95654 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T15:10:47.530+01:00  INFO 95654 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T15:10:47.829+01:00  INFO 95654 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T15:10:47.838+01:00  INFO 95654 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T15:10:47.839+01:00  INFO 95654 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T15:10:47.874+01:00  INFO 95654 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T15:10:47.874+01:00  INFO 95654 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 637 ms
2024-12-05T15:10:47.948+01:00  INFO 95654 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T15:10:47.976+01:00  INFO 95654 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T15:10:47.995+01:00  INFO 95654 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T15:10:48.125+01:00  INFO 95654 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T15:10:48.142+01:00  INFO 95654 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T15:10:48.196+01:00  INFO 95654 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@faec277
2024-12-05T15:10:48.197+01:00  INFO 95654 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T15:10:48.612+01:00  INFO 95654 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T15:10:48.679+01:00  INFO 95654 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:10:48.825+01:00  INFO 95654 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T15:10:48.998+01:00  WARN 95654 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T15:10:49.014+01:00  INFO 95654 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T15:10:49.036+01:00  INFO 95654 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T15:10:49.086+01:00 DEBUG 95654 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T15:10:49.114+01:00 DEBUG 95654 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T15:10:49.131+01:00 DEBUG 95654 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T15:10:49.166+01:00 DEBUG 95654 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T15:10:49.166+01:00 DEBUG 95654 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T15:10:49.167+01:00 DEBUG 95654 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T15:10:49.197+01:00 DEBUG 95654 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T15:10:49.213+01:00 DEBUG 95654 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T15:10:49.280+01:00  INFO 95654 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T15:10:49.281+01:00 DEBUG 95654 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:10:49.282+01:00 DEBUG 95654 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:10:49.282+01:00  INFO 95654 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T15:10:49.282+01:00 DEBUG 95654 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15d2c2ca]
2024-12-05T15:10:49.282+01:00 DEBUG 95654 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15d2c2ca]
2024-12-05T15:10:49.282+01:00  INFO 95654 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15d2c2ca]]
2024-12-05T15:10:49.282+01:00  INFO 95654 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T15:10:49.282+01:00 DEBUG 95654 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:10:49.282+01:00 DEBUG 95654 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:10:49.287+01:00  INFO 95654 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.361 seconds (process running for 2.514)
2024-12-05T15:10:50.132+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T15:10:50.132+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T15:10:50.132+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T15:10:50.132+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T15:10:50.132+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T15:10:50.133+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@28ab7ffb
2024-12-05T15:10:50.133+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3dfb1626
2024-12-05T15:10:50.133+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T15:10:50.133+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T15:10:50.149+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:10:50.150+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@4f0381cd
2024-12-05T15:10:50.153+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:10:50.163+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:10:50.169+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c, uri=ws://localhost:8080/ws]
2024-12-05T15:10:50.176+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c
2024-12-05T15:10:50.186+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c
2024-12-05T15:11:00.291+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:11:00.292+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c
2024-12-05T15:11:00.295+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c
2024-12-05T15:11:00.299+01:00 DEBUG 95654 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c}], simpSessionId=12e027e5-4c97-76d7-cbe9-b5fca7fa4b3c}]
2024-12-05T15:11:00.466+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:11:00.467+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@4f0381cd
2024-12-05T15:11:00.467+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:11:00.469+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:11:00.479+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc, uri=ws://localhost:8080/ws]
2024-12-05T15:11:00.497+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc
2024-12-05T15:11:00.501+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc
2024-12-05T15:11:13.819+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:11:13.833+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc
2024-12-05T15:11:13.849+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc
2024-12-05T15:11:13.851+01:00 DEBUG 95654 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc}], simpSessionId=d566bf8c-e79e-1c41-da5f-1d7a7b5fc7fc}]
2024-12-05T15:11:36.679+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:11:36.749+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:11:36.750+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T15:11:36.751+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T15:11:36.758+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T15:11:36.766+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:11:36.766+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T15:11:36.766+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:11:36.782+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:11:36.783+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@4f0381cd
2024-12-05T15:11:36.783+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:11:36.785+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:11:36.787+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cc78515a-784f-44c4-324d-138eca2affe0, uri=ws://localhost:8080/ws]
2024-12-05T15:11:36.788+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=cc78515a-784f-44c4-324d-138eca2affe0
2024-12-05T15:11:36.789+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:11:36.789+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:11:36.791+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=cc78515a-784f-44c4-324d-138eca2affe0
2024-12-05T15:11:36.791+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:11:36.791+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T15:11:36.792+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T15:11:36.792+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T15:11:36.792+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:11:36.792+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:11:36.793+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:11:36.794+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:11:36.795+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T15:11:36.795+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T15:11:36.795+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T15:11:36.795+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:11:36.795+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:11:36.796+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:11:36.797+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:11:36.798+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T15:11:36.806+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:11:36.818+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:11:36.819+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T15:11:36.819+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:11:43.953+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=cc78515a-784f-44c4-324d-138eca2affe0, lookupDestination='/chat.sendMessage'
2024-12-05T15:11:43.960+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:11:44.011+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=rrrrrrr, timestamp=2024-12-05T14:11:43.949, status=sent)
2024-12-05T15:11:44.012+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T15:11:44.022+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=rrrrrrr, timestamp=2024-12-05T14:11:43.949, status=sent)
2024-12-05T15:11:44.022+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=rrrrrrr, timestamp=2024-12-05T14:11:43.949, status=sent)
2024-12-05T15:11:44.043+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=6, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=rrrrrrr, timestamp=2024-12-05T14:11:43.949, status=sent)
2024-12-05T15:11:44.046+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=6, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=rrrrrrr, timestamp=2024-12-05T14:11:43.949, status=sent)
2024-12-05T15:11:44.046+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=6, senderId=2, conversationId=1, content=rrrrrrr, timestamp=2024-12-05T14:11:43.949, status=sent)
2024-12-05T15:11:44.053+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=cc78515a-784f-44c4-324d-138eca2affe0 payload={"id":6,"senderId":2,"conversationId":1,"content":"rrrrrrr","timestamp":"2024-12...(truncated)
2024-12-05T15:11:44.053+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T15:11:49.273+01:00  INFO 95654 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T15:15:40.889+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=cc78515a-784f-44c4-324d-138eca2affe0, lookupDestination='/chat.sendMessage'
2024-12-05T15:15:40.896+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:15:40.909+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-17] o.s.messaging.handler.HandlerMethod      : Could not resolve parameter [0] in public com.openclassrooms.ycyw.dto.ChatDTO com.openclassrooms.ycyw.controllers.ChatController.sendMessage(com.openclassrooms.ycyw.dto.ChatDTO): Could not read JSON: Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 32] (through reference chain: com.openclassrooms.ycyw.dto.ChatDTO["conversationId"])
2024-12-05T15:15:40.909+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle MessageConversionException
2024-12-05T15:15:40.912+01:00 ERROR 95654 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 32] (through reference chain: com.openclassrooms.ycyw.dto.ChatDTO["conversationId"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:256) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:183) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:70) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:144) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 32] (through reference chain: com.openclassrooms.ycyw.dto.ChatDTO["conversationId"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1767) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1541) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1446) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:958) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseInteger(StdDeserializer.java:808) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:531) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:399) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4905) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3942) ~[jackson-databind-2.17.3.jar:2.17.3]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:242) ~[spring-messaging-6.1.15.jar:6.1.15]
	... 15 common frames omitted

2024-12-05T15:16:35.742+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cc78515a-784f-44c4-324d-138eca2affe0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:16:35.744+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session cc78515a-784f-44c4-324d-138eca2affe0
2024-12-05T15:16:35.749+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=cc78515a-784f-44c4-324d-138eca2affe0
2024-12-05T15:16:35.751+01:00 DEBUG 95654 --- [ycyw] [clientOutboundChannel-7] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cc78515a-784f-44c4-324d-138eca2affe0}], simpSessionId=cc78515a-784f-44c4-324d-138eca2affe0}]
2024-12-05T15:16:53.643+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:16:53.661+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:16:53.662+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T15:16:53.663+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T15:16:53.663+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T15:16:53.664+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:16:53.664+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T15:16:53.665+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:16:53.688+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:16:53.689+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@4f0381cd
2024-12-05T15:16:53.690+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:16:53.693+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:16:53.693+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:16:53.693+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=a85ee290-560c-a838-78e3-8d7bae0417d4, uri=ws://localhost:8080/ws]
2024-12-05T15:16:53.694+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:16:53.696+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=a85ee290-560c-a838-78e3-8d7bae0417d4
2024-12-05T15:16:53.697+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:16:53.697+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:16:53.697+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T15:16:53.697+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T15:16:53.697+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T15:16:53.698+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T15:16:53.698+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T15:16:53.698+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T15:16:53.698+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:16:53.698+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:16:53.698+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:16:53.698+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:16:53.700+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-27] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=a85ee290-560c-a838-78e3-8d7bae0417d4
2024-12-05T15:16:53.701+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:16:53.701+01:00  INFO 95654 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:16:53.701+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:16:53.702+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T15:16:53.702+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:16:53.706+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:16:53.706+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T15:16:53.706+01:00 DEBUG 95654 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:17:05.356+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=a85ee290-560c-a838-78e3-8d7bae0417d4, lookupDestination='/chat.sendMessage'
2024-12-05T15:17:05.356+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:17:05.357+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=7777, timestamp=2024-12-05T14:17:05.348, status=sent)
2024-12-05T15:17:05.360+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T15:17:05.366+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=7777, timestamp=2024-12-05T14:17:05.348, status=sent)
2024-12-05T15:17:05.366+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=7777, timestamp=2024-12-05T14:17:05.348, status=sent)
2024-12-05T15:17:05.369+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=7, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=7777, timestamp=2024-12-05T14:17:05.348, status=sent)
2024-12-05T15:17:05.370+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=7, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=7777, timestamp=2024-12-05T14:17:05.348, status=sent)
2024-12-05T15:17:05.370+01:00  INFO 95654 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=7, senderId=2, conversationId=1, content=7777, timestamp=2024-12-05T14:17:05.348, status=sent)
2024-12-05T15:17:05.371+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=a85ee290-560c-a838-78e3-8d7bae0417d4 payload={"id":7,"senderId":2,"conversationId":1,"content":"7777","timestamp":"2024-12-05...(truncated)
2024-12-05T15:17:05.371+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T15:23:37.695+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:23:37.696+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=a85ee290-560c-a838-78e3-8d7bae0417d4, uri=ws://localhost:8080/ws]
2024-12-05T15:23:37.697+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=a85ee290-560c-a838-78e3-8d7bae0417d4, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:23:37.697+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session a85ee290-560c-a838-78e3-8d7bae0417d4
2024-12-05T15:23:37.698+01:00 DEBUG 95654 --- [ycyw] [clientInboundChannel-33] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=a85ee290-560c-a838-78e3-8d7bae0417d4
2024-12-05T15:23:37.699+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:23:37.699+01:00  INFO 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T15:23:37.699+01:00  INFO 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15d2c2ca]]
2024-12-05T15:23:37.699+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15d2c2ca]
2024-12-05T15:23:37.699+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15d2c2ca]
2024-12-05T15:23:37.699+01:00  INFO 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T15:23:37.699+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:23:37.699+01:00 DEBUG 95654 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:23:37.709+01:00  INFO 95654 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:23:37.714+01:00  INFO 95654 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T15:23:37.718+01:00  INFO 95654 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T15:23:45.453+01:00  INFO 4298 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 4298 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T15:23:45.455+01:00  INFO 4298 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T15:23:45.737+01:00  INFO 4298 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T15:23:45.766+01:00  INFO 4298 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T15:23:46.046+01:00  INFO 4298 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T15:23:46.059+01:00  INFO 4298 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T15:23:46.059+01:00  INFO 4298 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T15:23:46.095+01:00  INFO 4298 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T15:23:46.095+01:00  INFO 4298 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 619 ms
2024-12-05T15:23:46.172+01:00  INFO 4298 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T15:23:46.203+01:00  INFO 4298 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T15:23:46.221+01:00  INFO 4298 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T15:23:46.362+01:00  INFO 4298 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T15:23:46.377+01:00  INFO 4298 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T15:23:46.431+01:00  INFO 4298 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45571cfc
2024-12-05T15:23:46.432+01:00  INFO 4298 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T15:23:46.899+01:00  INFO 4298 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T15:23:46.972+01:00  INFO 4298 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:23:47.113+01:00  INFO 4298 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T15:23:47.291+01:00  WARN 4298 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T15:23:47.309+01:00  INFO 4298 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T15:23:47.335+01:00  INFO 4298 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T15:23:47.390+01:00 DEBUG 4298 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T15:23:47.421+01:00 DEBUG 4298 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T15:23:47.444+01:00 DEBUG 4298 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T15:23:47.483+01:00 DEBUG 4298 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T15:23:47.483+01:00 DEBUG 4298 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T15:23:47.484+01:00 DEBUG 4298 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T15:23:47.523+01:00 DEBUG 4298 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T15:23:47.540+01:00 DEBUG 4298 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T15:23:47.600+01:00  INFO 4298 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T15:23:47.601+01:00 DEBUG 4298 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:23:47.602+01:00 DEBUG 4298 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:23:47.602+01:00  INFO 4298 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T15:23:47.602+01:00 DEBUG 4298 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48c56b42]
2024-12-05T15:23:47.602+01:00 DEBUG 4298 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48c56b42]
2024-12-05T15:23:47.602+01:00  INFO 4298 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48c56b42]]
2024-12-05T15:23:47.602+01:00  INFO 4298 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T15:23:47.602+01:00 DEBUG 4298 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:23:47.602+01:00 DEBUG 4298 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:23:47.607+01:00  INFO 4298 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.327 seconds (process running for 2.467)
2024-12-05T15:23:51.409+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T15:23:51.410+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T15:23:51.410+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T15:23:51.410+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T15:23:51.410+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T15:23:51.411+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@729a98e9
2024-12-05T15:23:51.411+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@27c9500c
2024-12-05T15:23:51.411+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T15:23:51.411+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T15:23:51.427+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:23:51.428+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@74e111a8
2024-12-05T15:23:51.431+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:23:51.440+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:23:51.446+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=97a33c91-e8e0-0fba-0bdc-e95910726445, uri=ws://localhost:8080/ws]
2024-12-05T15:23:51.453+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=97a33c91-e8e0-0fba-0bdc-e95910726445
2024-12-05T15:23:51.458+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=97a33c91-e8e0-0fba-0bdc-e95910726445
2024-12-05T15:24:00.078+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=97a33c91-e8e0-0fba-0bdc-e95910726445, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:24:00.079+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 97a33c91-e8e0-0fba-0bdc-e95910726445
2024-12-05T15:24:00.082+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=97a33c91-e8e0-0fba-0bdc-e95910726445
2024-12-05T15:24:00.085+01:00 DEBUG 4298 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=97a33c91-e8e0-0fba-0bdc-e95910726445}], simpSessionId=97a33c91-e8e0-0fba-0bdc-e95910726445}]
2024-12-05T15:24:00.304+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:24:00.305+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@74e111a8
2024-12-05T15:24:00.305+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:24:00.307+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:24:00.308+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4e47240a-55db-8f5c-1f3c-23e642ded4ea, uri=ws://localhost:8080/ws]
2024-12-05T15:24:00.309+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=4e47240a-55db-8f5c-1f3c-23e642ded4ea
2024-12-05T15:24:00.312+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=4e47240a-55db-8f5c-1f3c-23e642ded4ea
2024-12-05T15:24:00.464+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4e47240a-55db-8f5c-1f3c-23e642ded4ea, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:24:00.473+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 4e47240a-55db-8f5c-1f3c-23e642ded4ea
2024-12-05T15:24:00.478+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=4e47240a-55db-8f5c-1f3c-23e642ded4ea
2024-12-05T15:24:00.480+01:00 DEBUG 4298 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4e47240a-55db-8f5c-1f3c-23e642ded4ea}], simpSessionId=4e47240a-55db-8f5c-1f3c-23e642ded4ea}]
2024-12-05T15:24:26.548+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:24:26.637+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:24:26.639+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T15:24:26.639+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T15:24:26.645+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T15:24:26.653+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:24:26.653+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T15:24:26.653+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:24:26.663+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:24:26.664+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@74e111a8
2024-12-05T15:24:26.665+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:24:26.668+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:24:26.670+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2dab450e-658e-d23c-f38d-2dd26923dd8d, uri=ws://localhost:8080/ws]
2024-12-05T15:24:26.672+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:24:26.672+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=2dab450e-658e-d23c-f38d-2dd26923dd8d
2024-12-05T15:24:26.673+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:24:26.674+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:24:26.674+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-6] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=2dab450e-658e-d23c-f38d-2dd26923dd8d
2024-12-05T15:24:26.675+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T15:24:26.675+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T15:24:26.675+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T15:24:26.675+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:24:26.675+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:24:26.677+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:24:26.677+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:24:26.677+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T15:24:26.677+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T15:24:26.677+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T15:24:26.677+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:24:26.677+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:24:26.677+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:24:26.678+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T15:24:26.678+01:00  INFO 4298 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:24:26.685+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:24:26.700+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:24:26.700+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T15:24:26.701+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:24:33.045+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=2dab450e-658e-d23c-f38d-2dd26923dd8d, lookupDestination='/chat.sendMessage'
2024-12-05T15:24:33.051+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:24:33.094+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=cvcvcv, timestamp=2024-12-05T14:24:33.040, status=sent)
2024-12-05T15:24:33.094+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T15:24:33.105+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvcvcv, timestamp=2024-12-05T14:24:33.040, status=sent)
2024-12-05T15:24:33.105+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvcvcv, timestamp=2024-12-05T14:24:33.040, status=sent)
2024-12-05T15:24:33.131+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=8, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvcvcv, timestamp=2024-12-05T14:24:33.040, status=sent)
2024-12-05T15:24:33.135+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=8, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvcvcv, timestamp=2024-12-05T14:24:33.040, status=sent)
2024-12-05T15:24:33.135+01:00  INFO 4298 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=8, senderId=2, conversationId=1, content=cvcvcv, timestamp=2024-12-05T14:24:33.040, status=sent)
2024-12-05T15:24:33.142+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=2dab450e-658e-d23c-f38d-2dd26923dd8d payload={"id":8,"senderId":2,"conversationId":1,"content":"cvcvcv","timestamp":"2024-12-...(truncated)
2024-12-05T15:24:33.143+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T15:24:47.599+01:00  INFO 4298 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T15:40:04.907+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : Transport error in StandardWebSocketSession[id=2dab450e-658e-d23c-f38d-2dd26923dd8d, uri=ws://localhost:8080/ws]

java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1293) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1181) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:74) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.33.jar:10.1.33]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.33.jar:10.1.33]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T15:40:04.942+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2dab450e-658e-d23c-f38d-2dd26923dd8d, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1006, reason=null]
2024-12-05T15:40:04.942+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 2dab450e-658e-d23c-f38d-2dd26923dd8d
2024-12-05T15:40:04.944+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=2dab450e-658e-d23c-f38d-2dd26923dd8d
2024-12-05T15:40:04.946+01:00 DEBUG 4298 --- [ycyw] [clientOutboundChannel-7] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2dab450e-658e-d23c-f38d-2dd26923dd8d}], simpSessionId=2dab450e-658e-d23c-f38d-2dd26923dd8d}]
2024-12-05T15:40:05.098+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:40:05.099+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@74e111a8
2024-12-05T15:40:05.099+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:40:05.100+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:40:05.101+01:00 DEBUG 4298 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e407f140-474a-0dbf-7e81-88cf186800b7, uri=ws://localhost:8080/ws]
2024-12-05T15:40:05.102+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e407f140-474a-0dbf-7e81-88cf186800b7
2024-12-05T15:40:05.104+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e407f140-474a-0dbf-7e81-88cf186800b7
2024-12-05T15:44:46.596+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:44:46.599+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=e407f140-474a-0dbf-7e81-88cf186800b7, uri=ws://localhost:8080/ws]
2024-12-05T15:44:46.601+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e407f140-474a-0dbf-7e81-88cf186800b7, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:44:46.601+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e407f140-474a-0dbf-7e81-88cf186800b7
2024-12-05T15:44:46.601+01:00 DEBUG 4298 --- [ycyw] [clientInboundChannel-27] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e407f140-474a-0dbf-7e81-88cf186800b7
2024-12-05T15:44:46.602+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:44:46.602+01:00  INFO 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T15:44:46.602+01:00  INFO 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48c56b42]]
2024-12-05T15:44:46.602+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48c56b42]
2024-12-05T15:44:46.602+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48c56b42]
2024-12-05T15:44:46.603+01:00  INFO 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T15:44:46.603+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:44:46.603+01:00 DEBUG 4298 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:44:46.617+01:00  INFO 4298 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:44:46.620+01:00  INFO 4298 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T15:44:46.622+01:00  INFO 4298 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T15:44:52.782+01:00  INFO 18073 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 18073 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T15:44:52.784+01:00  INFO 18073 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T15:44:53.105+01:00  INFO 18073 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T15:44:53.138+01:00  INFO 18073 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2024-12-05T15:44:53.469+01:00  INFO 18073 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T15:44:53.483+01:00  INFO 18073 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T15:44:53.483+01:00  INFO 18073 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T15:44:53.518+01:00  INFO 18073 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T15:44:53.519+01:00  INFO 18073 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 711 ms
2024-12-05T15:44:53.597+01:00  INFO 18073 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T15:44:53.631+01:00  INFO 18073 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T15:44:53.650+01:00  INFO 18073 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T15:44:53.794+01:00  INFO 18073 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T15:44:53.811+01:00  INFO 18073 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T15:44:53.877+01:00  INFO 18073 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1669931a
2024-12-05T15:44:53.878+01:00  INFO 18073 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T15:44:54.333+01:00  INFO 18073 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T15:44:54.409+01:00  INFO 18073 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:44:54.548+01:00  INFO 18073 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T15:44:54.725+01:00  WARN 18073 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T15:44:54.743+01:00  INFO 18073 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T15:44:54.767+01:00  INFO 18073 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T15:44:54.821+01:00 DEBUG 18073 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T15:44:54.851+01:00 DEBUG 18073 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T15:44:54.869+01:00 DEBUG 18073 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T15:44:54.906+01:00 DEBUG 18073 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T15:44:54.907+01:00 DEBUG 18073 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T15:44:54.907+01:00 DEBUG 18073 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T15:44:54.948+01:00 DEBUG 18073 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T15:44:54.967+01:00 DEBUG 18073 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T15:44:55.027+01:00  INFO 18073 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T15:44:55.028+01:00 DEBUG 18073 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:44:55.028+01:00 DEBUG 18073 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:44:55.028+01:00  INFO 18073 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T15:44:55.028+01:00 DEBUG 18073 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ebf5bf]
2024-12-05T15:44:55.028+01:00 DEBUG 18073 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ebf5bf]
2024-12-05T15:44:55.029+01:00  INFO 18073 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ebf5bf]]
2024-12-05T15:44:55.029+01:00  INFO 18073 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T15:44:55.029+01:00 DEBUG 18073 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:44:55.029+01:00 DEBUG 18073 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:44:55.034+01:00  INFO 18073 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.438 seconds (process running for 2.592)
2024-12-05T15:44:56.992+01:00  INFO 18073 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T15:44:56.992+01:00  INFO 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T15:44:56.992+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T15:44:56.992+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T15:44:56.992+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T15:44:56.993+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@29a51ff1
2024-12-05T15:44:56.993+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e92bded
2024-12-05T15:44:56.993+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T15:44:56.993+01:00  INFO 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-05T15:44:57.011+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:44:57.012+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@20bc3e7f
2024-12-05T15:44:57.015+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:44:57.028+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:44:57.035+01:00 DEBUG 18073 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=a26a81ef-3543-3dfe-3e78-39b3561a70bd, uri=ws://localhost:8080/ws]
2024-12-05T15:44:57.042+01:00 DEBUG 18073 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=a26a81ef-3543-3dfe-3e78-39b3561a70bd
2024-12-05T15:44:57.047+01:00 DEBUG 18073 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=a26a81ef-3543-3dfe-3e78-39b3561a70bd
2024-12-05T15:45:34.384+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:45:34.387+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=a26a81ef-3543-3dfe-3e78-39b3561a70bd, uri=ws://localhost:8080/ws]
2024-12-05T15:45:34.387+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=a26a81ef-3543-3dfe-3e78-39b3561a70bd, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:45:34.388+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session a26a81ef-3543-3dfe-3e78-39b3561a70bd
2024-12-05T15:45:34.388+01:00 DEBUG 18073 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=a26a81ef-3543-3dfe-3e78-39b3561a70bd
2024-12-05T15:45:34.389+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:45:34.389+01:00  INFO 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T15:45:34.389+01:00  INFO 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ebf5bf]]
2024-12-05T15:45:34.390+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ebf5bf]
2024-12-05T15:45:34.390+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ebf5bf]
2024-12-05T15:45:34.390+01:00  INFO 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T15:45:34.390+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:45:34.390+01:00 DEBUG 18073 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:45:34.397+01:00  INFO 18073 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:45:34.399+01:00  INFO 18073 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T15:45:34.401+01:00  INFO 18073 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T15:45:40.895+01:00  INFO 18664 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 18664 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T15:45:40.898+01:00  INFO 18664 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T15:45:41.195+01:00  INFO 18664 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T15:45:41.223+01:00  INFO 18664 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T15:45:41.520+01:00  INFO 18664 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T15:45:41.526+01:00  INFO 18664 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T15:45:41.527+01:00  INFO 18664 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T15:45:41.561+01:00  INFO 18664 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T15:45:41.562+01:00  INFO 18664 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 640 ms
2024-12-05T15:45:41.635+01:00  INFO 18664 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T15:45:41.663+01:00  INFO 18664 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T15:45:41.681+01:00  INFO 18664 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T15:45:41.820+01:00  INFO 18664 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T15:45:41.836+01:00  INFO 18664 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T15:45:41.889+01:00  INFO 18664 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f0a4e30
2024-12-05T15:45:41.890+01:00  INFO 18664 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T15:45:42.321+01:00  INFO 18664 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T15:45:42.375+01:00  INFO 18664 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:45:42.521+01:00  INFO 18664 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T15:45:42.696+01:00  WARN 18664 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T15:45:42.713+01:00  INFO 18664 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T15:45:42.736+01:00  INFO 18664 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T15:45:42.787+01:00 DEBUG 18664 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T15:45:42.815+01:00 DEBUG 18664 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T15:45:42.832+01:00 DEBUG 18664 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T15:45:42.866+01:00 DEBUG 18664 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T15:45:42.866+01:00 DEBUG 18664 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T15:45:42.867+01:00 DEBUG 18664 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T15:45:42.899+01:00 DEBUG 18664 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T15:45:42.917+01:00 DEBUG 18664 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T15:45:42.976+01:00  INFO 18664 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T15:45:42.977+01:00 DEBUG 18664 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:45:42.977+01:00 DEBUG 18664 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:45:42.977+01:00  INFO 18664 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T15:45:42.977+01:00 DEBUG 18664 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@358bbbe2]
2024-12-05T15:45:42.977+01:00 DEBUG 18664 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@358bbbe2]
2024-12-05T15:45:42.978+01:00  INFO 18664 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@358bbbe2]]
2024-12-05T15:45:42.978+01:00  INFO 18664 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T15:45:42.978+01:00 DEBUG 18664 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:45:42.978+01:00 DEBUG 18664 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:45:42.983+01:00  INFO 18664 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.274 seconds (process running for 2.421)
2024-12-05T15:45:44.138+01:00  INFO 18664 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T15:45:44.138+01:00  INFO 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T15:45:44.138+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T15:45:44.138+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T15:45:44.138+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T15:45:44.140+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f1b006b
2024-12-05T15:45:44.140+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@301434fb
2024-12-05T15:45:44.140+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T15:45:44.140+01:00  INFO 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T15:45:44.156+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:45:44.157+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@6108c962
2024-12-05T15:45:44.160+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:45:44.169+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:45:44.175+01:00 DEBUG 18664 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=70ef2b04-dd8d-e0dc-135f-c157c74fbbba, uri=ws://localhost:8080/ws]
2024-12-05T15:45:44.182+01:00 DEBUG 18664 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=70ef2b04-dd8d-e0dc-135f-c157c74fbbba
2024-12-05T15:45:44.188+01:00 DEBUG 18664 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=70ef2b04-dd8d-e0dc-135f-c157c74fbbba
2024-12-05T15:46:42.983+01:00  INFO 18664 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(1)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], outboundChannel[pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T15:51:22.915+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:51:22.918+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=70ef2b04-dd8d-e0dc-135f-c157c74fbbba, uri=ws://localhost:8080/ws]
2024-12-05T15:51:22.920+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=70ef2b04-dd8d-e0dc-135f-c157c74fbbba, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:51:22.920+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 70ef2b04-dd8d-e0dc-135f-c157c74fbbba
2024-12-05T15:51:22.922+01:00 DEBUG 18664 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=70ef2b04-dd8d-e0dc-135f-c157c74fbbba
2024-12-05T15:51:22.923+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:51:22.923+01:00  INFO 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T15:51:22.923+01:00  INFO 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@358bbbe2]]
2024-12-05T15:51:22.924+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@358bbbe2]
2024-12-05T15:51:22.924+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@358bbbe2]
2024-12-05T15:51:22.924+01:00  INFO 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T15:51:22.924+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:51:22.924+01:00 DEBUG 18664 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:51:22.940+01:00  INFO 18664 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:51:22.945+01:00  INFO 18664 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T15:51:22.947+01:00  INFO 18664 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T15:51:29.019+01:00  INFO 22434 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 22434 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T15:51:29.020+01:00  INFO 22434 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T15:51:29.301+01:00  INFO 22434 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T15:51:29.330+01:00  INFO 22434 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2024-12-05T15:51:29.616+01:00  INFO 22434 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T15:51:29.630+01:00  INFO 22434 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T15:51:29.630+01:00  INFO 22434 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T15:51:29.667+01:00  INFO 22434 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T15:51:29.667+01:00  INFO 22434 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 623 ms
2024-12-05T15:51:29.740+01:00  INFO 22434 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T15:51:29.768+01:00  INFO 22434 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T15:51:29.785+01:00  INFO 22434 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T15:51:29.921+01:00  INFO 22434 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T15:51:29.937+01:00  INFO 22434 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T15:51:29.990+01:00  INFO 22434 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b791dca
2024-12-05T15:51:29.990+01:00  INFO 22434 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T15:51:30.489+01:00  INFO 22434 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T15:51:30.549+01:00  INFO 22434 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T15:51:30.703+01:00  INFO 22434 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T15:51:30.875+01:00  WARN 22434 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T15:51:30.892+01:00  INFO 22434 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T15:51:30.914+01:00  INFO 22434 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T15:51:30.965+01:00 DEBUG 22434 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T15:51:30.993+01:00 DEBUG 22434 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'
2024-12-05T15:51:31.010+01:00 DEBUG 22434 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T15:51:31.044+01:00 DEBUG 22434 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T15:51:31.044+01:00 DEBUG 22434 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T15:51:31.044+01:00 DEBUG 22434 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T15:51:31.075+01:00 DEBUG 22434 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T15:51:31.095+01:00 DEBUG 22434 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T15:51:31.155+01:00  INFO 22434 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T15:51:31.156+01:00 DEBUG 22434 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T15:51:31.156+01:00 DEBUG 22434 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T15:51:31.156+01:00  INFO 22434 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T15:51:31.156+01:00 DEBUG 22434 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d8de4bd]
2024-12-05T15:51:31.156+01:00 DEBUG 22434 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d8de4bd]
2024-12-05T15:51:31.156+01:00  INFO 22434 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d8de4bd]]
2024-12-05T15:51:31.156+01:00  INFO 22434 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T15:51:31.156+01:00 DEBUG 22434 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:51:31.156+01:00 DEBUG 22434 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T15:51:31.161+01:00  INFO 22434 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.321 seconds (process running for 2.461)
2024-12-05T15:51:31.858+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T15:51:31.859+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T15:51:31.859+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T15:51:31.859+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T15:51:31.859+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T15:51:31.860+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4e6881e
2024-12-05T15:51:31.861+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@23f16852
2024-12-05T15:51:31.861+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T15:51:31.861+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T15:51:31.878+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:51:31.879+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T15:51:31.882+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:51:31.892+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:51:31.898+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=53713af7-0624-cb7b-681a-a8e031453125, uri=ws://localhost:8080/ws]
2024-12-05T15:51:31.905+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=53713af7-0624-cb7b-681a-a8e031453125
2024-12-05T15:51:31.910+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=53713af7-0624-cb7b-681a-a8e031453125
2024-12-05T15:51:50.748+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=53713af7-0624-cb7b-681a-a8e031453125, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:51:50.749+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 53713af7-0624-cb7b-681a-a8e031453125
2024-12-05T15:51:50.751+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=53713af7-0624-cb7b-681a-a8e031453125
2024-12-05T15:51:50.752+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=53713af7-0624-cb7b-681a-a8e031453125}], simpSessionId=53713af7-0624-cb7b-681a-a8e031453125}]
2024-12-05T15:51:50.983+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:51:50.984+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T15:51:50.984+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:51:50.985+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:51:50.986+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=671a5f0a-8a7c-b972-49a8-b28f1d7c9974, uri=ws://localhost:8080/ws]
2024-12-05T15:51:51.009+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=671a5f0a-8a7c-b972-49a8-b28f1d7c9974
2024-12-05T15:51:51.017+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=671a5f0a-8a7c-b972-49a8-b28f1d7c9974
2024-12-05T15:51:54.503+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=671a5f0a-8a7c-b972-49a8-b28f1d7c9974, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T15:51:54.503+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 671a5f0a-8a7c-b972-49a8-b28f1d7c9974
2024-12-05T15:51:54.503+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-1] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=671a5f0a-8a7c-b972-49a8-b28f1d7c9974
2024-12-05T15:51:54.504+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=671a5f0a-8a7c-b972-49a8-b28f1d7c9974}], simpSessionId=671a5f0a-8a7c-b972-49a8-b28f1d7c9974}]
2024-12-05T15:52:14.291+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:52:14.385+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:52:14.387+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T15:52:14.388+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T15:52:14.394+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T15:52:14.403+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:52:14.403+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T15:52:14.403+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:52:14.420+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T15:52:14.421+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T15:52:14.421+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T15:52:14.422+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T15:52:14.423+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6c31738f-6035-559a-51e9-87b65544388f, uri=ws://localhost:8080/ws]
2024-12-05T15:52:14.425+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6c31738f-6035-559a-51e9-87b65544388f
2024-12-05T15:52:14.426+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:52:14.427+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T15:52:14.429+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:52:14.430+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-7] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6c31738f-6035-559a-51e9-87b65544388f
2024-12-05T15:52:14.430+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T15:52:14.430+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T15:52:14.430+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T15:52:14.430+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:52:14.430+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:52:14.431+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T15:52:14.431+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:52:14.431+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T15:52:14.431+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T15:52:14.432+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T15:52:14.432+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T15:52:14.432+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T15:52:14.432+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:52:14.432+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T15:52:14.433+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T15:52:14.441+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:52:14.449+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T15:52:14.449+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T15:52:14.449+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T15:52:20.460+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c31738f-6035-559a-51e9-87b65544388f, lookupDestination='/chat.sendMessage'
2024-12-05T15:52:20.461+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:52:20.494+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=aqaqa, timestamp=2024-12-05T14:52:20.458, status=sent)
2024-12-05T15:52:20.494+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T15:52:20.503+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=aqaqa, timestamp=2024-12-05T14:52:20.458, status=sent)
2024-12-05T15:52:20.503+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=aqaqa, timestamp=2024-12-05T14:52:20.458, status=sent)
2024-12-05T15:52:20.519+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=9, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=aqaqa, timestamp=2024-12-05T14:52:20.458, status=sent)
2024-12-05T15:52:20.522+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=9, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=aqaqa, timestamp=2024-12-05T14:52:20.458, status=sent)
2024-12-05T15:52:20.522+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=9, senderId=2, conversationId=1, content=aqaqa, timestamp=2024-12-05T14:52:20.458, status=sent)
2024-12-05T15:52:20.530+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c31738f-6035-559a-51e9-87b65544388f payload={"id":9,"senderId":2,"conversationId":1,"content":"aqaqa","timestamp":"2024-12-0...(truncated)
2024-12-05T15:52:20.531+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T15:52:31.154+01:00  INFO 22434 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T15:55:08.567+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c31738f-6035-559a-51e9-87b65544388f, lookupDestination='/chat.sendMessage'
2024-12-05T15:55:08.568+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T15:55:08.577+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-17] o.s.messaging.handler.HandlerMethod      : Could not resolve parameter [0] in public com.openclassrooms.ycyw.dto.ChatDTO com.openclassrooms.ycyw.controllers.ChatController.sendMessage(com.openclassrooms.ycyw.dto.ChatDTO): Could not read JSON: Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 32] (through reference chain: com.openclassrooms.ycyw.dto.ChatDTO["conversationId"])
2024-12-05T15:55:08.577+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle MessageConversionException
2024-12-05T15:55:08.579+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-17] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 32] (through reference chain: com.openclassrooms.ycyw.dto.ChatDTO["conversationId"])
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:256) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:183) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:70) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:144) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 32] (through reference chain: com.openclassrooms.ycyw.dto.ChatDTO["conversationId"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1767) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1541) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1446) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:958) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseInteger(StdDeserializer.java:808) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:531) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:506) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:399) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4905) ~[jackson-databind-2.17.3.jar:2.17.3]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3942) ~[jackson-databind-2.17.3.jar:2.17.3]
	at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:242) ~[spring-messaging-6.1.15.jar:6.1.15]
	... 15 common frames omitted

2024-12-05T16:02:53.750+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6c31738f-6035-559a-51e9-87b65544388f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:02:53.753+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6c31738f-6035-559a-51e9-87b65544388f
2024-12-05T16:02:53.755+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6c31738f-6035-559a-51e9-87b65544388f
2024-12-05T16:02:53.792+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-7] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=6c31738f-6035-559a-51e9-87b65544388f}], simpSessionId=6c31738f-6035-559a-51e9-87b65544388f}]
2024-12-05T16:02:53.901+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:02:53.906+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:02:53.912+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:02:53.922+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:02:53.924+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50, uri=ws://localhost:8080/ws]
2024-12-05T16:02:53.929+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50
2024-12-05T16:02:53.935+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-27] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50
2024-12-05T16:03:09.613+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:03:09.614+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 4336b462-2b26-0e83-e8a9-dbbfc8f1ee50
2024-12-05T16:03:09.617+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-30] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50
2024-12-05T16:03:09.617+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-9] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50}], simpSessionId=4336b462-2b26-0e83-e8a9-dbbfc8f1ee50}]
2024-12-05T16:03:19.539+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:03:19.555+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:03:19.556+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T16:03:19.557+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T16:03:19.557+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T16:03:19.558+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:03:19.558+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T16:03:19.559+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:03:19.575+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:03:19.575+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:03:19.576+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:03:19.578+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:03:19.580+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=03a084b1-e372-e814-fd1a-6b8c9c5c45c0, uri=ws://localhost:8080/ws]
2024-12-05T16:03:19.585+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:03:19.585+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-33] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0
2024-12-05T16:03:19.589+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:03:19.589+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-20] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0
2024-12-05T16:03:19.590+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:03:19.590+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:03:19.591+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T16:03:19.591+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T16:03:19.591+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T16:03:19.591+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T16:03:19.591+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T16:03:19.591+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T16:03:19.591+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:03:19.591+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:03:19.591+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:03:19.591+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:03:19.593+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:03:19.593+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:03:19.593+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:03:19.593+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T16:03:19.594+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:03:19.605+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:03:19.606+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T16:03:19.606+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:03:24.858+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-21] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0, lookupDestination='/chat.sendMessage'
2024-12-05T16:03:24.860+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-21] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:03:24.862+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=cdcdcd, timestamp=2024-12-05T15:03:24.854, status=sent)
2024-12-05T16:03:24.862+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:03:24.867+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cdcdcd, timestamp=2024-12-05T15:03:24.854, status=sent)
2024-12-05T16:03:24.868+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cdcdcd, timestamp=2024-12-05T15:03:24.854, status=sent)
2024-12-05T16:03:24.873+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=10, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cdcdcd, timestamp=2024-12-05T15:03:24.854, status=sent)
2024-12-05T16:03:24.875+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=10, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cdcdcd, timestamp=2024-12-05T15:03:24.854, status=sent)
2024-12-05T16:03:24.875+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=10, senderId=2, conversationId=1, content=cdcdcd, timestamp=2024-12-05T15:03:24.854, status=sent)
2024-12-05T16:03:24.877+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0 payload={"id":10,"senderId":2,"conversationId":1,"content":"cdcdcd","timestamp":"2024-12...(truncated)
2024-12-05T16:03:24.877+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T16:05:50.861+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-36] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0, lookupDestination='/chat.sendMessage'
2024-12-05T16:05:50.864+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-36] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:05:50.865+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=bonjour, timestamp=2024-12-05T15:05:50.854, status=sent)
2024-12-05T16:05:50.865+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:05:50.872+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bonjour, timestamp=2024-12-05T15:05:50.854, status=sent)
2024-12-05T16:05:50.873+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bonjour, timestamp=2024-12-05T15:05:50.854, status=sent)
2024-12-05T16:05:50.875+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=11, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bonjour, timestamp=2024-12-05T15:05:50.854, status=sent)
2024-12-05T16:05:50.876+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=11, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bonjour, timestamp=2024-12-05T15:05:50.854, status=sent)
2024-12-05T16:05:50.877+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=11, senderId=2, conversationId=1, content=bonjour, timestamp=2024-12-05T15:05:50.854, status=sent)
2024-12-05T16:05:50.877+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0 payload={"id":11,"senderId":2,"conversationId":1,"content":"bonjour","timestamp":"2024-1...(truncated)
2024-12-05T16:05:50.877+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T16:07:40.871+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=03a084b1-e372-e814-fd1a-6b8c9c5c45c0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:07:40.872+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 03a084b1-e372-e814-fd1a-6b8c9c5c45c0
2024-12-05T16:07:40.877+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-40] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=03a084b1-e372-e814-fd1a-6b8c9c5c45c0
2024-12-05T16:07:40.879+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-13] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=03a084b1-e372-e814-fd1a-6b8c9c5c45c0}], simpSessionId=03a084b1-e372-e814-fd1a-6b8c9c5c45c0}]
2024-12-05T16:07:41.010+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:07:41.013+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:07:41.014+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:07:41.021+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:07:41.028+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e85406d4-b1d6-f62a-188d-8747ba80ffff, uri=ws://localhost:8080/ws]
2024-12-05T16:07:41.037+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-43] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e85406d4-b1d6-f62a-188d-8747ba80ffff
2024-12-05T16:07:41.045+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-46] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e85406d4-b1d6-f62a-188d-8747ba80ffff
2024-12-05T16:07:46.767+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-48] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=e85406d4-b1d6-f62a-188d-8747ba80ffff, lookupDestination='/chat.sendMessage'
2024-12-05T16:07:46.767+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-48] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:07:46.769+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-48] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=dsdsds, timestamp=2024-12-05T15:07:46.762, status=sent)
2024-12-05T16:07:46.769+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-48] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T16:07:46.776+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-48] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T16:07:46.776+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-48] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T16:07:46.777+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-48] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T16:17:10.811+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e85406d4-b1d6-f62a-188d-8747ba80ffff, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:17:10.812+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e85406d4-b1d6-f62a-188d-8747ba80ffff
2024-12-05T16:17:10.834+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-52] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e85406d4-b1d6-f62a-188d-8747ba80ffff
2024-12-05T16:17:10.837+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-15] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e85406d4-b1d6-f62a-188d-8747ba80ffff}], simpSessionId=e85406d4-b1d6-f62a-188d-8747ba80ffff}]
2024-12-05T16:17:21.685+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:17:21.701+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:17:21.702+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T16:17:21.702+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T16:17:21.703+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T16:17:21.704+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:17:21.705+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T16:17:21.705+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:17:21.721+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:17:21.722+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:17:21.722+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:17:21.724+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:17:21.728+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8b2dd01c-1d39-7423-b048-29739011efa6, uri=ws://localhost:8080/ws]
2024-12-05T16:17:21.729+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:17:21.741+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-55] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8b2dd01c-1d39-7423-b048-29739011efa6
2024-12-05T16:17:21.742+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:17:21.744+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:17:21.744+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T16:17:21.744+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-58] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8b2dd01c-1d39-7423-b048-29739011efa6
2024-12-05T16:17:21.744+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T16:17:21.745+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T16:17:21.745+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:17:21.745+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:17:21.746+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:17:21.746+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T16:17:21.746+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T16:17:21.746+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T16:17:21.746+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:17:21.746+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:17:21.746+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:17:21.746+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:17:21.747+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T16:17:21.747+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:17:21.747+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:17:21.752+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:17:21.752+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T16:17:21.753+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:17:28.490+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-60] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=8b2dd01c-1d39-7423-b048-29739011efa6, lookupDestination='/chat.sendMessage'
2024-12-05T16:17:28.491+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-60] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:17:28.494+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=sqsqsq, timestamp=2024-12-05T15:17:28.483, status=sent)
2024-12-05T16:17:28.494+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:17:28.498+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sqsqsq, timestamp=2024-12-05T15:17:28.483, status=sent)
2024-12-05T16:17:28.498+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sqsqsq, timestamp=2024-12-05T15:17:28.483, status=sent)
2024-12-05T16:17:28.503+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=12, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sqsqsq, timestamp=2024-12-05T15:17:28.483, status=sent)
2024-12-05T16:17:28.504+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=12, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sqsqsq, timestamp=2024-12-05T15:17:28.483, status=sent)
2024-12-05T16:17:28.504+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-60] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=12, senderId=2, conversationId=1, content=sqsqsq, timestamp=2024-12-05T15:17:28.483, status=sent)
2024-12-05T16:17:28.505+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-60] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=8b2dd01c-1d39-7423-b048-29739011efa6 payload={"id":12,"senderId":2,"conversationId":1,"content":"sqsqsq","timestamp":"2024-12...(truncated)
2024-12-05T16:17:28.506+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-60] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T16:22:31.193+01:00  INFO 22434 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 7 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(7)-CONNECTED(7)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 78], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 17], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2024-12-05T16:32:24.221+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8b2dd01c-1d39-7423-b048-29739011efa6, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:32:24.230+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8b2dd01c-1d39-7423-b048-29739011efa6
2024-12-05T16:32:24.240+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-64] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8b2dd01c-1d39-7423-b048-29739011efa6
2024-12-05T16:32:24.285+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-18] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8b2dd01c-1d39-7423-b048-29739011efa6}], simpSessionId=8b2dd01c-1d39-7423-b048-29739011efa6}]
2024-12-05T16:32:24.436+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:32:24.437+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:32:24.438+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:32:24.440+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:32:24.447+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=53f79bb8-6af1-fe4d-b917-e7ed110664dc, uri=ws://localhost:8080/ws]
2024-12-05T16:32:24.455+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-67] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=53f79bb8-6af1-fe4d-b917-e7ed110664dc
2024-12-05T16:32:24.471+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-70] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=53f79bb8-6af1-fe4d-b917-e7ed110664dc
2024-12-05T16:38:28.028+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=53f79bb8-6af1-fe4d-b917-e7ed110664dc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:38:28.029+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 53f79bb8-6af1-fe4d-b917-e7ed110664dc
2024-12-05T16:38:28.031+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-73] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=53f79bb8-6af1-fe4d-b917-e7ed110664dc
2024-12-05T16:38:28.032+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-20] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=53f79bb8-6af1-fe4d-b917-e7ed110664dc}], simpSessionId=53f79bb8-6af1-fe4d-b917-e7ed110664dc}]
2024-12-05T16:38:28.238+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:38:28.239+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:38:28.240+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:38:28.249+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:38:28.283+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2baaad73-405c-ba4c-8154-e4a500614bec, uri=ws://localhost:8080/ws]
2024-12-05T16:38:28.286+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-76] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=2baaad73-405c-ba4c-8154-e4a500614bec
2024-12-05T16:38:28.292+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-79] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=2baaad73-405c-ba4c-8154-e4a500614bec
2024-12-05T16:38:50.453+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-81] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=2baaad73-405c-ba4c-8154-e4a500614bec, lookupDestination='/chat.sendMessage'
2024-12-05T16:38:50.453+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-81] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:38:50.454+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-81] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=xxxxxx, timestamp=2024-12-05T15:38:50.450, status=sent)
2024-12-05T16:38:50.455+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-81] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T16:38:50.462+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-81] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T16:38:50.463+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-81] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T16:38:50.463+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-81] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T16:39:05.030+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2baaad73-405c-ba4c-8154-e4a500614bec, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:39:05.031+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 2baaad73-405c-ba4c-8154-e4a500614bec
2024-12-05T16:39:05.032+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-85] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=2baaad73-405c-ba4c-8154-e4a500614bec
2024-12-05T16:39:05.033+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-22] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2baaad73-405c-ba4c-8154-e4a500614bec}], simpSessionId=2baaad73-405c-ba4c-8154-e4a500614bec}]
2024-12-05T16:39:05.206+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:39:05.207+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:39:05.207+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:39:05.207+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:39:05.208+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=75c58b09-8ba7-41f2-bc91-90ea6eb93b91, uri=ws://localhost:8080/ws]
2024-12-05T16:39:05.229+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-87] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=75c58b09-8ba7-41f2-bc91-90ea6eb93b91
2024-12-05T16:39:05.232+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-73] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=75c58b09-8ba7-41f2-bc91-90ea6eb93b91
2024-12-05T16:39:07.154+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=75c58b09-8ba7-41f2-bc91-90ea6eb93b91, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:39:07.154+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 75c58b09-8ba7-41f2-bc91-90ea6eb93b91
2024-12-05T16:39:07.154+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-76] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=75c58b09-8ba7-41f2-bc91-90ea6eb93b91
2024-12-05T16:39:07.155+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-24] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=75c58b09-8ba7-41f2-bc91-90ea6eb93b91}], simpSessionId=75c58b09-8ba7-41f2-bc91-90ea6eb93b91}]
2024-12-05T16:39:23.644+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:39:23.650+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:39:23.651+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T16:39:23.651+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T16:39:23.651+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T16:39:23.652+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:39:23.653+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T16:39:23.653+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:39:23.666+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:39:23.667+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:39:23.668+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:39:23.670+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:39:23.670+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:39:23.670+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=3d08ac40-a3f8-a01f-dd2f-31298147a358, uri=ws://localhost:8080/ws]
2024-12-05T16:39:23.671+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:39:23.672+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-79] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=3d08ac40-a3f8-a01f-dd2f-31298147a358
2024-12-05T16:39:23.672+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:39:23.673+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T16:39:23.673+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T16:39:23.673+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T16:39:23.673+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:39:23.673+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:39:23.675+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:39:23.675+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-81] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=3d08ac40-a3f8-a01f-dd2f-31298147a358
2024-12-05T16:39:23.675+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:39:23.675+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T16:39:23.676+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:39:23.676+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T16:39:23.676+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:39:23.676+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T16:39:23.676+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T16:39:23.676+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:39:23.676+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:39:23.679+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:39:23.682+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:39:23.682+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T16:39:23.682+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:39:35.049+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-88] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=3d08ac40-a3f8-a01f-dd2f-31298147a358, lookupDestination='/chat.sendMessage'
2024-12-05T16:39:35.051+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-88] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:39:35.052+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=salut, timestamp=2024-12-05T15:39:35.044, status=sent)
2024-12-05T16:39:35.052+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:39:35.057+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:39:35.044, status=sent)
2024-12-05T16:39:35.057+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:39:35.044, status=sent)
2024-12-05T16:39:35.063+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=13, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:39:35.044, status=sent)
2024-12-05T16:39:35.065+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=13, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:39:35.044, status=sent)
2024-12-05T16:39:35.065+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-88] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=13, senderId=2, conversationId=1, content=salut, timestamp=2024-12-05T15:39:35.044, status=sent)
2024-12-05T16:39:35.066+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-88] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=3d08ac40-a3f8-a01f-dd2f-31298147a358 payload={"id":13,"senderId":2,"conversationId":1,"content":"salut","timestamp":"2024-12-...(truncated)
2024-12-05T16:39:35.066+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-88] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T16:42:53.068+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=3d08ac40-a3f8-a01f-dd2f-31298147a358, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:42:53.069+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 3d08ac40-a3f8-a01f-dd2f-31298147a358
2024-12-05T16:42:53.084+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=3d08ac40-a3f8-a01f-dd2f-31298147a358
2024-12-05T16:42:53.178+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-27] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3d08ac40-a3f8-a01f-dd2f-31298147a358}], simpSessionId=3d08ac40-a3f8-a01f-dd2f-31298147a358}]
2024-12-05T16:42:53.342+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:42:53.345+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:42:53.346+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:42:53.347+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:42:53.349+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b1f836ae-ad50-3841-a673-de36767943ae, uri=ws://localhost:8080/ws]
2024-12-05T16:42:53.369+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b1f836ae-ad50-3841-a673-de36767943ae
2024-12-05T16:42:53.408+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-98] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b1f836ae-ad50-3841-a673-de36767943ae
2024-12-05T16:43:01.061+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=b1f836ae-ad50-3841-a673-de36767943ae, lookupDestination='/chat.sendMessage'
2024-12-05T16:43:01.062+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:43:01.064+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-100] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=salut, timestamp=2024-12-05T15:43:01.058, status=sent)
2024-12-05T16:43:01.065+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-100] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T16:43:01.077+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-100] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T16:43:01.078+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T16:43:01.078+01:00 ERROR 22434 --- [ycyw] [clientInboundChannel-100] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T16:43:11.847+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b1f836ae-ad50-3841-a673-de36767943ae, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:43:11.847+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b1f836ae-ad50-3841-a673-de36767943ae
2024-12-05T16:43:11.851+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-104] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b1f836ae-ad50-3841-a673-de36767943ae
2024-12-05T16:43:11.852+01:00 DEBUG 22434 --- [ycyw] [clientOutboundChannel-29] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b1f836ae-ad50-3841-a673-de36767943ae}], simpSessionId=b1f836ae-ad50-3841-a673-de36767943ae}]
2024-12-05T16:43:23.543+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:43:23.555+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:43:23.556+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T16:43:23.557+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T16:43:23.557+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T16:43:23.559+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:43:23.559+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T16:43:23.559+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:43:23.574+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:43:23.574+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@30fffb53
2024-12-05T16:43:23.574+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:43:23.575+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:43:23.575+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=d1ee3779-40d3-bd89-02f2-22d3e85462f4, uri=ws://localhost:8080/ws]
2024-12-05T16:43:23.580+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:43:23.585+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:43:23.585+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-91] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=d1ee3779-40d3-bd89-02f2-22d3e85462f4
2024-12-05T16:43:23.587+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:43:23.587+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T16:43:23.587+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T16:43:23.587+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T16:43:23.587+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:43:23.587+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:43:23.589+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=d1ee3779-40d3-bd89-02f2-22d3e85462f4
2024-12-05T16:43:23.594+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:43:23.594+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:43:23.594+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T16:43:23.594+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:43:23.594+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T16:43:23.594+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T16:43:23.594+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T16:43:23.594+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:43:23.594+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:43:23.595+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:43:23.596+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:43:23.599+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:43:23.599+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T16:43:23.599+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:43:29.487+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-95] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=d1ee3779-40d3-bd89-02f2-22d3e85462f4, lookupDestination='/chat.sendMessage'
2024-12-05T16:43:29.488+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-95] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:43:29.489+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=salut, timestamp=2024-12-05T15:43:29.484, status=sent)
2024-12-05T16:43:29.489+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:43:29.494+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:43:29.484, status=sent)
2024-12-05T16:43:29.495+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:43:29.484, status=sent)
2024-12-05T16:43:29.498+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=14, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:43:29.484, status=sent)
2024-12-05T16:43:29.500+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=14, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=salut, timestamp=2024-12-05T15:43:29.484, status=sent)
2024-12-05T16:43:29.500+01:00  INFO 22434 --- [ycyw] [clientInboundChannel-95] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=14, senderId=2, conversationId=1, content=salut, timestamp=2024-12-05T15:43:29.484, status=sent)
2024-12-05T16:43:29.501+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=d1ee3779-40d3-bd89-02f2-22d3e85462f4 payload={"id":14,"senderId":2,"conversationId":1,"content":"salut","timestamp":"2024-12-...(truncated)
2024-12-05T16:43:29.501+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T16:43:29.523+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:43:29.530+01:00  INFO 22434 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:43:29.530+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T16:43:29.532+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2024-12-05T16:43:29.534+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2024-12-05T16:43:29.540+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/user/2.]
2024-12-05T16:43:29.540+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2024-12-05T16:43:29.541+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2024-12-05T16:43:29.541+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-05T16:43:29.549+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:43:29.550+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Dec 05 16:43:29 CET 2024, status=404, error=Not Found, path=/api/user/2}]
2024-12-05T16:43:29.556+01:00 DEBUG 22434 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2024-12-05T16:52:31.189+01:00  INFO 22434 --- [ycyw] [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 13 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(13)-CONNECTED(13)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 144], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 31], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2024-12-05T16:55:38.202+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T16:55:38.205+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.adapter.NativeWebSocketSession   : Closing StandardWebSocketSession[id=d1ee3779-40d3-bd89-02f2-22d3e85462f4, uri=ws://localhost:8080/ws]
2024-12-05T16:55:38.206+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=d1ee3779-40d3-bd89-02f2-22d3e85462f4, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:55:38.206+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session d1ee3779-40d3-bd89-02f2-22d3e85462f4
2024-12-05T16:55:38.208+01:00 DEBUG 22434 --- [ycyw] [clientInboundChannel-108] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=d1ee3779-40d3-bd89-02f2-22d3e85462f4
2024-12-05T16:55:38.208+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T16:55:38.208+01:00  INFO 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T16:55:38.208+01:00  INFO 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d8de4bd]]
2024-12-05T16:55:38.209+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d8de4bd]
2024-12-05T16:55:38.209+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d8de4bd]
2024-12-05T16:55:38.209+01:00  INFO 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T16:55:38.209+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T16:55:38.209+01:00 DEBUG 22434 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T16:55:38.226+01:00  INFO 22434 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T16:55:38.230+01:00  INFO 22434 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T16:55:38.232+01:00  INFO 22434 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-05T16:55:45.328+01:00  INFO 63489 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Starting YcywApplication using Java 17.0.13 with PID 63489 (/Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back/target/classes started by didierbd in /Users/didierbd/Library/CloudStorage/SynologyDrive-Didier-BD/DOCUMENTS/FORMATIONS/OPENCLASSROOMS/DEV FULL STACK et ANGULAR/P13 - Définissez une solution fonctionnelle et concevez l’architecture d’une application/OC-P13-PoC/OC-P13-Architecture-Application-Full-Stack-PoC/OCP13-Chat-PoC/back)
2024-12-05T16:55:45.333+01:00  INFO 63489 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : No active profile set, falling back to 1 default profile: "default"
2024-12-05T16:55:45.628+01:00  INFO 63489 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-05T16:55:45.657+01:00  INFO 63489 --- [ycyw] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2024-12-05T16:55:45.961+01:00  INFO 63489 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-05T16:55:45.969+01:00  INFO 63489 --- [ycyw] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-05T16:55:45.969+01:00  INFO 63489 --- [ycyw] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-05T16:55:46.011+01:00  INFO 63489 --- [ycyw] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-05T16:55:46.011+01:00  INFO 63489 --- [ycyw] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 657 ms
2024-12-05T16:55:46.090+01:00  INFO 63489 --- [ycyw] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-05T16:55:46.123+01:00  INFO 63489 --- [ycyw] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-05T16:55:46.142+01:00  INFO 63489 --- [ycyw] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-05T16:55:46.298+01:00  INFO 63489 --- [ycyw] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-05T16:55:46.316+01:00  INFO 63489 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-05T16:55:46.375+01:00  INFO 63489 --- [ycyw] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@15ac02d5
2024-12-05T16:55:46.376+01:00  INFO 63489 --- [ycyw] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-05T16:55:46.812+01:00  INFO 63489 --- [ycyw] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-05T16:55:46.878+01:00  INFO 63489 --- [ycyw] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T16:55:47.014+01:00  INFO 63489 --- [ycyw] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-05T16:55:47.199+01:00  WARN 63489 --- [ycyw] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-05T16:55:47.216+01:00  INFO 63489 --- [ycyw] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2024-12-05T16:55:47.248+01:00  INFO 63489 --- [ycyw] [main] c.o.ycyw.config.SecurityConfig           : --------------securityConfigJAVA : Configuring HttpSecurity
2024-12-05T16:55:47.307+01:00 DEBUG 63489 --- [ycyw] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws] in 'stompWebSocketHandlerMapping'
2024-12-05T16:55:47.336+01:00 DEBUG 63489 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2024-12-05T16:55:47.354+01:00 DEBUG 63489 --- [ycyw] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2024-12-05T16:55:47.388+01:00 DEBUG 63489 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.ChatController:
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatDTO)
2024-12-05T16:55:47.389+01:00 DEBUG 63489 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	c.o.y.c.UserController:
	
2024-12-05T16:55:47.389+01:00 DEBUG 63489 --- [ycyw] [main] .WebSocketAnnotationMethodMessageHandler : 
	o.s.b.a.w.s.e.BasicErrorController:
	
2024-12-05T16:55:47.419+01:00 DEBUG 63489 --- [ycyw] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-05T16:55:47.440+01:00 DEBUG 63489 --- [ycyw] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-05T16:55:47.500+01:00  INFO 63489 --- [ycyw] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-05T16:55:47.501+01:00 DEBUG 63489 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T16:55:47.501+01:00 DEBUG 63489 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T16:55:47.501+01:00  INFO 63489 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2024-12-05T16:55:47.501+01:00 DEBUG 63489 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@298f7b0a]
2024-12-05T16:55:47.501+01:00 DEBUG 63489 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@298f7b0a]
2024-12-05T16:55:47.501+01:00  INFO 63489 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@298f7b0a]]
2024-12-05T16:55:47.502+01:00  INFO 63489 --- [ycyw] [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2024-12-05T16:55:47.502+01:00 DEBUG 63489 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T16:55:47.502+01:00 DEBUG 63489 --- [ycyw] [main] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T16:55:47.506+01:00  INFO 63489 --- [ycyw] [main] c.openclassrooms.ycyw.YcywApplication    : Started YcywApplication in 2.4 seconds (process running for 2.575)
2024-12-05T16:55:49.031+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-05T16:55:49.033+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-05T16:55:49.033+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-05T16:55:49.033+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-05T16:55:49.033+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-05T16:55:49.034+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@76d654
2024-12-05T16:55:49.034+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@30a8ac50
2024-12-05T16:55:49.035+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-12-05T16:55:49.035+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-05T16:55:49.051+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:55:49.052+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T16:55:49.055+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:55:49.066+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:55:49.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=7f424253-5003-656f-8c67-0afcbeb62534, uri=ws://localhost:8080/ws]
2024-12-05T16:55:49.079+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-2] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=7f424253-5003-656f-8c67-0afcbeb62534
2024-12-05T16:55:49.084+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=7f424253-5003-656f-8c67-0afcbeb62534
2024-12-05T16:56:02.254+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=7f424253-5003-656f-8c67-0afcbeb62534, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:56:02.254+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 7f424253-5003-656f-8c67-0afcbeb62534
2024-12-05T16:56:02.262+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=7f424253-5003-656f-8c67-0afcbeb62534
2024-12-05T16:56:02.266+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-2] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=7f424253-5003-656f-8c67-0afcbeb62534}], simpSessionId=7f424253-5003-656f-8c67-0afcbeb62534}]
2024-12-05T16:56:02.463+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:56:02.463+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T16:56:02.464+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:56:02.466+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:56:02.467+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=edf84635-c17f-e1fd-50bd-1b9039cddf07, uri=ws://localhost:8080/ws]
2024-12-05T16:56:02.481+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-11] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=edf84635-c17f-e1fd-50bd-1b9039cddf07
2024-12-05T16:56:02.484+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-14] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=edf84635-c17f-e1fd-50bd-1b9039cddf07
2024-12-05T16:56:03.158+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=edf84635-c17f-e1fd-50bd-1b9039cddf07, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T16:56:03.158+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session edf84635-c17f-e1fd-50bd-1b9039cddf07
2024-12-05T16:56:03.164+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-16] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=edf84635-c17f-e1fd-50bd-1b9039cddf07
2024-12-05T16:56:03.165+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-4] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=edf84635-c17f-e1fd-50bd-1b9039cddf07}], simpSessionId=edf84635-c17f-e1fd-50bd-1b9039cddf07}]
2024-12-05T16:56:18.906+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:56:19.004+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:56:19.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T16:56:19.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T16:56:19.014+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T16:56:19.023+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:56:19.023+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T16:56:19.024+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:56:19.037+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T16:56:19.038+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T16:56:19.039+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T16:56:19.040+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T16:56:19.044+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e693d01d-b5be-249e-4837-58eef4609136, uri=ws://localhost:8080/ws]
2024-12-05T16:56:19.045+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-4] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e693d01d-b5be-249e-4837-58eef4609136
2024-12-05T16:56:19.045+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:56:19.046+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:56:19.048+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-5] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e693d01d-b5be-249e-4837-58eef4609136
2024-12-05T16:56:19.048+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:56:19.049+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T16:56:19.049+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T16:56:19.049+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T16:56:19.049+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:56:19.049+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:56:19.051+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:56:19.051+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:56:19.051+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:56:19.051+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T16:56:19.051+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T16:56:19.052+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T16:56:19.052+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T16:56:19.052+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T16:56:19.052+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T16:56:19.053+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T16:56:19.060+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:56:19.067+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:56:19.067+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T16:56:19.068+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:56:26.071+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=e693d01d-b5be-249e-4837-58eef4609136, lookupDestination='/chat.sendMessage'
2024-12-05T16:56:26.078+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-8] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T16:56:26.121+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=test, timestamp=2024-12-05T15:56:26.067, status=sent)
2024-12-05T16:56:26.122+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:56:26.131+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T15:56:26.067, status=sent)
2024-12-05T16:56:26.131+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T15:56:26.067, status=sent)
2024-12-05T16:56:26.148+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=15, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T15:56:26.067, status=sent)
2024-12-05T16:56:26.153+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=15, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T15:56:26.067, status=sent)
2024-12-05T16:56:26.153+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-8] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=15, senderId=2, conversationId=1, content=test, timestamp=2024-12-05T15:56:26.067, status=sent)
2024-12-05T16:56:26.160+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=e693d01d-b5be-249e-4837-58eef4609136 payload={"id":15,"senderId":2,"conversationId":1,"content":"test","timestamp":"2024-12-0...(truncated)
2024-12-05T16:56:26.161+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-8] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T16:56:26.168+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T16:56:26.170+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:56:26.170+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T16:56:26.170+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T16:56:26.176+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T16:56:26.177+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T16:56:26.178+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T16:56:26.180+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T16:56:26.180+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T16:56:26.181+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T16:56:47.498+01:00  INFO 63489 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2024-12-05T17:01:41.680+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e693d01d-b5be-249e-4837-58eef4609136, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:01:41.695+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e693d01d-b5be-249e-4837-58eef4609136
2024-12-05T17:01:41.703+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e693d01d-b5be-249e-4837-58eef4609136
2024-12-05T17:01:41.743+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-7] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e693d01d-b5be-249e-4837-58eef4609136}], simpSessionId=e693d01d-b5be-249e-4837-58eef4609136}]
2024-12-05T17:01:41.831+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:01:41.832+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:01:41.834+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:01:41.840+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:01:41.842+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=f7c23e12-ff3b-9533-e3d3-a134a4f90a54, uri=ws://localhost:8080/ws]
2024-12-05T17:01:41.852+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=f7c23e12-ff3b-9533-e3d3-a134a4f90a54
2024-12-05T17:01:41.860+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-24] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=f7c23e12-ff3b-9533-e3d3-a134a4f90a54
2024-12-05T17:01:48.577+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-26] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f7c23e12-ff3b-9533-e3d3-a134a4f90a54, lookupDestination='/chat.sendMessage'
2024-12-05T17:01:48.579+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-26] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:01:48.583+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-26] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=toto, timestamp=2024-12-05T16:01:48.572, status=sent)
2024-12-05T17:01:48.583+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-26] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T17:01:48.597+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-26] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T17:01:48.597+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-26] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T17:01:48.601+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-26] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T17:01:57.197+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=f7c23e12-ff3b-9533-e3d3-a134a4f90a54, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:01:57.198+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session f7c23e12-ff3b-9533-e3d3-a134a4f90a54
2024-12-05T17:01:57.202+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-30] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=f7c23e12-ff3b-9533-e3d3-a134a4f90a54
2024-12-05T17:01:57.202+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-9] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=f7c23e12-ff3b-9533-e3d3-a134a4f90a54}], simpSessionId=f7c23e12-ff3b-9533-e3d3-a134a4f90a54}]
2024-12-05T17:02:04.666+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:04.670+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:04.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:02:04.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:02:04.671+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:02:04.672+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:04.672+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:02:04.672+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:02:04.682+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:02:04.682+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:02:04.682+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:02:04.685+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:02:04.686+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=61c90651-1f2f-15eb-6b3b-719725d3c96a, uri=ws://localhost:8080/ws]
2024-12-05T17:02:04.690+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:04.690+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-32] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=61c90651-1f2f-15eb-6b3b-719725d3c96a
2024-12-05T17:02:04.692+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:04.693+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:04.694+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=61c90651-1f2f-15eb-6b3b-719725d3c96a
2024-12-05T17:02:04.694+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:02:04.694+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:02:04.694+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:02:04.694+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:02:04.694+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:02:04.695+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:02:04.695+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:04.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:02:04.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:02:04.697+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:02:04.700+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:04.700+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:02:04.701+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:02:08.982+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-21] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=61c90651-1f2f-15eb-6b3b-719725d3c96a, lookupDestination='/chat.sendMessage'
2024-12-05T17:02:08.984+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-21] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:02:08.985+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=toto, timestamp=2024-12-05T16:02:08.977, status=sent)
2024-12-05T17:02:08.986+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:02:08.992+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=toto, timestamp=2024-12-05T16:02:08.977, status=sent)
2024-12-05T17:02:08.992+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=toto, timestamp=2024-12-05T16:02:08.977, status=sent)
2024-12-05T17:02:08.997+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=16, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=toto, timestamp=2024-12-05T16:02:08.977, status=sent)
2024-12-05T17:02:08.999+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=16, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=toto, timestamp=2024-12-05T16:02:08.977, status=sent)
2024-12-05T17:02:09.000+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-21] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=16, senderId=2, conversationId=1, content=toto, timestamp=2024-12-05T16:02:08.977, status=sent)
2024-12-05T17:02:09.001+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=61c90651-1f2f-15eb-6b3b-719725d3c96a payload={"id":16,"senderId":2,"conversationId":1,"content":"toto","timestamp":"2024-12-0...(truncated)
2024-12-05T17:02:09.001+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T17:02:09.015+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:09.021+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:09.022+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:02:09.022+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:02:09.023+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:02:09.023+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:02:09.026+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:09.026+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:09.027+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:02:09.028+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:02:35.791+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=61c90651-1f2f-15eb-6b3b-719725d3c96a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:02:35.791+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 61c90651-1f2f-15eb-6b3b-719725d3c96a
2024-12-05T17:02:35.793+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-25] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=61c90651-1f2f-15eb-6b3b-719725d3c96a
2024-12-05T17:02:35.793+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-12] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=61c90651-1f2f-15eb-6b3b-719725d3c96a}], simpSessionId=61c90651-1f2f-15eb-6b3b-719725d3c96a}]
2024-12-05T17:02:35.985+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:02:35.986+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:02:35.986+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:02:35.987+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:02:35.987+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=30fcc348-c231-bed0-333e-06b49b51f0fb, uri=ws://localhost:8080/ws]
2024-12-05T17:02:35.990+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-26] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=30fcc348-c231-bed0-333e-06b49b51f0fb
2024-12-05T17:02:35.994+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-30] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=30fcc348-c231-bed0-333e-06b49b51f0fb
2024-12-05T17:02:40.178+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=30fcc348-c231-bed0-333e-06b49b51f0fb, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:02:40.178+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 30fcc348-c231-bed0-333e-06b49b51f0fb
2024-12-05T17:02:40.178+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-32] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=30fcc348-c231-bed0-333e-06b49b51f0fb
2024-12-05T17:02:40.179+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-14] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=30fcc348-c231-bed0-333e-06b49b51f0fb}], simpSessionId=30fcc348-c231-bed0-333e-06b49b51f0fb}]
2024-12-05T17:02:40.280+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:02:40.281+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:02:40.281+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:02:40.281+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:02:40.282+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8c8d8916-8f4a-d25e-0c82-65e1da130fe4, uri=ws://localhost:8080/ws]
2024-12-05T17:02:40.303+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-18] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4
2024-12-05T17:02:40.307+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-21] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4
2024-12-05T17:02:53.289+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:53.305+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:53.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:02:53.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:02:53.307+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:02:53.308+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:53.308+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:02:53.309+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:02:53.323+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:53.330+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:53.330+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-34] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-1 session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4
2024-12-05T17:02:53.331+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:02:53.331+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:02:53.331+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:02:53.331+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:02:53.331+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:02:53.332+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:02:53.333+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:02:53.333+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:53.333+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:02:53.334+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:02:53.334+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:02:53.335+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:02:53.335+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:02:53.336+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:02:53.336+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:02:53.336+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:02:53.339+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:02:53.342+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:02:53.342+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:02:53.342+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:03:01.277+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-36] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4, lookupDestination='/chat.sendMessage'
2024-12-05T17:03:01.278+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-36] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:03:01.281+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=test, timestamp=2024-12-05T16:03:01.273, status=sent)
2024-12-05T17:03:01.281+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:03:01.286+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T16:03:01.273, status=sent)
2024-12-05T17:03:01.286+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T16:03:01.273, status=sent)
2024-12-05T17:03:01.291+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=17, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T16:03:01.273, status=sent)
2024-12-05T17:03:01.292+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=17, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test, timestamp=2024-12-05T16:03:01.273, status=sent)
2024-12-05T17:03:01.293+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-36] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=17, senderId=2, conversationId=1, content=test, timestamp=2024-12-05T16:03:01.273, status=sent)
2024-12-05T17:03:01.294+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4 payload={"id":17,"senderId":2,"conversationId":1,"content":"test","timestamp":"2024-12-0...(truncated)
2024-12-05T17:03:01.294+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-36] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T17:03:01.309+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:03:01.314+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:03:01.327+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:01.327+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:01.327+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:03:01.327+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:03:01.327+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:03:01.327+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:03:01.328+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:03:01.328+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:03:01.328+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:03:01.328+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:03:01.329+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:01.329+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:01.329+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:03:01.329+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:03:01.330+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:03:01.330+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:03:01.331+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:03:01.332+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:03:13.740+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4, lookupDestination='/chat.sendMessage'
2024-12-05T17:03:13.742+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-29] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:03:13.744+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=test 2, timestamp=2024-12-05T16:03:13.738, status=sent)
2024-12-05T17:03:13.744+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:03:13.748+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 2, timestamp=2024-12-05T16:03:13.738, status=sent)
2024-12-05T17:03:13.748+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 2, timestamp=2024-12-05T16:03:13.738, status=sent)
2024-12-05T17:03:13.750+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=18, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 2, timestamp=2024-12-05T16:03:13.738, status=sent)
2024-12-05T17:03:13.752+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=18, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 2, timestamp=2024-12-05T16:03:13.738, status=sent)
2024-12-05T17:03:13.752+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-29] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=18, senderId=2, conversationId=1, content=test 2, timestamp=2024-12-05T16:03:13.738, status=sent)
2024-12-05T17:03:13.753+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4 payload={"id":18,"senderId":2,"conversationId":1,"content":"test 2","timestamp":"2024-12...(truncated)
2024-12-05T17:03:13.753+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-29] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T17:03:13.766+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:03:13.768+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:03:13.769+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:13.770+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:03:13.770+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:13.770+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:03:13.770+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:03:13.770+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:03:13.770+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:03:13.770+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:03:13.770+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:03:13.770+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:03:13.771+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:13.772+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:03:13.772+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:03:13.772+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:03:13.772+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:03:13.772+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:03:13.773+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:03:13.773+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:04:00.297+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8c8d8916-8f4a-d25e-0c82-65e1da130fe4, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:04:00.300+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8c8d8916-8f4a-d25e-0c82-65e1da130fe4
2024-12-05T17:04:00.317+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-39] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8c8d8916-8f4a-d25e-0c82-65e1da130fe4
2024-12-05T17:04:00.318+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-20] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8c8d8916-8f4a-d25e-0c82-65e1da130fe4}], simpSessionId=8c8d8916-8f4a-d25e-0c82-65e1da130fe4}]
2024-12-05T17:04:10.283+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:04:10.295+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:04:10.296+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:04:10.296+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:04:10.296+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:04:10.297+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:04:10.297+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:04:10.297+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:04:10.314+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:04:10.315+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:04:10.315+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:04:10.323+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:04:10.324+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:04:10.324+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:04:10.325+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4e393542-2060-6c64-fd12-7f70074882cf, uri=ws://localhost:8080/ws]
2024-12-05T17:04:10.326+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:04:10.326+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:04:10.326+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:04:10.326+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:04:10.326+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:04:10.326+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-42] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=4e393542-2060-6c64-fd12-7f70074882cf
2024-12-05T17:04:10.326+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:04:10.326+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:04:10.326+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:04:10.326+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:04:10.327+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:04:10.327+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:04:10.327+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:04:10.329+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:04:10.329+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-45] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=4e393542-2060-6c64-fd12-7f70074882cf
2024-12-05T17:04:10.330+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:04:10.330+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:04:10.330+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:04:10.332+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:04:10.339+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:04:10.339+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:04:10.339+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:04:17.869+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-47] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=4e393542-2060-6c64-fd12-7f70074882cf, lookupDestination='/chat.sendMessage'
2024-12-05T17:04:17.870+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-47] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:04:17.872+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=safari, timestamp=2024-12-05T16:04:17.865, status=sent)
2024-12-05T17:04:17.872+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:04:17.881+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari, timestamp=2024-12-05T16:04:17.865, status=sent)
2024-12-05T17:04:17.882+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari, timestamp=2024-12-05T16:04:17.865, status=sent)
2024-12-05T17:04:17.893+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=19, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari, timestamp=2024-12-05T16:04:17.865, status=sent)
2024-12-05T17:04:17.896+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=19, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari, timestamp=2024-12-05T16:04:17.865, status=sent)
2024-12-05T17:04:17.896+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-47] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=19, senderId=2, conversationId=1, content=safari, timestamp=2024-12-05T16:04:17.865, status=sent)
2024-12-05T17:04:17.897+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-47] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=4e393542-2060-6c64-fd12-7f70074882cf payload={"id":19,"senderId":2,"conversationId":1,"content":"safari","timestamp":"2024-12...(truncated)
2024-12-05T17:04:17.897+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-47] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 1 sessions.
2024-12-05T17:04:17.910+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:04:17.915+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:04:17.916+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:04:17.916+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:04:17.917+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:04:17.917+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:04:17.919+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:04:17.920+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:04:17.920+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:04:17.921+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:08.687+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:08.695+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:08.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:05:08.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:05:08.697+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:05:08.697+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:08.698+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:05:08.698+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:08.710+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:05:08.710+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:05:08.710+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:05:08.711+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:08.711+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:05:08.711+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=d6a66763-4e58-9672-32cb-60c97f263d5f, uri=ws://localhost:8080/ws]
2024-12-05T17:05:08.712+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:08.713+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:08.713+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:05:08.713+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:08.714+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:05:08.714+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:05:08.714+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:05:08.715+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:05:08.715+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-51] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=d6a66763-4e58-9672-32cb-60c97f263d5f
2024-12-05T17:05:08.715+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:05:08.716+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:08.716+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:05:08.717+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:08.717+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:08.717+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:05:08.717+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:08.718+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-54] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=d6a66763-4e58-9672-32cb-60c97f263d5f
2024-12-05T17:05:19.638+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-56] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=d6a66763-4e58-9672-32cb-60c97f263d5f, lookupDestination='/chat.sendMessage'
2024-12-05T17:05:19.640+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-56] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:05:19.642+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=safari reel, timestamp=2024-12-05T16:05:19.634, status=sent)
2024-12-05T17:05:19.642+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:05:19.646+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari reel, timestamp=2024-12-05T16:05:19.634, status=sent)
2024-12-05T17:05:19.646+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari reel, timestamp=2024-12-05T16:05:19.634, status=sent)
2024-12-05T17:05:19.649+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=20, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari reel, timestamp=2024-12-05T16:05:19.634, status=sent)
2024-12-05T17:05:19.651+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=20, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=safari reel, timestamp=2024-12-05T16:05:19.634, status=sent)
2024-12-05T17:05:19.651+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-56] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=20, senderId=2, conversationId=1, content=safari reel, timestamp=2024-12-05T16:05:19.634, status=sent)
2024-12-05T17:05:19.652+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=d6a66763-4e58-9672-32cb-60c97f263d5f payload={"id":20,"senderId":2,"conversationId":1,"content":"safari reel","timestamp":"20...(truncated)
2024-12-05T17:05:19.652+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-56] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:05:19.666+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:19.669+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:19.670+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:19.670+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:05:19.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:05:19.671+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:19.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:05:19.671+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:05:19.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:05:19.671+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:05:19.672+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:05:19.672+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:05:19.673+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:19.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:19.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:05:19.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:19.675+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:19.675+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:19.676+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:05:19.678+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:32.454+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-59] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=4e393542-2060-6c64-fd12-7f70074882cf, lookupDestination='/chat.sendMessage'
2024-12-05T17:05:32.456+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-59] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:05:32.457+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=edge, timestamp=2024-12-05T16:05:32.449, status=sent)
2024-12-05T17:05:32.457+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:05:32.461+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=edge, timestamp=2024-12-05T16:05:32.449, status=sent)
2024-12-05T17:05:32.462+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=edge, timestamp=2024-12-05T16:05:32.449, status=sent)
2024-12-05T17:05:32.464+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=21, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=edge, timestamp=2024-12-05T16:05:32.449, status=sent)
2024-12-05T17:05:32.465+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=21, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=edge, timestamp=2024-12-05T16:05:32.449, status=sent)
2024-12-05T17:05:32.465+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-59] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=21, senderId=2, conversationId=1, content=edge, timestamp=2024-12-05T16:05:32.449, status=sent)
2024-12-05T17:05:32.465+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-59] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=4e393542-2060-6c64-fd12-7f70074882cf payload={"id":21,"senderId":2,"conversationId":1,"content":"edge","timestamp":"2024-12-0...(truncated)
2024-12-05T17:05:32.466+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-59] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:05:32.478+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:32.478+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:05:32.482+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:32.482+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:32.483+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:05:32.483+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:05:32.483+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:05:32.483+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:05:32.483+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:05:32.483+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:05:32.483+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:05:32.484+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:05:32.486+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:32.486+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:05:32.487+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:32.487+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:05:32.487+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:05:32.487+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:05:32.488+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:05:32.488+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:08:15.976+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4e393542-2060-6c64-fd12-7f70074882cf, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:08:15.982+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 4e393542-2060-6c64-fd12-7f70074882cf
2024-12-05T17:08:15.985+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-63] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=4e393542-2060-6c64-fd12-7f70074882cf
2024-12-05T17:08:15.986+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-28] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4e393542-2060-6c64-fd12-7f70074882cf}], simpSessionId=4e393542-2060-6c64-fd12-7f70074882cf}]
2024-12-05T17:08:16.032+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=d6a66763-4e58-9672-32cb-60c97f263d5f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:08:16.033+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session d6a66763-4e58-9672-32cb-60c97f263d5f
2024-12-05T17:08:16.035+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=d6a66763-4e58-9672-32cb-60c97f263d5f
2024-12-05T17:08:16.036+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-29] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=d6a66763-4e58-9672-32cb-60c97f263d5f}], simpSessionId=d6a66763-4e58-9672-32cb-60c97f263d5f}]
2024-12-05T17:08:16.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:08:16.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:08:16.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:08:16.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:08:16.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:08:16.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:08:16.167+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:08:16.167+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:08:16.171+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=031e4afe-6655-5173-5a53-eb3ae3435181, uri=ws://localhost:8080/ws]
2024-12-05T17:08:16.171+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=1b94c09e-b167-0b4c-34c6-125af7b61738, uri=ws://localhost:8080/ws]
2024-12-05T17:08:16.173+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-70] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=1b94c09e-b167-0b4c-34c6-125af7b61738
2024-12-05T17:08:16.174+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=031e4afe-6655-5173-5a53-eb3ae3435181
2024-12-05T17:08:16.176+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-75] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=1b94c09e-b167-0b4c-34c6-125af7b61738
2024-12-05T17:08:16.177+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=031e4afe-6655-5173-5a53-eb3ae3435181
2024-12-05T17:08:34.381+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:08:34.408+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:34.408+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:08:34.408+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:08:34.409+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:08:34.410+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:08:34.410+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:08:34.410+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:08:34.420+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:08:34.422+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:08:34.422+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-63] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-1 session=031e4afe-6655-5173-5a53-eb3ae3435181
2024-12-05T17:08:34.422+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:34.423+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:08:34.423+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:34.423+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:08:34.423+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:08:34.423+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:08:34.424+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:08:34.424+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:08:34.424+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:08:34.424+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:08:34.424+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:08:34.424+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:08:34.428+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:08:34.428+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:08:34.429+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:08:34.429+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:08:34.430+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:08:34.433+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:08:34.433+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:08:34.433+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:08:41.578+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=031e4afe-6655-5173-5a53-eb3ae3435181, lookupDestination='/chat.sendMessage'
2024-12-05T17:08:41.579+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:08:41.582+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=test 3, timestamp=2024-12-05T16:08:41.574, status=sent)
2024-12-05T17:08:41.582+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:08:41.588+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 3, timestamp=2024-12-05T16:08:41.574, status=sent)
2024-12-05T17:08:41.588+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 3, timestamp=2024-12-05T16:08:41.574, status=sent)
2024-12-05T17:08:41.593+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=22, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 3, timestamp=2024-12-05T16:08:41.574, status=sent)
2024-12-05T17:08:41.595+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=22, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=test 3, timestamp=2024-12-05T16:08:41.574, status=sent)
2024-12-05T17:08:41.595+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-66] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=22, senderId=2, conversationId=1, content=test 3, timestamp=2024-12-05T16:08:41.574, status=sent)
2024-12-05T17:08:41.596+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=031e4afe-6655-5173-5a53-eb3ae3435181 payload={"id":22,"senderId":2,"conversationId":1,"content":"test 3","timestamp":"2024-12...(truncated)
2024-12-05T17:08:41.596+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:08:41.610+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:08:41.610+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:08:41.612+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:41.612+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:41.612+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:08:41.612+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:08:41.612+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:08:41.613+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:08:41.613+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:08:41.613+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:08:41.613+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:08:41.613+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:08:41.614+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:41.614+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:08:41.615+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:08:41.615+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:08:41.615+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:08:41.615+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:08:41.615+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:08:41.615+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:08:54.856+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=031e4afe-6655-5173-5a53-eb3ae3435181, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:08:54.857+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 031e4afe-6655-5173-5a53-eb3ae3435181
2024-12-05T17:08:54.860+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-72] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=031e4afe-6655-5173-5a53-eb3ae3435181
2024-12-05T17:08:54.885+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-35] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=031e4afe-6655-5173-5a53-eb3ae3435181}], simpSessionId=031e4afe-6655-5173-5a53-eb3ae3435181}]
2024-12-05T17:08:54.899+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=1b94c09e-b167-0b4c-34c6-125af7b61738, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:08:54.899+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 1b94c09e-b167-0b4c-34c6-125af7b61738
2024-12-05T17:08:54.900+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=1b94c09e-b167-0b4c-34c6-125af7b61738
2024-12-05T17:08:54.903+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-36] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=1b94c09e-b167-0b4c-34c6-125af7b61738}], simpSessionId=1b94c09e-b167-0b4c-34c6-125af7b61738}]
2024-12-05T17:08:54.989+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:08:54.989+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:08:54.989+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:08:54.990+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:08:54.990+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05, uri=ws://localhost:8080/ws]
2024-12-05T17:08:54.992+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-77] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05
2024-12-05T17:08:54.994+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05
2024-12-05T17:08:55.005+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:08:55.005+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:08:55.005+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:08:55.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:08:55.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=aab41244-2769-98d5-f46d-8955bca22d4f, uri=ws://localhost:8080/ws]
2024-12-05T17:08:55.047+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-63] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=aab41244-2769-98d5-f46d-8955bca22d4f
2024-12-05T17:08:55.051+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=aab41244-2769-98d5-f46d-8955bca22d4f
2024-12-05T17:09:03.075+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-72] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=aab41244-2769-98d5-f46d-8955bca22d4f, lookupDestination='/chat.sendMessage'
2024-12-05T17:09:03.076+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-72] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:09:03.077+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-72] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=test 4, timestamp=2024-12-05T16:09:03.072, status=sent)
2024-12-05T17:09:03.077+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-72] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T17:09:03.081+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-72] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T17:09:03.081+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-72] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T17:09:03.081+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-72] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T17:09:25.845+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=aab41244-2769-98d5-f46d-8955bca22d4f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:09:25.845+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session aab41244-2769-98d5-f46d-8955bca22d4f
2024-12-05T17:09:25.847+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-79] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=aab41244-2769-98d5-f46d-8955bca22d4f
2024-12-05T17:09:25.847+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-39] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=aab41244-2769-98d5-f46d-8955bca22d4f}], simpSessionId=aab41244-2769-98d5-f46d-8955bca22d4f}]
2024-12-05T17:09:25.957+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:09:25.957+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05
2024-12-05T17:09:25.971+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-82] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05
2024-12-05T17:09:25.972+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-40] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05}], simpSessionId=f4b9df9a-12b7-3bbc-7f1b-0bd71c203c05}]
2024-12-05T17:09:26.009+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:09:26.009+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:09:26.009+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:09:26.010+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:09:26.011+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe, uri=ws://localhost:8080/ws]
2024-12-05T17:09:26.045+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:09:26.045+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:09:26.045+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:09:26.045+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:09:26.046+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1, uri=ws://localhost:8080/ws]
2024-12-05T17:09:26.048+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-76] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe
2024-12-05T17:09:26.048+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1
2024-12-05T17:09:26.056+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe
2024-12-05T17:09:26.056+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-72] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1
2024-12-05T17:09:28.833+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:09:28.834+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe
2024-12-05T17:09:28.846+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-79] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe
2024-12-05T17:09:28.863+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-43] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe}], simpSessionId=4a4ad7c9-66c7-f4b5-b8e8-e3ab4c7d17fe}]
2024-12-05T17:09:43.686+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:09:43.695+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:09:43.695+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:09:43.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:09:43.696+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:09:43.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:09:43.697+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:09:43.697+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:09:43.711+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:09:43.712+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:09:43.712+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:09:43.712+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:09:43.712+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:09:43.714+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:09:43.714+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=24855364-d068-0222-6ea8-5fc802a1cfbc, uri=ws://localhost:8080/ws]
2024-12-05T17:09:43.715+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:09:43.715+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:09:43.715+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:09:43.716+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:09:43.715+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:09:43.716+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:09:43.716+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:09:43.716+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:09:43.716+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:09:43.716+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:09:43.716+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:09:43.716+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:09:43.717+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-83] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=24855364-d068-0222-6ea8-5fc802a1cfbc
2024-12-05T17:09:43.720+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:09:43.720+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:09:43.721+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:09:43.721+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:09:43.721+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-65] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=24855364-d068-0222-6ea8-5fc802a1cfbc
2024-12-05T17:09:43.721+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:09:43.723+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:09:43.723+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:09:43.723+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:09:49.134+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=24855364-d068-0222-6ea8-5fc802a1cfbc, lookupDestination='/chat.sendMessage'
2024-12-05T17:09:49.134+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:09:49.136+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=kjsdqhfqsjkhfqjkhdf, timestamp=2024-12-05T16:09:49.130, status=sent)
2024-12-05T17:09:49.136+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:09:49.141+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=kjsdqhfqsjkhfqjkhdf, timestamp=2024-12-05T16:09:49.130, status=sent)
2024-12-05T17:09:49.141+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=kjsdqhfqsjkhfqjkhdf, timestamp=2024-12-05T16:09:49.130, status=sent)
2024-12-05T17:09:49.144+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=23, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=kjsdqhfqsjkhfqjkhdf, timestamp=2024-12-05T16:09:49.130, status=sent)
2024-12-05T17:09:49.147+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=23, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=kjsdqhfqsjkhfqjkhdf, timestamp=2024-12-05T16:09:49.130, status=sent)
2024-12-05T17:09:49.147+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-62] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=23, senderId=2, conversationId=1, content=kjsdqhfqsjkhfqjkhdf, timestamp=2024-12-05T16:09:49.130, status=sent)
2024-12-05T17:09:49.148+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=24855364-d068-0222-6ea8-5fc802a1cfbc payload={"id":23,"senderId":2,"conversationId":1,"content":"kjsdqhfqsjkhfqjkhdf","timest...(truncated)
2024-12-05T17:09:49.148+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-62] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:09:49.158+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:09:49.161+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:09:49.162+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:09:49.162+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:09:49.163+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:09:49.163+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:09:49.165+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:09:49.165+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:09:49.165+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:09:49.166+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:09:58.947+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:09:58.947+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b7ab628c-a469-5f17-e6ef-c35b21d0ddb1
2024-12-05T17:09:58.948+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1
2024-12-05T17:09:58.950+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-47] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1}], simpSessionId=b7ab628c-a469-5f17-e6ef-c35b21d0ddb1}]
2024-12-05T17:09:59.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:09:59.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:09:59.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:09:59.006+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:09:59.007+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=ebd9c304-3370-aeb8-076a-e3a10e98dd40, uri=ws://localhost:8080/ws]
2024-12-05T17:09:59.008+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=ebd9c304-3370-aeb8-076a-e3a10e98dd40
2024-12-05T17:09:59.009+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-79] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=ebd9c304-3370-aeb8-076a-e3a10e98dd40
2024-12-05T17:10:03.847+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-84] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=ebd9c304-3370-aeb8-076a-e3a10e98dd40, lookupDestination='/chat.sendMessage'
2024-12-05T17:10:03.848+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-84] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:10:03.850+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-84] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=bbbbbbb, timestamp=2024-12-05T16:10:03.844, status=sent)
2024-12-05T17:10:03.850+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-84] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T17:10:03.854+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-84] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T17:10:03.854+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-84] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T17:10:03.854+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-84] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T17:10:10.499+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=ebd9c304-3370-aeb8-076a-e3a10e98dd40, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:10:10.499+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session ebd9c304-3370-aeb8-076a-e3a10e98dd40
2024-12-05T17:10:10.501+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-65] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=ebd9c304-3370-aeb8-076a-e3a10e98dd40
2024-12-05T17:10:10.503+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-49] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ebd9c304-3370-aeb8-076a-e3a10e98dd40}], simpSessionId=ebd9c304-3370-aeb8-076a-e3a10e98dd40}]
2024-12-05T17:10:14.344+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:10:14.348+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:14.349+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:10:14.349+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:10:14.350+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:10:14.350+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:10:14.350+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:10:14.350+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:10:14.366+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:10:14.366+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:10:14.366+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:10:14.367+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:10:14.367+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:10:14.367+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:10:14.367+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3, uri=ws://localhost:8080/ws]
2024-12-05T17:10:14.369+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-78] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:14.369+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:10:14.369+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:10:14.369+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:10:14.369+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:10:14.369+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:10:14.370+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-66] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3
2024-12-05T17:10:14.370+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:10:14.370+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:10:14.371+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:10:14.371+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:10:14.371+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:10:14.373+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:10:14.373+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:10:14.373+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:10:20.922+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3, lookupDestination='/chat.sendMessage'
2024-12-05T17:10:20.922+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:10:20.924+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=bla, timestamp=2024-12-05T16:10:20.919, status=sent)
2024-12-05T17:10:20.924+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:10:20.928+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bla, timestamp=2024-12-05T16:10:20.919, status=sent)
2024-12-05T17:10:20.929+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bla, timestamp=2024-12-05T16:10:20.919, status=sent)
2024-12-05T17:10:20.931+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=24, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bla, timestamp=2024-12-05T16:10:20.919, status=sent)
2024-12-05T17:10:20.934+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=24, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bla, timestamp=2024-12-05T16:10:20.919, status=sent)
2024-12-05T17:10:20.934+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-71] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=24, senderId=2, conversationId=1, content=bla, timestamp=2024-12-05T16:10:20.919, status=sent)
2024-12-05T17:10:20.935+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3 payload={"id":24,"senderId":2,"conversationId":1,"content":"bla","timestamp":"2024-12-05...(truncated)
2024-12-05T17:10:20.935+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-71] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:10:20.946+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:10:20.949+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:10:20.950+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:20.950+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:10:20.950+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:10:20.951+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:10:20.951+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:10:20.952+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:20.952+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:20.952+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:10:20.952+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:10:20.953+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:10:20.953+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:10:20.953+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:10:20.953+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:10:20.954+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:10:20.954+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:10:20.955+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:10:20.955+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:10:20.957+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:13:14.101+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=24855364-d068-0222-6ea8-5fc802a1cfbc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:13:14.102+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 24855364-d068-0222-6ea8-5fc802a1cfbc
2024-12-05T17:13:14.106+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=24855364-d068-0222-6ea8-5fc802a1cfbc
2024-12-05T17:13:14.109+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-53] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=24855364-d068-0222-6ea8-5fc802a1cfbc}], simpSessionId=24855364-d068-0222-6ea8-5fc802a1cfbc}]
2024-12-05T17:13:14.137+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:13:14.137+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 9c497c73-fa1e-2fbd-64dc-ab2adc2685e3
2024-12-05T17:13:14.138+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-89] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3
2024-12-05T17:13:14.139+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-54] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3}], simpSessionId=9c497c73-fa1e-2fbd-64dc-ab2adc2685e3}]
2024-12-05T17:13:14.140+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:13:14.140+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:13:14.140+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:13:14.142+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:13:14.147+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=57126e36-f17d-c508-a533-e891e37d247a, uri=ws://localhost:8080/ws]
2024-12-05T17:13:14.151+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=57126e36-f17d-c508-a533-e891e37d247a
2024-12-05T17:13:14.155+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=57126e36-f17d-c508-a533-e891e37d247a
2024-12-05T17:13:14.210+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:13:14.210+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:13:14.211+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:13:14.211+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:13:14.211+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=5e641a12-918d-adb7-1040-bf7c1cf4cd4c, uri=ws://localhost:8080/ws]
2024-12-05T17:13:14.213+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-98] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=5e641a12-918d-adb7-1040-bf7c1cf4cd4c
2024-12-05T17:13:14.214+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=5e641a12-918d-adb7-1040-bf7c1cf4cd4c
2024-12-05T17:13:36.833+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=57126e36-f17d-c508-a533-e891e37d247a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:13:36.834+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 57126e36-f17d-c508-a533-e891e37d247a
2024-12-05T17:13:36.834+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=57126e36-f17d-c508-a533-e891e37d247a
2024-12-05T17:13:36.835+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-57] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=57126e36-f17d-c508-a533-e891e37d247a}], simpSessionId=57126e36-f17d-c508-a533-e891e37d247a}]
2024-12-05T17:13:36.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=5e641a12-918d-adb7-1040-bf7c1cf4cd4c, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:13:36.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5e641a12-918d-adb7-1040-bf7c1cf4cd4c
2024-12-05T17:13:36.850+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-90] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5e641a12-918d-adb7-1040-bf7c1cf4cd4c
2024-12-05T17:13:36.852+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-58] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5e641a12-918d-adb7-1040-bf7c1cf4cd4c}], simpSessionId=5e641a12-918d-adb7-1040-bf7c1cf4cd4c}]
2024-12-05T17:13:36.876+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:13:36.876+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:13:36.876+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:13:36.877+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:13:36.878+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e5dae22f-3c30-6001-0045-8941e5c4f705, uri=ws://localhost:8080/ws]
2024-12-05T17:13:36.881+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e5dae22f-3c30-6001-0045-8941e5c4f705
2024-12-05T17:13:36.882+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e5dae22f-3c30-6001-0045-8941e5c4f705
2024-12-05T17:13:36.910+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:13:36.910+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:13:36.910+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:13:36.911+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:13:36.911+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73, uri=ws://localhost:8080/ws]
2024-12-05T17:13:36.912+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-98] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73
2024-12-05T17:13:36.913+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73
2024-12-05T17:13:40.305+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e5dae22f-3c30-6001-0045-8941e5c4f705, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:13:40.305+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e5dae22f-3c30-6001-0045-8941e5c4f705
2024-12-05T17:13:40.306+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e5dae22f-3c30-6001-0045-8941e5c4f705
2024-12-05T17:13:40.306+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-61] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e5dae22f-3c30-6001-0045-8941e5c4f705}], simpSessionId=e5dae22f-3c30-6001-0045-8941e5c4f705}]
2024-12-05T17:13:40.335+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:13:40.335+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:13:40.335+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:13:40.336+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:13:40.336+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cf72d978-3785-0b2e-cce1-4326bc08c5a2, uri=ws://localhost:8080/ws]
2024-12-05T17:13:40.339+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-94] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=cf72d978-3785-0b2e-cce1-4326bc08c5a2
2024-12-05T17:13:40.340+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-92] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=cf72d978-3785-0b2e-cce1-4326bc08c5a2
2024-12-05T17:13:44.322+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cf72d978-3785-0b2e-cce1-4326bc08c5a2, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:13:44.322+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session cf72d978-3785-0b2e-cce1-4326bc08c5a2
2024-12-05T17:13:44.323+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-95] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=cf72d978-3785-0b2e-cce1-4326bc08c5a2
2024-12-05T17:13:44.324+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-63] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cf72d978-3785-0b2e-cce1-4326bc08c5a2}], simpSessionId=cf72d978-3785-0b2e-cce1-4326bc08c5a2}]
2024-12-05T17:13:49.802+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:13:49.819+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:13:49.820+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:13:49.820+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:13:49.821+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:13:49.822+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:13:49.822+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:13:49.822+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:13:49.838+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:13:49.838+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:13:49.841+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:13:49.841+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:13:49.841+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:13:49.841+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:13:49.842+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:13:49.842+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:13:49.842+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:13:49.842+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:13:49.842+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:13:49.842+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:13:49.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=5c7a673a-cebd-744e-e983-5e790b5d59f2, uri=ws://localhost:8080/ws]
2024-12-05T17:13:49.843+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:13:49.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:13:49.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:13:49.843+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:13:49.843+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:13:49.843+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:13:49.844+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:13:49.844+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-98] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=5c7a673a-cebd-744e-e983-5e790b5d59f2
2024-12-05T17:13:49.845+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:13:49.845+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:13:49.845+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:13:49.846+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-100] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=5c7a673a-cebd-744e-e983-5e790b5d59f2
2024-12-05T17:13:49.847+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:13:49.849+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:13:49.849+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:13:49.850+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:13:53.204+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5c7a673a-cebd-744e-e983-5e790b5d59f2, lookupDestination='/chat.sendMessage'
2024-12-05T17:13:53.205+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:13:53.207+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=xvwvwv, timestamp=2024-12-05T16:13:53.201, status=sent)
2024-12-05T17:13:53.207+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:13:53.212+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xvwvwv, timestamp=2024-12-05T16:13:53.201, status=sent)
2024-12-05T17:13:53.212+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xvwvwv, timestamp=2024-12-05T16:13:53.201, status=sent)
2024-12-05T17:13:53.215+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=25, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xvwvwv, timestamp=2024-12-05T16:13:53.201, status=sent)
2024-12-05T17:13:53.217+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=25, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xvwvwv, timestamp=2024-12-05T16:13:53.201, status=sent)
2024-12-05T17:13:53.217+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-86] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=25, senderId=2, conversationId=1, content=xvwvwv, timestamp=2024-12-05T16:13:53.201, status=sent)
2024-12-05T17:13:53.219+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5c7a673a-cebd-744e-e983-5e790b5d59f2 payload={"id":25,"senderId":2,"conversationId":1,"content":"xvwvwv","timestamp":"2024-12...(truncated)
2024-12-05T17:13:53.219+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-86] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:13:53.227+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:13:53.230+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:13:53.231+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:13:53.231+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:13:53.232+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:13:53.232+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:13:53.234+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:13:53.234+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:13:53.234+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:13:53.235+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:16:47.942+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=5c7a673a-cebd-744e-e983-5e790b5d59f2, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:16:47.943+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5c7a673a-cebd-744e-e983-5e790b5d59f2
2024-12-05T17:16:47.945+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-102] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5c7a673a-cebd-744e-e983-5e790b5d59f2
2024-12-05T17:16:47.946+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-67] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5c7a673a-cebd-744e-e983-5e790b5d59f2}], simpSessionId=5c7a673a-cebd-744e-e983-5e790b5d59f2}]
2024-12-05T17:16:47.980+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:16:47.980+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:16:47.980+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:16:47.981+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:16:47.982+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=2629358c-49b0-bfa9-b313-c62af46587db, uri=ws://localhost:8080/ws]
2024-12-05T17:16:47.984+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-105] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=2629358c-49b0-bfa9-b313-c62af46587db
2024-12-05T17:16:47.987+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-108] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=2629358c-49b0-bfa9-b313-c62af46587db
2024-12-05T17:16:48.010+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:16:48.010+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73
2024-12-05T17:16:48.010+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-111] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73
2024-12-05T17:16:48.011+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-69] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73}], simpSessionId=2c2ea8d6-c6f4-92ea-1dcb-5bab2848cf73}]
2024-12-05T17:16:48.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:16:48.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:16:48.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:16:48.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:16:48.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=58d5d67a-6317-7bee-0722-47fdf197a69d, uri=ws://localhost:8080/ws]
2024-12-05T17:16:48.072+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-114] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=58d5d67a-6317-7bee-0722-47fdf197a69d
2024-12-05T17:16:48.074+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-116] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=58d5d67a-6317-7bee-0722-47fdf197a69d
2024-12-05T17:16:58.377+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=2629358c-49b0-bfa9-b313-c62af46587db, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:16:58.378+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 2629358c-49b0-bfa9-b313-c62af46587db
2024-12-05T17:16:58.379+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-102] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=2629358c-49b0-bfa9-b313-c62af46587db
2024-12-05T17:16:58.385+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-71] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2629358c-49b0-bfa9-b313-c62af46587db}], simpSessionId=2629358c-49b0-bfa9-b313-c62af46587db}]
2024-12-05T17:16:58.390+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=58d5d67a-6317-7bee-0722-47fdf197a69d, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:16:58.390+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 58d5d67a-6317-7bee-0722-47fdf197a69d
2024-12-05T17:16:58.390+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-105] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=58d5d67a-6317-7bee-0722-47fdf197a69d
2024-12-05T17:16:58.391+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-72] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=58d5d67a-6317-7bee-0722-47fdf197a69d}], simpSessionId=58d5d67a-6317-7bee-0722-47fdf197a69d}]
2024-12-05T17:16:58.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:16:58.420+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:16:58.420+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:16:58.421+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:16:58.426+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=4c030091-9efe-2f91-d1f4-3dc87c3279b9, uri=ws://localhost:8080/ws]
2024-12-05T17:16:58.427+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-109] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=4c030091-9efe-2f91-d1f4-3dc87c3279b9
2024-12-05T17:16:58.428+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-113] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=4c030091-9efe-2f91-d1f4-3dc87c3279b9
2024-12-05T17:16:58.465+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:16:58.465+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:16:58.465+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:16:58.465+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:16:58.466+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=1d132004-42a2-7aeb-bf80-210aae49a07c, uri=ws://localhost:8080/ws]
2024-12-05T17:16:58.468+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-103] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=1d132004-42a2-7aeb-bf80-210aae49a07c
2024-12-05T17:16:58.470+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-116] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=1d132004-42a2-7aeb-bf80-210aae49a07c
2024-12-05T17:18:24.453+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=4c030091-9efe-2f91-d1f4-3dc87c3279b9, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:18:24.455+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 4c030091-9efe-2f91-d1f4-3dc87c3279b9
2024-12-05T17:18:24.459+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-118] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=4c030091-9efe-2f91-d1f4-3dc87c3279b9
2024-12-05T17:18:24.460+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-75] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4c030091-9efe-2f91-d1f4-3dc87c3279b9}], simpSessionId=4c030091-9efe-2f91-d1f4-3dc87c3279b9}]
2024-12-05T17:18:24.478+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=1d132004-42a2-7aeb-bf80-210aae49a07c, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:18:24.478+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 1d132004-42a2-7aeb-bf80-210aae49a07c
2024-12-05T17:18:24.479+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-121] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=1d132004-42a2-7aeb-bf80-210aae49a07c
2024-12-05T17:18:24.479+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-76] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=1d132004-42a2-7aeb-bf80-210aae49a07c}], simpSessionId=1d132004-42a2-7aeb-bf80-210aae49a07c}]
2024-12-05T17:18:24.491+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:18:24.491+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:18:24.492+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:18:24.493+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:18:24.499+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=7ab3a370-a5cb-82e4-36ca-57cd29461438, uri=ws://localhost:8080/ws]
2024-12-05T17:18:24.503+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-124] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=7ab3a370-a5cb-82e4-36ca-57cd29461438
2024-12-05T17:18:24.506+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-127] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=7ab3a370-a5cb-82e4-36ca-57cd29461438
2024-12-05T17:18:24.544+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:18:24.544+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:18:24.544+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:18:24.545+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:18:24.545+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c, uri=ws://localhost:8080/ws]
2024-12-05T17:18:24.547+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-130] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c
2024-12-05T17:18:24.548+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-117] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c
2024-12-05T17:18:40.410+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=7ab3a370-a5cb-82e4-36ca-57cd29461438, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:18:40.410+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 7ab3a370-a5cb-82e4-36ca-57cd29461438
2024-12-05T17:18:40.411+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-118] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=7ab3a370-a5cb-82e4-36ca-57cd29461438
2024-12-05T17:18:40.415+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-79] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=7ab3a370-a5cb-82e4-36ca-57cd29461438}], simpSessionId=7ab3a370-a5cb-82e4-36ca-57cd29461438}]
2024-12-05T17:18:50.745+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:18:50.761+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:18:50.762+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:18:50.762+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:18:50.763+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:18:50.764+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:18:50.764+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:18:50.764+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:18:50.779+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:18:50.779+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:18:50.783+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:18:50.783+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:18:50.783+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:18:50.784+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:18:50.785+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=3bdfda35-9085-63b7-68ee-f42b34d3a260, uri=ws://localhost:8080/ws]
2024-12-05T17:18:50.786+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-121] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=3bdfda35-9085-63b7-68ee-f42b34d3a260
2024-12-05T17:18:50.788+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:18:50.789+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:18:50.789+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:18:50.790+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-124] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=3bdfda35-9085-63b7-68ee-f42b34d3a260
2024-12-05T17:18:50.790+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:18:50.790+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:18:50.790+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:18:50.791+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:18:50.791+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:18:50.791+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:18:50.792+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:18:50.792+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:18:50.792+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:18:50.792+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:18:50.793+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:18:50.793+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:18:50.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:18:50.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:18:50.798+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:18:50.799+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:18:50.799+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:18:55.418+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-128] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=3bdfda35-9085-63b7-68ee-f42b34d3a260, lookupDestination='/chat.sendMessage'
2024-12-05T17:18:55.419+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-128] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:18:55.422+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=sdqqsfqsfdqsf, timestamp=2024-12-05T16:18:55.414, status=sent)
2024-12-05T17:18:55.422+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:18:55.427+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdqqsfqsfdqsf, timestamp=2024-12-05T16:18:55.414, status=sent)
2024-12-05T17:18:55.428+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdqqsfqsfdqsf, timestamp=2024-12-05T16:18:55.414, status=sent)
2024-12-05T17:18:55.432+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=26, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdqqsfqsfdqsf, timestamp=2024-12-05T16:18:55.414, status=sent)
2024-12-05T17:18:55.433+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=26, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdqqsfqsfdqsf, timestamp=2024-12-05T16:18:55.414, status=sent)
2024-12-05T17:18:55.434+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-128] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=26, senderId=2, conversationId=1, content=sdqqsfqsfdqsf, timestamp=2024-12-05T16:18:55.414, status=sent)
2024-12-05T17:18:55.435+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-128] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=3bdfda35-9085-63b7-68ee-f42b34d3a260 payload={"id":26,"senderId":2,"conversationId":1,"content":"sdqqsfqsfdqsf","timestamp":"...(truncated)
2024-12-05T17:18:55.435+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-128] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:18:55.444+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:18:55.448+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:18:55.448+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:18:55.448+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:18:55.449+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:18:55.449+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:18:55.451+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-4] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:18:55.451+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:18:55.451+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:18:55.452+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:21:05.893+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=3bdfda35-9085-63b7-68ee-f42b34d3a260, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:21:05.894+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 3bdfda35-9085-63b7-68ee-f42b34d3a260
2024-12-05T17:21:05.896+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-134] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=3bdfda35-9085-63b7-68ee-f42b34d3a260
2024-12-05T17:21:05.897+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-83] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3bdfda35-9085-63b7-68ee-f42b34d3a260}], simpSessionId=3bdfda35-9085-63b7-68ee-f42b34d3a260}]
2024-12-05T17:21:05.915+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:21:05.918+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session bd2d5aec-ab2d-e742-89e1-3ac038ffca8c
2024-12-05T17:21:05.922+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-137] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c
2024-12-05T17:21:05.923+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-84] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c}], simpSessionId=bd2d5aec-ab2d-e742-89e1-3ac038ffca8c}]
2024-12-05T17:21:05.942+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:21:05.943+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:21:05.943+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:21:05.945+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:21:05.946+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=dd73b868-e483-b1f5-96fe-4ce529623c0d, uri=ws://localhost:8080/ws]
2024-12-05T17:21:05.947+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-140] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=dd73b868-e483-b1f5-96fe-4ce529623c0d
2024-12-05T17:21:05.950+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-143] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=dd73b868-e483-b1f5-96fe-4ce529623c0d
2024-12-05T17:21:06.013+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:21:06.013+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:21:06.013+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:21:06.014+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:21:06.016+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=efb514d5-d7c1-a0ba-de8b-e57db8cee298, uri=ws://localhost:8080/ws]
2024-12-05T17:21:06.018+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-146] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=efb514d5-d7c1-a0ba-de8b-e57db8cee298
2024-12-05T17:21:06.022+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-133] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=efb514d5-d7c1-a0ba-de8b-e57db8cee298
2024-12-05T17:22:13.026+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=dd73b868-e483-b1f5-96fe-4ce529623c0d, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:22:13.026+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session dd73b868-e483-b1f5-96fe-4ce529623c0d
2024-12-05T17:22:13.028+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-150] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=dd73b868-e483-b1f5-96fe-4ce529623c0d
2024-12-05T17:22:13.030+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-87] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=dd73b868-e483-b1f5-96fe-4ce529623c0d}], simpSessionId=dd73b868-e483-b1f5-96fe-4ce529623c0d}]
2024-12-05T17:22:13.035+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=efb514d5-d7c1-a0ba-de8b-e57db8cee298, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:22:13.035+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session efb514d5-d7c1-a0ba-de8b-e57db8cee298
2024-12-05T17:22:13.048+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-153] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=efb514d5-d7c1-a0ba-de8b-e57db8cee298
2024-12-05T17:22:13.049+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-88] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=efb514d5-d7c1-a0ba-de8b-e57db8cee298}], simpSessionId=efb514d5-d7c1-a0ba-de8b-e57db8cee298}]
2024-12-05T17:22:13.065+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:22:13.065+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:22:13.066+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:22:13.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:22:13.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=3707016f-b646-62db-47ed-082f3ea93cd1, uri=ws://localhost:8080/ws]
2024-12-05T17:22:13.074+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-156] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=3707016f-b646-62db-47ed-082f3ea93cd1
2024-12-05T17:22:13.076+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-159] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=3707016f-b646-62db-47ed-082f3ea93cd1
2024-12-05T17:22:13.111+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:22:13.111+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:22:13.111+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:22:13.111+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:22:13.112+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=49d7441c-b561-c89e-8627-2ff035e97dde, uri=ws://localhost:8080/ws]
2024-12-05T17:22:13.113+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-162] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=49d7441c-b561-c89e-8627-2ff035e97dde
2024-12-05T17:22:13.120+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-149] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=49d7441c-b561-c89e-8627-2ff035e97dde
2024-12-05T17:22:27.483+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=3707016f-b646-62db-47ed-082f3ea93cd1, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:22:27.484+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 3707016f-b646-62db-47ed-082f3ea93cd1
2024-12-05T17:22:27.485+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-152] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=3707016f-b646-62db-47ed-082f3ea93cd1
2024-12-05T17:22:27.486+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-91] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3707016f-b646-62db-47ed-082f3ea93cd1}], simpSessionId=3707016f-b646-62db-47ed-082f3ea93cd1}]
2024-12-05T17:22:27.493+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=49d7441c-b561-c89e-8627-2ff035e97dde, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:22:27.493+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 49d7441c-b561-c89e-8627-2ff035e97dde
2024-12-05T17:22:27.493+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-153] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=49d7441c-b561-c89e-8627-2ff035e97dde
2024-12-05T17:22:27.494+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-92] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=49d7441c-b561-c89e-8627-2ff035e97dde}], simpSessionId=49d7441c-b561-c89e-8627-2ff035e97dde}]
2024-12-05T17:22:27.524+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:22:27.525+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:22:27.525+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:22:27.526+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:22:27.527+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee, uri=ws://localhost:8080/ws]
2024-12-05T17:22:27.527+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-156] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee
2024-12-05T17:22:27.529+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-160] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee
2024-12-05T17:22:27.552+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:22:27.552+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:22:27.553+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:22:27.553+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:22:27.553+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=d189598d-a9c6-738b-40fb-a9eb1017585f, uri=ws://localhost:8080/ws]
2024-12-05T17:22:27.554+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-164] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=d189598d-a9c6-738b-40fb-a9eb1017585f
2024-12-05T17:22:27.555+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-150] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=d189598d-a9c6-738b-40fb-a9eb1017585f
2024-12-05T17:22:31.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:22:31.843+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 19abe4e6-eedb-03e6-b3d0-2b5eda9875ee
2024-12-05T17:22:31.844+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-152] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee
2024-12-05T17:22:31.844+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-95] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee}], simpSessionId=19abe4e6-eedb-03e6-b3d0-2b5eda9875ee}]
2024-12-05T17:22:31.875+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:22:31.875+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:22:31.875+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:22:31.876+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:22:31.877+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e5e211e8-de69-addb-265c-87e38413d1f4, uri=ws://localhost:8080/ws]
2024-12-05T17:22:31.880+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-153] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e5e211e8-de69-addb-265c-87e38413d1f4
2024-12-05T17:22:31.882+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-156] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e5e211e8-de69-addb-265c-87e38413d1f4
2024-12-05T17:24:17.285+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e5e211e8-de69-addb-265c-87e38413d1f4, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:24:17.287+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e5e211e8-de69-addb-265c-87e38413d1f4
2024-12-05T17:24:17.289+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-166] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e5e211e8-de69-addb-265c-87e38413d1f4
2024-12-05T17:24:17.291+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-97] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e5e211e8-de69-addb-265c-87e38413d1f4}], simpSessionId=e5e211e8-de69-addb-265c-87e38413d1f4}]
2024-12-05T17:24:17.322+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:24:17.322+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:24:17.322+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:24:17.323+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:24:17.324+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6341d253-f716-36eb-6020-ff2010a9f61c, uri=ws://localhost:8080/ws]
2024-12-05T17:24:17.325+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-169] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6341d253-f716-36eb-6020-ff2010a9f61c
2024-12-05T17:24:17.328+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-172] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6341d253-f716-36eb-6020-ff2010a9f61c
2024-12-05T17:24:17.336+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=d189598d-a9c6-738b-40fb-a9eb1017585f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:24:17.336+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session d189598d-a9c6-738b-40fb-a9eb1017585f
2024-12-05T17:24:17.336+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-175] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=d189598d-a9c6-738b-40fb-a9eb1017585f
2024-12-05T17:24:17.337+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-99] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=d189598d-a9c6-738b-40fb-a9eb1017585f}], simpSessionId=d189598d-a9c6-738b-40fb-a9eb1017585f}]
2024-12-05T17:24:17.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:24:17.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:24:17.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:24:17.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:24:17.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8f601d83-d9e3-c092-9c25-a8cb643a69c0, uri=ws://localhost:8080/ws]
2024-12-05T17:24:17.421+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-178] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8f601d83-d9e3-c092-9c25-a8cb643a69c0
2024-12-05T17:24:17.423+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-165] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8f601d83-d9e3-c092-9c25-a8cb643a69c0
2024-12-05T17:24:29.066+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6341d253-f716-36eb-6020-ff2010a9f61c, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:24:29.067+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6341d253-f716-36eb-6020-ff2010a9f61c
2024-12-05T17:24:29.067+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-166] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6341d253-f716-36eb-6020-ff2010a9f61c
2024-12-05T17:24:29.068+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-101] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=6341d253-f716-36eb-6020-ff2010a9f61c}], simpSessionId=6341d253-f716-36eb-6020-ff2010a9f61c}]
2024-12-05T17:24:29.073+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8f601d83-d9e3-c092-9c25-a8cb643a69c0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:24:29.077+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8f601d83-d9e3-c092-9c25-a8cb643a69c0
2024-12-05T17:24:29.078+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-169] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8f601d83-d9e3-c092-9c25-a8cb643a69c0
2024-12-05T17:24:29.078+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-102] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8f601d83-d9e3-c092-9c25-a8cb643a69c0}], simpSessionId=8f601d83-d9e3-c092-9c25-a8cb643a69c0}]
2024-12-05T17:24:29.103+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:24:29.103+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:24:29.103+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:24:29.104+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:24:29.105+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=af75305b-2592-5e18-308a-5195e3f4810f, uri=ws://localhost:8080/ws]
2024-12-05T17:24:29.108+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-172] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=af75305b-2592-5e18-308a-5195e3f4810f
2024-12-05T17:24:29.110+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-175] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=af75305b-2592-5e18-308a-5195e3f4810f
2024-12-05T17:24:29.136+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:24:29.136+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:24:29.136+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:24:29.137+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:24:29.137+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0, uri=ws://localhost:8080/ws]
2024-12-05T17:24:29.138+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-178] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0
2024-12-05T17:24:29.139+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-165] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0
2024-12-05T17:26:47.517+01:00  INFO 63489 --- [ycyw] [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 42 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(42)-CONNECTED(42)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 423], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 104], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2024-12-05T17:27:07.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:27:07.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0
2024-12-05T17:27:07.307+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-182] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0
2024-12-05T17:27:07.307+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-105] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0}], simpSessionId=22c3997c-ba26-2e8e-4ac8-03d9ca1d2ce0}]
2024-12-05T17:27:07.377+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:27:07.378+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:27:07.378+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:27:07.379+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:27:07.379+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b7c83cc9-7ef5-000b-6bd0-1bec978d238b, uri=ws://localhost:8080/ws]
2024-12-05T17:27:07.381+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-185] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b7c83cc9-7ef5-000b-6bd0-1bec978d238b
2024-12-05T17:27:07.383+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b7c83cc9-7ef5-000b-6bd0-1bec978d238b
2024-12-05T17:27:07.588+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=af75305b-2592-5e18-308a-5195e3f4810f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:27:07.588+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session af75305b-2592-5e18-308a-5195e3f4810f
2024-12-05T17:27:07.588+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-191] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=af75305b-2592-5e18-308a-5195e3f4810f
2024-12-05T17:27:07.600+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-107] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=af75305b-2592-5e18-308a-5195e3f4810f}], simpSessionId=af75305b-2592-5e18-308a-5195e3f4810f}]
2024-12-05T17:27:07.829+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:27:07.833+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:27:07.837+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:27:07.841+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:27:07.849+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=3ba5f832-5e25-4d6f-16d7-d807a8fd147e, uri=ws://localhost:8080/ws]
2024-12-05T17:27:07.858+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-194] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=3ba5f832-5e25-4d6f-16d7-d807a8fd147e
2024-12-05T17:27:07.866+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-196] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=3ba5f832-5e25-4d6f-16d7-d807a8fd147e
2024-12-05T17:27:14.311+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=3ba5f832-5e25-4d6f-16d7-d807a8fd147e, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:27:14.312+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 3ba5f832-5e25-4d6f-16d7-d807a8fd147e
2024-12-05T17:27:14.314+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-182] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=3ba5f832-5e25-4d6f-16d7-d807a8fd147e
2024-12-05T17:27:14.315+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-109] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3ba5f832-5e25-4d6f-16d7-d807a8fd147e}], simpSessionId=3ba5f832-5e25-4d6f-16d7-d807a8fd147e}]
2024-12-05T17:27:14.413+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:27:14.413+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:27:14.413+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:27:14.413+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:27:14.414+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=537d5ac4-92f0-f504-c4c9-0c72210cc380, uri=ws://localhost:8080/ws]
2024-12-05T17:27:14.446+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-185] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=537d5ac4-92f0-f504-c4c9-0c72210cc380
2024-12-05T17:27:14.450+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=537d5ac4-92f0-f504-c4c9-0c72210cc380
2024-12-05T17:27:39.595+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=537d5ac4-92f0-f504-c4c9-0c72210cc380, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:27:39.596+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 537d5ac4-92f0-f504-c4c9-0c72210cc380
2024-12-05T17:27:39.597+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-193] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=537d5ac4-92f0-f504-c4c9-0c72210cc380
2024-12-05T17:27:39.598+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-111] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=537d5ac4-92f0-f504-c4c9-0c72210cc380}], simpSessionId=537d5ac4-92f0-f504-c4c9-0c72210cc380}]
2024-12-05T17:27:39.611+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b7c83cc9-7ef5-000b-6bd0-1bec978d238b, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:27:39.612+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b7c83cc9-7ef5-000b-6bd0-1bec978d238b
2024-12-05T17:27:39.612+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-181] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b7c83cc9-7ef5-000b-6bd0-1bec978d238b
2024-12-05T17:27:39.616+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-112] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b7c83cc9-7ef5-000b-6bd0-1bec978d238b}], simpSessionId=b7c83cc9-7ef5-000b-6bd0-1bec978d238b}]
2024-12-05T17:27:39.724+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:27:39.724+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:27:39.724+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:27:39.725+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:27:39.728+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8cfb0ea1-2525-2113-1a9f-2a32131a1db0, uri=ws://localhost:8080/ws]
2024-12-05T17:27:39.730+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:27:39.732+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:27:39.732+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:27:39.734+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:27:39.736+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b03d637b-b4a9-c55c-5df6-ec5bda676391, uri=ws://localhost:8080/ws]
2024-12-05T17:27:39.756+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-196] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8cfb0ea1-2525-2113-1a9f-2a32131a1db0
2024-12-05T17:27:39.768+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-182] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b03d637b-b4a9-c55c-5df6-ec5bda676391
2024-12-05T17:27:39.769+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-189] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8cfb0ea1-2525-2113-1a9f-2a32131a1db0
2024-12-05T17:27:39.776+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b03d637b-b4a9-c55c-5df6-ec5bda676391
2024-12-05T17:28:18.469+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b03d637b-b4a9-c55c-5df6-ec5bda676391, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:28:18.470+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b03d637b-b4a9-c55c-5df6-ec5bda676391
2024-12-05T17:28:18.471+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-198] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b03d637b-b4a9-c55c-5df6-ec5bda676391
2024-12-05T17:28:18.479+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-115] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b03d637b-b4a9-c55c-5df6-ec5bda676391}], simpSessionId=b03d637b-b4a9-c55c-5df6-ec5bda676391}]
2024-12-05T17:28:18.484+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8cfb0ea1-2525-2113-1a9f-2a32131a1db0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:28:18.485+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8cfb0ea1-2525-2113-1a9f-2a32131a1db0
2024-12-05T17:28:18.499+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-201] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8cfb0ea1-2525-2113-1a9f-2a32131a1db0
2024-12-05T17:28:18.501+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-116] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8cfb0ea1-2525-2113-1a9f-2a32131a1db0}], simpSessionId=8cfb0ea1-2525-2113-1a9f-2a32131a1db0}]
2024-12-05T17:28:18.643+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:28:18.644+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:28:18.644+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:28:18.647+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:28:18.647+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:28:18.647+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:28:18.673+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:28:18.673+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:28:18.675+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=5bc35610-750a-1759-25ba-822dc513461b, uri=ws://localhost:8080/ws]
2024-12-05T17:28:18.678+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1, uri=ws://localhost:8080/ws]
2024-12-05T17:28:18.687+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-194] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=5bc35610-750a-1759-25ba-822dc513461b
2024-12-05T17:28:18.689+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-181] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1
2024-12-05T17:28:18.693+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-182] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=5bc35610-750a-1759-25ba-822dc513461b
2024-12-05T17:28:18.696+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1
2024-12-05T17:28:35.569+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:28:35.572+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session cd31c5d9-7b52-aef4-50ba-d643fcdea2d1
2024-12-05T17:28:35.574+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-198] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1
2024-12-05T17:28:35.579+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-119] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1}], simpSessionId=cd31c5d9-7b52-aef4-50ba-d643fcdea2d1}]
2024-12-05T17:28:35.600+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=5bc35610-750a-1759-25ba-822dc513461b, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:28:35.600+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5bc35610-750a-1759-25ba-822dc513461b
2024-12-05T17:28:35.618+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-201] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5bc35610-750a-1759-25ba-822dc513461b
2024-12-05T17:28:35.624+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-120] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5bc35610-750a-1759-25ba-822dc513461b}], simpSessionId=5bc35610-750a-1759-25ba-822dc513461b}]
2024-12-05T17:28:35.685+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:28:35.685+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:28:35.686+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:28:35.686+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:28:35.686+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=00014897-37b5-9081-3971-62879edc5fdc, uri=ws://localhost:8080/ws]
2024-12-05T17:28:35.687+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-194] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=00014897-37b5-9081-3971-62879edc5fdc
2024-12-05T17:28:35.689+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-181] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=00014897-37b5-9081-3971-62879edc5fdc
2024-12-05T17:28:35.715+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:28:35.716+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:28:35.716+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:28:35.717+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:28:35.717+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=fc65dd2f-41cc-389f-2a68-4b2e296f1f89, uri=ws://localhost:8080/ws]
2024-12-05T17:28:35.744+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=fc65dd2f-41cc-389f-2a68-4b2e296f1f89
2024-12-05T17:28:35.751+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-199] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=fc65dd2f-41cc-389f-2a68-4b2e296f1f89
2024-12-05T17:28:46.330+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-202] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=fc65dd2f-41cc-389f-2a68-4b2e296f1f89, lookupDestination='/chat.sendMessage'
2024-12-05T17:28:46.331+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-202] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:28:46.339+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-202] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=sdfsfsf, timestamp=2024-12-05T16:28:46.326, status=sent)
2024-12-05T17:28:46.339+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-202] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T17:28:46.357+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-202] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T17:28:46.357+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-202] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T17:28:46.357+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-202] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T17:29:01.558+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=fc65dd2f-41cc-389f-2a68-4b2e296f1f89, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:29:01.559+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session fc65dd2f-41cc-389f-2a68-4b2e296f1f89
2024-12-05T17:29:01.560+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-198] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=fc65dd2f-41cc-389f-2a68-4b2e296f1f89
2024-12-05T17:29:01.562+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-123] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fc65dd2f-41cc-389f-2a68-4b2e296f1f89}], simpSessionId=fc65dd2f-41cc-389f-2a68-4b2e296f1f89}]
2024-12-05T17:29:07.478+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:29:07.484+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:07.485+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:29:07.485+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:29:07.485+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:29:07.486+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:29:07.486+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:29:07.487+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:29:07.496+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:29:07.497+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:29:07.497+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:29:07.497+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:29:07.498+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6a0e63f1-586d-cfca-0eef-8df81f386cbc, uri=ws://localhost:8080/ws]
2024-12-05T17:29:07.502+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:29:07.503+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:29:07.508+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-187] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6a0e63f1-586d-cfca-0eef-8df81f386cbc
2024-12-05T17:29:07.510+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:07.511+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:29:07.511+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:29:07.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:29:07.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:29:07.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:29:07.511+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-191] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6a0e63f1-586d-cfca-0eef-8df81f386cbc
2024-12-05T17:29:07.513+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:07.513+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:29:07.514+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:29:07.514+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:29:07.514+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:29:07.514+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:29:07.514+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:29:07.514+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:29:07.514+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:29:07.514+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:29:07.515+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:29:07.518+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:29:07.519+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:29:07.519+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:29:10.334+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6a0e63f1-586d-cfca-0eef-8df81f386cbc, lookupDestination='/chat.sendMessage'
2024-12-05T17:29:10.336+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:29:10.338+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=zefzezrr, timestamp=2024-12-05T16:29:10.331, status=sent)
2024-12-05T17:29:10.338+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:29:10.342+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=zefzezrr, timestamp=2024-12-05T16:29:10.331, status=sent)
2024-12-05T17:29:10.343+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=zefzezrr, timestamp=2024-12-05T16:29:10.331, status=sent)
2024-12-05T17:29:10.348+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=27, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=zefzezrr, timestamp=2024-12-05T16:29:10.331, status=sent)
2024-12-05T17:29:10.350+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=27, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=zefzezrr, timestamp=2024-12-05T16:29:10.331, status=sent)
2024-12-05T17:29:10.350+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-188] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=27, senderId=2, conversationId=1, content=zefzezrr, timestamp=2024-12-05T16:29:10.331, status=sent)
2024-12-05T17:29:10.351+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6a0e63f1-586d-cfca-0eef-8df81f386cbc payload={"id":27,"senderId":2,"conversationId":1,"content":"zefzezrr","timestamp":"2024-...(truncated)
2024-12-05T17:29:10.351+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-188] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:29:10.365+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:29:10.368+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:10.369+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:29:10.369+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:29:10.370+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:29:10.370+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:29:10.371+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:10.372+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:29:10.372+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:29:10.373+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:29:16.535+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-193] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6a0e63f1-586d-cfca-0eef-8df81f386cbc, lookupDestination='/chat.sendMessage'
2024-12-05T17:29:16.536+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-193] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:29:16.537+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=cvbcbcb, timestamp=2024-12-05T16:29:16.530, status=sent)
2024-12-05T17:29:16.537+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:29:16.542+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvbcbcb, timestamp=2024-12-05T16:29:16.530, status=sent)
2024-12-05T17:29:16.542+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvbcbcb, timestamp=2024-12-05T16:29:16.530, status=sent)
2024-12-05T17:29:16.546+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=28, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvbcbcb, timestamp=2024-12-05T16:29:16.530, status=sent)
2024-12-05T17:29:16.548+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=28, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cvbcbcb, timestamp=2024-12-05T16:29:16.530, status=sent)
2024-12-05T17:29:16.548+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-193] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=28, senderId=2, conversationId=1, content=cvbcbcb, timestamp=2024-12-05T16:29:16.530, status=sent)
2024-12-05T17:29:16.549+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-193] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6a0e63f1-586d-cfca-0eef-8df81f386cbc payload={"id":28,"senderId":2,"conversationId":1,"content":"cvbcbcb","timestamp":"2024-1...(truncated)
2024-12-05T17:29:16.549+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-193] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:29:16.561+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:29:16.565+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:16.565+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:29:16.565+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:29:16.566+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:29:16.566+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:29:16.567+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:16.567+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:29:16.567+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:29:16.568+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:29:30.629+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-205] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6a0e63f1-586d-cfca-0eef-8df81f386cbc, lookupDestination='/chat.sendMessage'
2024-12-05T17:29:30.631+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-205] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:29:30.632+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=qsdqDqd qsjldhqjksdhQDS Qskldjskjfs qsldjkfskjdfqs sdfjkqsjdkfhqlksjfq, timestamp=2024-12-05T16:29:30.625, status=sent)
2024-12-05T17:29:30.632+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:29:30.634+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqDqd qsjldhqjksdhQDS Qskldjskjfs qsldjkfskjdfqs sdfjkqsjdkfhqlksjfq, timestamp=2024-12-05T16:29:30.625, status=sent)
2024-12-05T17:29:30.635+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqDqd qsjldhqjksdhQDS Qskldjskjfs qsldjkfskjdfqs sdfjkqsjdkfhqlksjfq, timestamp=2024-12-05T16:29:30.625, status=sent)
2024-12-05T17:29:30.637+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=29, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqDqd qsjldhqjksdhQDS Qskldjskjfs qsldjkfskjdfqs sdfjkqsjdkfhqlksjfq, timestamp=2024-12-05T16:29:30.625, status=sent)
2024-12-05T17:29:30.658+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=29, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqDqd qsjldhqjksdhQDS Qskldjskjfs qsldjkfskjdfqs sdfjkqsjdkfhqlksjfq, timestamp=2024-12-05T16:29:30.625, status=sent)
2024-12-05T17:29:30.658+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-205] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=29, senderId=2, conversationId=1, content=qsdqDqd qsjldhqjksdhQDS Qskldjskjfs qsldjkfskjdfqs sdfjkqsjdkfhqlksjfq, timestamp=2024-12-05T16:29:30.625, status=sent)
2024-12-05T17:29:30.658+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-205] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6a0e63f1-586d-cfca-0eef-8df81f386cbc payload={"id":29,"senderId":2,"conversationId":1,"content":"qsdqDqd qsjldhqjksdhQDS Qskl...(truncated)
2024-12-05T17:29:30.658+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-205] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:29:30.664+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:29:30.666+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:30.666+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:29:30.666+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:29:30.667+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:29:30.667+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:29:30.668+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:29:30.668+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:29:30.668+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:29:30.668+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:33:34.655+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6a0e63f1-586d-cfca-0eef-8df81f386cbc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:33:34.656+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6a0e63f1-586d-cfca-0eef-8df81f386cbc
2024-12-05T17:33:34.657+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-207] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6a0e63f1-586d-cfca-0eef-8df81f386cbc
2024-12-05T17:33:34.658+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-131] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=6a0e63f1-586d-cfca-0eef-8df81f386cbc}], simpSessionId=6a0e63f1-586d-cfca-0eef-8df81f386cbc}]
2024-12-05T17:33:34.678+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=00014897-37b5-9081-3971-62879edc5fdc, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:33:34.678+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 00014897-37b5-9081-3971-62879edc5fdc
2024-12-05T17:33:34.681+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-210] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=00014897-37b5-9081-3971-62879edc5fdc
2024-12-05T17:33:34.681+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-132] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=00014897-37b5-9081-3971-62879edc5fdc}], simpSessionId=00014897-37b5-9081-3971-62879edc5fdc}]
2024-12-05T17:33:34.731+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:33:34.732+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:33:34.732+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:33:34.733+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:33:34.736+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f, uri=ws://localhost:8080/ws]
2024-12-05T17:33:34.756+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-213] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f
2024-12-05T17:33:34.758+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:33:34.758+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:33:34.759+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:33:34.759+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:33:34.760+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=9b39c697-495f-0f73-8e42-9bc2edcbc1d0, uri=ws://localhost:8080/ws]
2024-12-05T17:33:34.761+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-216] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f
2024-12-05T17:33:34.762+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-219] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=9b39c697-495f-0f73-8e42-9bc2edcbc1d0
2024-12-05T17:33:34.764+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-206] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=9b39c697-495f-0f73-8e42-9bc2edcbc1d0
2024-12-05T17:33:39.820+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-207] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f, lookupDestination='/chat.sendMessage'
2024-12-05T17:33:39.821+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-207] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:33:39.824+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-207] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=0, conversationId=0, content=qsdqdq, timestamp=2024-12-05T16:33:39.816, status=sent)
2024-12-05T17:33:39.825+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-207] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 0
2024-12-05T17:33:39.843+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-207] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : User not found with ID: 0
2024-12-05T17:33:39.843+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-207] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle RuntimeException
2024-12-05T17:33:39.843+01:00 ERROR 63489 --- [ycyw] [clientInboundChannel-207] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.lang.RuntimeException: Utilisateur non trouvé
	at com.openclassrooms.ycyw.services.UtilisateurService.lambda$0(UtilisateurService.java:28) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.openclassrooms.ycyw.services.UtilisateurService.findById(UtilisateurService.java:26) ~[classes/:na]
	at com.openclassrooms.ycyw.controllers.ChatController.sendMessage(ChatController.java:32) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor49.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:567) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:529) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:93) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:522) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:457) ~[spring-messaging-6.1.15.jar:6.1.15]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:152) ~[spring-messaging-6.1.15.jar:6.1.15]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-05T17:33:43.752+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:33:43.753+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6781c85c-a75c-0daf-6a1b-ef47e5ddc12f
2024-12-05T17:33:43.753+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-210] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f
2024-12-05T17:33:43.754+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-135] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f}], simpSessionId=6781c85c-a75c-0daf-6a1b-ef47e5ddc12f}]
2024-12-05T17:33:43.793+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:33:43.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:33:43.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:33:43.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:33:43.795+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=89cc23b4-0f72-fa33-0763-f51b17513169, uri=ws://localhost:8080/ws]
2024-12-05T17:33:43.799+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-214] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=89cc23b4-0f72-fa33-0763-f51b17513169
2024-12-05T17:33:43.801+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-218] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=89cc23b4-0f72-fa33-0763-f51b17513169
2024-12-05T17:34:48.177+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=89cc23b4-0f72-fa33-0763-f51b17513169, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:34:48.177+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 89cc23b4-0f72-fa33-0763-f51b17513169
2024-12-05T17:34:48.180+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-223] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=89cc23b4-0f72-fa33-0763-f51b17513169
2024-12-05T17:34:48.181+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-137] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=89cc23b4-0f72-fa33-0763-f51b17513169}], simpSessionId=89cc23b4-0f72-fa33-0763-f51b17513169}]
2024-12-05T17:34:48.193+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=9b39c697-495f-0f73-8e42-9bc2edcbc1d0, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:34:48.193+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 9b39c697-495f-0f73-8e42-9bc2edcbc1d0
2024-12-05T17:34:48.194+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-226] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=9b39c697-495f-0f73-8e42-9bc2edcbc1d0
2024-12-05T17:34:48.195+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-138] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=9b39c697-495f-0f73-8e42-9bc2edcbc1d0}], simpSessionId=9b39c697-495f-0f73-8e42-9bc2edcbc1d0}]
2024-12-05T17:34:48.215+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:34:48.216+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:34:48.216+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:34:48.216+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:34:48.217+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=27b36842-8028-e68e-5731-6f6e54c050c9, uri=ws://localhost:8080/ws]
2024-12-05T17:34:48.219+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-229] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=27b36842-8028-e68e-5731-6f6e54c050c9
2024-12-05T17:34:48.222+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-232] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=27b36842-8028-e68e-5731-6f6e54c050c9
2024-12-05T17:34:48.260+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:34:48.260+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:34:48.260+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:34:48.260+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:34:48.261+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b18778ef-2178-5ff3-e7bb-883a8c77f1c4, uri=ws://localhost:8080/ws]
2024-12-05T17:34:48.262+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-235] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b18778ef-2178-5ff3-e7bb-883a8c77f1c4
2024-12-05T17:34:48.264+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-222] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b18778ef-2178-5ff3-e7bb-883a8c77f1c4
2024-12-05T17:39:20.099+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=27b36842-8028-e68e-5731-6f6e54c050c9, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:39:20.100+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 27b36842-8028-e68e-5731-6f6e54c050c9
2024-12-05T17:39:20.108+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-239] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=27b36842-8028-e68e-5731-6f6e54c050c9
2024-12-05T17:39:20.109+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-141] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=27b36842-8028-e68e-5731-6f6e54c050c9}], simpSessionId=27b36842-8028-e68e-5731-6f6e54c050c9}]
2024-12-05T17:39:20.136+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:39:20.136+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:39:20.136+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:39:20.137+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:39:20.138+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b9cc5423-f573-3633-3cda-91cdc1f0aa59, uri=ws://localhost:8080/ws]
2024-12-05T17:39:20.142+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b18778ef-2178-5ff3-e7bb-883a8c77f1c4, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:39:20.142+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b18778ef-2178-5ff3-e7bb-883a8c77f1c4
2024-12-05T17:39:20.144+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-242] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b9cc5423-f573-3633-3cda-91cdc1f0aa59
2024-12-05T17:39:20.153+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-245] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b18778ef-2178-5ff3-e7bb-883a8c77f1c4
2024-12-05T17:39:20.157+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-143] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b18778ef-2178-5ff3-e7bb-883a8c77f1c4}], simpSessionId=b18778ef-2178-5ff3-e7bb-883a8c77f1c4}]
2024-12-05T17:39:20.157+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-248] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b9cc5423-f573-3633-3cda-91cdc1f0aa59
2024-12-05T17:39:20.264+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:39:20.264+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:39:20.264+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:39:20.265+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:39:20.265+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=83914bf8-47bc-6dfe-69db-b6257441ed97, uri=ws://localhost:8080/ws]
2024-12-05T17:39:20.266+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-251] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=83914bf8-47bc-6dfe-69db-b6257441ed97
2024-12-05T17:39:20.268+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-238] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=83914bf8-47bc-6dfe-69db-b6257441ed97
2024-12-05T17:39:33.761+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b9cc5423-f573-3633-3cda-91cdc1f0aa59, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:39:33.761+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b9cc5423-f573-3633-3cda-91cdc1f0aa59
2024-12-05T17:39:33.761+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-241] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b9cc5423-f573-3633-3cda-91cdc1f0aa59
2024-12-05T17:39:33.761+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-145] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b9cc5423-f573-3633-3cda-91cdc1f0aa59}], simpSessionId=b9cc5423-f573-3633-3cda-91cdc1f0aa59}]
2024-12-05T17:39:33.828+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:39:33.828+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:39:33.828+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:39:33.829+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:39:33.829+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8f877b3e-a6a6-4a4a-c427-85b347acb15b, uri=ws://localhost:8080/ws]
2024-12-05T17:39:33.835+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-242] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8f877b3e-a6a6-4a4a-c427-85b347acb15b
2024-12-05T17:39:33.837+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-245] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8f877b3e-a6a6-4a4a-c427-85b347acb15b
2024-12-05T17:39:33.844+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=83914bf8-47bc-6dfe-69db-b6257441ed97, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:39:33.844+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 83914bf8-47bc-6dfe-69db-b6257441ed97
2024-12-05T17:39:33.844+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-250] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=83914bf8-47bc-6dfe-69db-b6257441ed97
2024-12-05T17:39:33.844+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-147] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=83914bf8-47bc-6dfe-69db-b6257441ed97}], simpSessionId=83914bf8-47bc-6dfe-69db-b6257441ed97}]
2024-12-05T17:39:33.897+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:39:33.897+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:39:33.898+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:39:33.898+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:39:33.898+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=765d0b3d-3062-f1e4-dcc9-abe2e328705a, uri=ws://localhost:8080/ws]
2024-12-05T17:39:33.899+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-253] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=765d0b3d-3062-f1e4-dcc9-abe2e328705a
2024-12-05T17:39:33.901+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-238] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=765d0b3d-3062-f1e4-dcc9-abe2e328705a
2024-12-05T17:39:37.357+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8f877b3e-a6a6-4a4a-c427-85b347acb15b, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:39:37.357+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8f877b3e-a6a6-4a4a-c427-85b347acb15b
2024-12-05T17:39:37.357+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-241] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8f877b3e-a6a6-4a4a-c427-85b347acb15b
2024-12-05T17:39:37.369+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-149] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8f877b3e-a6a6-4a4a-c427-85b347acb15b}], simpSessionId=8f877b3e-a6a6-4a4a-c427-85b347acb15b}]
2024-12-05T17:39:51.916+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:39:51.934+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:39:51.934+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:39:51.935+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:39:51.935+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:39:51.936+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:39:51.936+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:39:51.937+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:39:51.952+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:39:51.952+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:39:51.952+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:39:51.952+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:39:51.953+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=f972fb39-139c-e80b-aa12-87971b060b85, uri=ws://localhost:8080/ws]
2024-12-05T17:39:51.953+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:39:51.953+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:39:51.955+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:39:51.955+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:39:51.955+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-242] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=f972fb39-139c-e80b-aa12-87971b060b85
2024-12-05T17:39:51.955+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:39:51.956+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:39:51.956+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:39:51.956+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:39:51.957+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:39:51.958+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:39:51.958+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:39:51.958+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-245] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=f972fb39-139c-e80b-aa12-87971b060b85
2024-12-05T17:39:51.958+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:39:51.959+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:39:51.959+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:39:51.959+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:39:51.959+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:39:51.959+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:39:51.960+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:39:51.960+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:39:51.963+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:39:51.963+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:39:51.964+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:39:55.988+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-250] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f972fb39-139c-e80b-aa12-87971b060b85, lookupDestination='/chat.sendMessage'
2024-12-05T17:39:55.990+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-250] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:39:55.992+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=xcxwvcwxcvxw, timestamp=2024-12-05T16:39:55.984, status=sent)
2024-12-05T17:39:55.992+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:39:55.997+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xcxwvcwxcvxw, timestamp=2024-12-05T16:39:55.984, status=sent)
2024-12-05T17:39:55.998+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xcxwvcwxcvxw, timestamp=2024-12-05T16:39:55.984, status=sent)
2024-12-05T17:39:56.002+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=30, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xcxwvcwxcvxw, timestamp=2024-12-05T16:39:55.984, status=sent)
2024-12-05T17:39:56.064+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=30, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=xcxwvcwxcvxw, timestamp=2024-12-05T16:39:55.984, status=sent)
2024-12-05T17:39:56.064+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-250] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=30, senderId=2, conversationId=1, content=xcxwvcwxcvxw, timestamp=2024-12-05T16:39:55.984, status=sent)
2024-12-05T17:39:56.066+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-250] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f972fb39-139c-e80b-aa12-87971b060b85 payload={"id":30,"senderId":2,"conversationId":1,"content":"xcxwvcwxcvxw","timestamp":"2...(truncated)
2024-12-05T17:39:56.066+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-250] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:39:56.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:39:56.078+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:39:56.079+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:39:56.079+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:39:56.080+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:39:56.080+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:39:56.081+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:39:56.082+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:39:56.082+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:39:56.082+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:40:10.604+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-253] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f972fb39-139c-e80b-aa12-87971b060b85, lookupDestination='/chat.sendMessage'
2024-12-05T17:40:10.606+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-253] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:40:10.607+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=skBDFSF QSDFKJSQJK SDFJHJKDQFS LKQJSDFHL DCDNDSNkjdsfhs ksdfhsjfhksjfskjfskjfskjfsjkskjfskjfsjfskjfjs, timestamp=2024-12-05T16:40:10.602, status=sent)
2024-12-05T17:40:10.607+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:40:10.611+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=skBDFSF QSDFKJSQJK SDFJHJKDQFS LKQJSDFHL DCDNDSNkjdsfhs ksdfhsjfhksjfskjfskjfskjfsjkskjfskjfsjfskjfjs, timestamp=2024-12-05T16:40:10.602, status=sent)
2024-12-05T17:40:10.611+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=skBDFSF QSDFKJSQJK SDFJHJKDQFS LKQJSDFHL DCDNDSNkjdsfhs ksdfhsjfhksjfskjfskjfskjfsjkskjfskjfsjfskjfjs, timestamp=2024-12-05T16:40:10.602, status=sent)
2024-12-05T17:40:10.614+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=31, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=skBDFSF QSDFKJSQJK SDFJHJKDQFS LKQJSDFHL DCDNDSNkjdsfhs ksdfhsjfhksjfskjfskjfskjfsjkskjfskjfsjfskjfjs, timestamp=2024-12-05T16:40:10.602, status=sent)
2024-12-05T17:40:10.615+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=31, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=skBDFSF QSDFKJSQJK SDFJHJKDQFS LKQJSDFHL DCDNDSNkjdsfhs ksdfhsjfhksjfskjfskjfskjfsjkskjfskjfsjfskjfjs, timestamp=2024-12-05T16:40:10.602, status=sent)
2024-12-05T17:40:10.615+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-253] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=31, senderId=2, conversationId=1, content=skBDFSF QSDFKJSQJK SDFJHJKDQFS LKQJSDFHL DCDNDSNkjdsfhs ksdfhsjfhksjfskjfskjfskjfsjkskjfskjfsjfskjfjs, timestamp=2024-12-05T16:40:10.602, status=sent)
2024-12-05T17:40:10.616+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-253] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f972fb39-139c-e80b-aa12-87971b060b85 payload={"id":31,"senderId":2,"conversationId":1,"content":"skBDFSF QSDFKJSQJK SDFJHJKDQ...(truncated)
2024-12-05T17:40:10.616+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-253] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:40:10.624+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:40:10.627+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:40:10.628+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:40:10.628+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:40:10.628+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:40:10.628+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:40:10.629+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:40:10.630+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:40:10.630+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:40:10.631+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:40:14.866+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-238] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f972fb39-139c-e80b-aa12-87971b060b85, lookupDestination='/chat.sendMessage'
2024-12-05T17:40:14.867+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-238] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:40:14.868+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=dfsdfsfdsdfs, timestamp=2024-12-05T16:40:14.863, status=sent)
2024-12-05T17:40:14.869+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:40:14.872+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dfsdfsfdsdfs, timestamp=2024-12-05T16:40:14.863, status=sent)
2024-12-05T17:40:14.872+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dfsdfsfdsdfs, timestamp=2024-12-05T16:40:14.863, status=sent)
2024-12-05T17:40:14.875+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=32, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dfsdfsfdsdfs, timestamp=2024-12-05T16:40:14.863, status=sent)
2024-12-05T17:40:14.876+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=32, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dfsdfsfdsdfs, timestamp=2024-12-05T16:40:14.863, status=sent)
2024-12-05T17:40:14.876+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-238] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=32, senderId=2, conversationId=1, content=dfsdfsfdsdfs, timestamp=2024-12-05T16:40:14.863, status=sent)
2024-12-05T17:40:14.877+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-238] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f972fb39-139c-e80b-aa12-87971b060b85 payload={"id":32,"senderId":2,"conversationId":1,"content":"dfsdfsfdsdfs","timestamp":"2...(truncated)
2024-12-05T17:40:14.877+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-238] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:40:14.883+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:40:14.886+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:40:14.887+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:40:14.887+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:40:14.887+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:40:14.887+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:40:14.888+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:40:14.889+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:40:14.889+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:40:14.890+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:40:17.819+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-241] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f972fb39-139c-e80b-aa12-87971b060b85, lookupDestination='/chat.sendMessage'
2024-12-05T17:40:17.820+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-241] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:40:17.820+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=sdfsfsfsdfsfdsds, timestamp=2024-12-05T16:40:17.816, status=sent)
2024-12-05T17:40:17.820+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:40:17.824+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfsfsdfsfdsds, timestamp=2024-12-05T16:40:17.816, status=sent)
2024-12-05T17:40:17.824+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfsfsdfsfdsds, timestamp=2024-12-05T16:40:17.816, status=sent)
2024-12-05T17:40:17.826+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=33, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfsfsdfsfdsds, timestamp=2024-12-05T16:40:17.816, status=sent)
2024-12-05T17:40:17.826+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=33, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfsfsdfsfdsds, timestamp=2024-12-05T16:40:17.816, status=sent)
2024-12-05T17:40:17.826+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-241] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=33, senderId=2, conversationId=1, content=sdfsfsfsdfsfdsds, timestamp=2024-12-05T16:40:17.816, status=sent)
2024-12-05T17:40:17.827+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-241] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f972fb39-139c-e80b-aa12-87971b060b85 payload={"id":33,"senderId":2,"conversationId":1,"content":"sdfsfsfsdfsfdsds","timestamp...(truncated)
2024-12-05T17:40:17.827+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-241] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:40:17.833+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:40:17.835+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:40:17.835+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:40:17.835+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:40:17.836+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:40:17.836+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:40:17.837+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:40:17.837+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:40:17.837+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:40:17.837+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:42:09.649+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=f972fb39-139c-e80b-aa12-87971b060b85, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:42:09.650+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session f972fb39-139c-e80b-aa12-87971b060b85
2024-12-05T17:42:09.654+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-255] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=f972fb39-139c-e80b-aa12-87971b060b85
2024-12-05T17:42:09.658+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-157] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=f972fb39-139c-e80b-aa12-87971b060b85}], simpSessionId=f972fb39-139c-e80b-aa12-87971b060b85}]
2024-12-05T17:42:09.688+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=765d0b3d-3062-f1e4-dcc9-abe2e328705a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:42:09.688+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 765d0b3d-3062-f1e4-dcc9-abe2e328705a
2024-12-05T17:42:09.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:42:09.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:42:09.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:42:09.690+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-258] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=765d0b3d-3062-f1e4-dcc9-abe2e328705a
2024-12-05T17:42:09.692+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:42:09.696+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=563a5690-5068-94e7-05cd-45bc510ad093, uri=ws://localhost:8080/ws]
2024-12-05T17:42:09.703+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-158] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=765d0b3d-3062-f1e4-dcc9-abe2e328705a}], simpSessionId=765d0b3d-3062-f1e4-dcc9-abe2e328705a}]
2024-12-05T17:42:09.704+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-261] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=563a5690-5068-94e7-05cd-45bc510ad093
2024-12-05T17:42:09.709+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-264] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=563a5690-5068-94e7-05cd-45bc510ad093
2024-12-05T17:42:09.814+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:42:09.814+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:42:09.814+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:42:09.815+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:42:09.815+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=dedaf4e3-c272-7078-5bb4-693218b6c0ca, uri=ws://localhost:8080/ws]
2024-12-05T17:42:09.816+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-267] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=dedaf4e3-c272-7078-5bb4-693218b6c0ca
2024-12-05T17:42:09.818+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-254] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=dedaf4e3-c272-7078-5bb4-693218b6c0ca
2024-12-05T17:45:12.669+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=563a5690-5068-94e7-05cd-45bc510ad093, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:45:12.670+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 563a5690-5068-94e7-05cd-45bc510ad093
2024-12-05T17:45:12.675+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-271] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=563a5690-5068-94e7-05cd-45bc510ad093
2024-12-05T17:45:12.687+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-161] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=563a5690-5068-94e7-05cd-45bc510ad093}], simpSessionId=563a5690-5068-94e7-05cd-45bc510ad093}]
2024-12-05T17:45:12.706+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:45:12.707+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:45:12.707+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:45:12.709+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:45:12.711+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983, uri=ws://localhost:8080/ws]
2024-12-05T17:45:12.712+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-274] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983
2024-12-05T17:45:12.715+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-277] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983
2024-12-05T17:45:12.739+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=dedaf4e3-c272-7078-5bb4-693218b6c0ca, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:45:12.739+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session dedaf4e3-c272-7078-5bb4-693218b6c0ca
2024-12-05T17:45:12.741+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-280] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=dedaf4e3-c272-7078-5bb4-693218b6c0ca
2024-12-05T17:45:12.743+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-163] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=dedaf4e3-c272-7078-5bb4-693218b6c0ca}], simpSessionId=dedaf4e3-c272-7078-5bb4-693218b6c0ca}]
2024-12-05T17:45:12.846+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:45:12.846+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:45:12.847+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:45:12.851+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:45:12.854+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=36464574-bc68-5867-7b29-6b373c89aad8, uri=ws://localhost:8080/ws]
2024-12-05T17:45:12.864+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-283] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=36464574-bc68-5867-7b29-6b373c89aad8
2024-12-05T17:45:12.870+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-270] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=36464574-bc68-5867-7b29-6b373c89aad8
2024-12-05T17:45:20.482+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:45:20.482+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session c3e85247-5fbc-cd38-9e22-4c9b1b8d4983
2024-12-05T17:45:20.482+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-273] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983
2024-12-05T17:45:20.483+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-165] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983}], simpSessionId=c3e85247-5fbc-cd38-9e22-4c9b1b8d4983}]
2024-12-05T17:45:34.127+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=36464574-bc68-5867-7b29-6b373c89aad8, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:45:34.127+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 36464574-bc68-5867-7b29-6b373c89aad8
2024-12-05T17:45:34.128+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-274] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=36464574-bc68-5867-7b29-6b373c89aad8
2024-12-05T17:45:34.129+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-166] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=36464574-bc68-5867-7b29-6b373c89aad8}], simpSessionId=36464574-bc68-5867-7b29-6b373c89aad8}]
2024-12-05T17:45:34.215+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:45:34.215+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:45:34.216+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:45:34.216+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:45:34.216+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=b1811569-d65f-ee4f-d18a-d2d7001cd163, uri=ws://localhost:8080/ws]
2024-12-05T17:45:34.217+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-279] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=b1811569-d65f-ee4f-d18a-d2d7001cd163
2024-12-05T17:45:34.219+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-281] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=b1811569-d65f-ee4f-d18a-d2d7001cd163
2024-12-05T17:45:46.852+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:45:46.868+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:46.869+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:45:46.869+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:45:46.870+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:45:46.871+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:45:46.871+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:45:46.871+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:45:46.890+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:45:46.890+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:45:46.890+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:45:46.891+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:45:46.891+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:45:46.891+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:45:46.892+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-4] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=9145c441-0ec8-97b1-6044-377a29628654, uri=ws://localhost:8080/ws]
2024-12-05T17:45:46.894+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-283] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=9145c441-0ec8-97b1-6044-377a29628654
2024-12-05T17:45:46.896+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:46.896+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-270] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=9145c441-0ec8-97b1-6044-377a29628654
2024-12-05T17:45:46.897+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:45:46.897+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:45:46.897+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:46.897+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:45:46.897+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:45:46.897+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:45:46.897+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:45:46.897+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:45:46.898+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:45:46.898+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:45:46.898+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:45:46.900+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:45:46.900+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:45:46.901+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:45:46.901+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:45:46.901+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:45:46.908+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:45:46.908+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:45:46.909+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:45:50.600+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-273] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9145c441-0ec8-97b1-6044-377a29628654, lookupDestination='/chat.sendMessage'
2024-12-05T17:45:50.601+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-273] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:45:50.603+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=qsdqdsqsdq, timestamp=2024-12-05T16:45:50.598, status=sent)
2024-12-05T17:45:50.604+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:45:50.609+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsqsdq, timestamp=2024-12-05T16:45:50.598, status=sent)
2024-12-05T17:45:50.609+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsqsdq, timestamp=2024-12-05T16:45:50.598, status=sent)
2024-12-05T17:45:50.612+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=34, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsqsdq, timestamp=2024-12-05T16:45:50.598, status=sent)
2024-12-05T17:45:50.616+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=34, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsqsdq, timestamp=2024-12-05T16:45:50.598, status=sent)
2024-12-05T17:45:50.616+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-273] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=34, senderId=2, conversationId=1, content=qsdqdsqsdq, timestamp=2024-12-05T16:45:50.598, status=sent)
2024-12-05T17:45:50.617+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-273] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9145c441-0ec8-97b1-6044-377a29628654 payload={"id":34,"senderId":2,"conversationId":1,"content":"qsdqdsqsdq","timestamp":"202...(truncated)
2024-12-05T17:45:50.617+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-273] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:45:50.627+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:45:50.631+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:50.631+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:45:50.631+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:45:50.632+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:45:50.632+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:45:50.634+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:50.635+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:45:50.635+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:45:50.635+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:45:53.699+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-274] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9145c441-0ec8-97b1-6044-377a29628654, lookupDestination='/chat.sendMessage'
2024-12-05T17:45:53.700+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-274] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:45:53.704+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=qsdqdsd"e, timestamp=2024-12-05T16:45:53.695, status=sent)
2024-12-05T17:45:53.704+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:45:53.707+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsd"e, timestamp=2024-12-05T16:45:53.695, status=sent)
2024-12-05T17:45:53.707+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsd"e, timestamp=2024-12-05T16:45:53.695, status=sent)
2024-12-05T17:45:53.709+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=35, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsd"e, timestamp=2024-12-05T16:45:53.695, status=sent)
2024-12-05T17:45:53.710+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=35, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsdqdsd"e, timestamp=2024-12-05T16:45:53.695, status=sent)
2024-12-05T17:45:53.710+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-274] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=35, senderId=2, conversationId=1, content=qsdqdsd"e, timestamp=2024-12-05T16:45:53.695, status=sent)
2024-12-05T17:45:53.710+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-274] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9145c441-0ec8-97b1-6044-377a29628654 payload={"id":35,"senderId":2,"conversationId":1,"content":"qsdqdsd\"e","timestamp":"202...(truncated)
2024-12-05T17:45:53.710+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-274] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:45:53.715+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:45:53.718+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:53.718+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:45:53.719+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:45:53.719+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:45:53.719+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:45:53.720+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:45:53.721+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:45:53.721+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:45:53.722+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:46:01.573+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-279] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9145c441-0ec8-97b1-6044-377a29628654, lookupDestination='/chat.sendMessage'
2024-12-05T17:46:01.575+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-279] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:46:01.577+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=é"rvdfv"'t"gfv egfeg'g'efcv rgegerg, timestamp=2024-12-05T16:46:01.570, status=sent)
2024-12-05T17:46:01.577+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:46:01.581+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=é"rvdfv"'t"gfv egfeg'g'efcv rgegerg, timestamp=2024-12-05T16:46:01.570, status=sent)
2024-12-05T17:46:01.582+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=é"rvdfv"'t"gfv egfeg'g'efcv rgegerg, timestamp=2024-12-05T16:46:01.570, status=sent)
2024-12-05T17:46:01.584+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=36, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=é"rvdfv"'t"gfv egfeg'g'efcv rgegerg, timestamp=2024-12-05T16:46:01.570, status=sent)
2024-12-05T17:46:01.585+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=36, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=é"rvdfv"'t"gfv egfeg'g'efcv rgegerg, timestamp=2024-12-05T16:46:01.570, status=sent)
2024-12-05T17:46:01.585+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-279] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=36, senderId=2, conversationId=1, content=é"rvdfv"'t"gfv egfeg'g'efcv rgegerg, timestamp=2024-12-05T16:46:01.570, status=sent)
2024-12-05T17:46:01.585+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-279] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9145c441-0ec8-97b1-6044-377a29628654 payload={"id":36,"senderId":2,"conversationId":1,"content":"é\"rvdfv\"'t\"gfv egfeg'g'e...(truncated)
2024-12-05T17:46:01.586+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-279] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:46:01.599+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:46:01.602+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:46:01.603+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:46:01.603+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:46:01.604+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:46:01.604+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:46:01.605+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:46:01.605+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:46:01.605+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:46:01.606+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:46:04.928+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-281] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9145c441-0ec8-97b1-6044-377a29628654, lookupDestination='/chat.sendMessage'
2024-12-05T17:46:04.928+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-281] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:46:04.930+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=sdfsfdsfdfs, timestamp=2024-12-05T16:46:04.923, status=sent)
2024-12-05T17:46:04.930+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:46:04.933+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfdsfdfs, timestamp=2024-12-05T16:46:04.923, status=sent)
2024-12-05T17:46:04.933+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfdsfdfs, timestamp=2024-12-05T16:46:04.923, status=sent)
2024-12-05T17:46:04.935+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=37, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfdsfdfs, timestamp=2024-12-05T16:46:04.923, status=sent)
2024-12-05T17:46:04.937+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=37, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sdfsfdsfdfs, timestamp=2024-12-05T16:46:04.923, status=sent)
2024-12-05T17:46:04.937+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-281] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=37, senderId=2, conversationId=1, content=sdfsfdsfdfs, timestamp=2024-12-05T16:46:04.923, status=sent)
2024-12-05T17:46:04.937+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-281] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9145c441-0ec8-97b1-6044-377a29628654 payload={"id":37,"senderId":2,"conversationId":1,"content":"sdfsfdsfdfs","timestamp":"20...(truncated)
2024-12-05T17:46:04.937+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-281] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:46:04.942+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:46:04.946+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:46:04.946+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:46:04.946+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:46:04.947+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:46:04.947+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:46:04.949+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:46:04.949+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:46:04.950+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:46:04.950+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:46:09.298+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-283] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=9145c441-0ec8-97b1-6044-377a29628654, lookupDestination='/chat.sendMessage'
2024-12-05T17:46:09.299+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-283] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:46:09.301+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=vfdgegerg, timestamp=2024-12-05T16:46:09.295, status=sent)
2024-12-05T17:46:09.301+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:46:09.306+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=vfdgegerg, timestamp=2024-12-05T16:46:09.295, status=sent)
2024-12-05T17:46:09.306+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=vfdgegerg, timestamp=2024-12-05T16:46:09.295, status=sent)
2024-12-05T17:46:09.308+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=38, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=vfdgegerg, timestamp=2024-12-05T16:46:09.295, status=sent)
2024-12-05T17:46:09.310+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=38, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=vfdgegerg, timestamp=2024-12-05T16:46:09.295, status=sent)
2024-12-05T17:46:09.310+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-283] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=38, senderId=2, conversationId=1, content=vfdgegerg, timestamp=2024-12-05T16:46:09.295, status=sent)
2024-12-05T17:46:09.310+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-283] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=9145c441-0ec8-97b1-6044-377a29628654 payload={"id":38,"senderId":2,"conversationId":1,"content":"vfdgegerg","timestamp":"2024...(truncated)
2024-12-05T17:46:09.310+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-283] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:46:09.318+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:46:09.321+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:46:09.321+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:46:09.321+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:46:09.321+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:46:09.321+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:46:09.323+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:46:09.323+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:46:09.323+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:46:09.324+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:02.228+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=9145c441-0ec8-97b1-6044-377a29628654, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:49:02.229+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 9145c441-0ec8-97b1-6044-377a29628654
2024-12-05T17:49:02.229+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-287] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=9145c441-0ec8-97b1-6044-377a29628654
2024-12-05T17:49:02.230+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-177] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=9145c441-0ec8-97b1-6044-377a29628654}], simpSessionId=9145c441-0ec8-97b1-6044-377a29628654}]
2024-12-05T17:49:02.257+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=b1811569-d65f-ee4f-d18a-d2d7001cd163, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:49:02.258+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session b1811569-d65f-ee4f-d18a-d2d7001cd163
2024-12-05T17:49:02.259+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-290] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=b1811569-d65f-ee4f-d18a-d2d7001cd163
2024-12-05T17:49:02.266+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-178] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=b1811569-d65f-ee4f-d18a-d2d7001cd163}], simpSessionId=b1811569-d65f-ee4f-d18a-d2d7001cd163}]
2024-12-05T17:49:02.271+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:49:02.272+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:49:02.272+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:49:02.273+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:49:02.274+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e, uri=ws://localhost:8080/ws]
2024-12-05T17:49:02.288+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-293] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e
2024-12-05T17:49:02.291+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-296] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e
2024-12-05T17:49:02.346+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:49:02.346+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:49:02.347+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:49:02.347+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:49:02.347+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe, uri=ws://localhost:8080/ws]
2024-12-05T17:49:02.350+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-299] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe
2024-12-05T17:49:02.352+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-286] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe
2024-12-05T17:49:19.005+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:49:19.005+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session e7ac4a46-759c-fe8d-c1a2-938ea46dda5e
2024-12-05T17:49:19.006+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e
2024-12-05T17:49:19.007+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-181] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e}], simpSessionId=e7ac4a46-759c-fe8d-c1a2-938ea46dda5e}]
2024-12-05T17:49:19.081+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:49:19.081+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:49:19.081+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:49:19.082+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:49:19.083+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=8027a3bd-c048-5df8-010f-4c54109d5800, uri=ws://localhost:8080/ws]
2024-12-05T17:49:19.084+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=8027a3bd-c048-5df8-010f-4c54109d5800
2024-12-05T17:49:19.086+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-295] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=8027a3bd-c048-5df8-010f-4c54109d5800
2024-12-05T17:49:19.098+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:49:19.098+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe
2024-12-05T17:49:19.098+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-296] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe
2024-12-05T17:49:19.099+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-183] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe}], simpSessionId=8e91db3b-4ae3-d2c0-950f-7d2fa5c9dffe}]
2024-12-05T17:49:19.151+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:49:19.152+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:49:19.152+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:49:19.152+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:49:19.152+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=657994fa-0322-5a54-5920-c2781a0f2926, uri=ws://localhost:8080/ws]
2024-12-05T17:49:19.153+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-301] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=657994fa-0322-5a54-5920-c2781a0f2926
2024-12-05T17:49:19.154+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-286] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=657994fa-0322-5a54-5920-c2781a0f2926
2024-12-05T17:49:20.229+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=8027a3bd-c048-5df8-010f-4c54109d5800, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:49:20.229+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 8027a3bd-c048-5df8-010f-4c54109d5800
2024-12-05T17:49:20.229+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=8027a3bd-c048-5df8-010f-4c54109d5800
2024-12-05T17:49:20.230+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-185] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=8027a3bd-c048-5df8-010f-4c54109d5800}], simpSessionId=8027a3bd-c048-5df8-010f-4c54109d5800}]
2024-12-05T17:49:29.034+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:29.049+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:29.050+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:49:29.050+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:49:29.051+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:49:29.052+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:29.052+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:49:29.053+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:29.071+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:29.071+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:29.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:49:29.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:49:29.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:49:29.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:49:29.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=6c9ab9c6-7d1c-5399-1a76-609830d27844, uri=ws://localhost:8080/ws]
2024-12-05T17:49:29.074+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:29.074+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:29.074+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:49:29.074+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=6c9ab9c6-7d1c-5399-1a76-609830d27844
2024-12-05T17:49:29.074+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:49:29.074+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:49:29.075+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:49:29.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:49:29.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:49:29.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:49:29.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:49:29.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:49:29.075+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:49:29.077+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-295] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=6c9ab9c6-7d1c-5399-1a76-609830d27844
2024-12-05T17:49:29.077+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:49:29.077+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:49:29.078+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:29.078+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:49:29.078+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:29.081+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:29.081+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:49:29.081+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:31.701+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-296] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:49:31.702+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-296] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:49:31.704+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=qscqscsc, timestamp=2024-12-05T16:49:31.699, status=sent)
2024-12-05T17:49:31.704+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:31.707+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qscqscsc, timestamp=2024-12-05T16:49:31.699, status=sent)
2024-12-05T17:49:31.707+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qscqscsc, timestamp=2024-12-05T16:49:31.699, status=sent)
2024-12-05T17:49:31.710+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=39, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qscqscsc, timestamp=2024-12-05T16:49:31.699, status=sent)
2024-12-05T17:49:31.712+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=39, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qscqscsc, timestamp=2024-12-05T16:49:31.699, status=sent)
2024-12-05T17:49:31.712+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-296] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=39, senderId=2, conversationId=1, content=qscqscsc, timestamp=2024-12-05T16:49:31.699, status=sent)
2024-12-05T17:49:31.713+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-296] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":39,"senderId":2,"conversationId":1,"content":"qscqscsc","timestamp":"2024-...(truncated)
2024-12-05T17:49:31.713+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-296] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:49:31.721+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:31.722+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:31.722+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:49:31.723+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:49:31.723+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:49:31.723+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:31.724+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:31.724+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:31.724+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:49:31.725+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:37.221+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-301] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:49:37.222+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-301] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:49:37.223+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=SDQSDQDQDS, timestamp=2024-12-05T16:49:37.219, status=sent)
2024-12-05T17:49:37.223+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:37.228+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=SDQSDQDQDS, timestamp=2024-12-05T16:49:37.219, status=sent)
2024-12-05T17:49:37.228+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=SDQSDQDQDS, timestamp=2024-12-05T16:49:37.219, status=sent)
2024-12-05T17:49:37.231+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=40, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=SDQSDQDQDS, timestamp=2024-12-05T16:49:37.219, status=sent)
2024-12-05T17:49:37.232+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=40, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=SDQSDQDQDS, timestamp=2024-12-05T16:49:37.219, status=sent)
2024-12-05T17:49:37.233+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-301] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=40, senderId=2, conversationId=1, content=SDQSDQDQDS, timestamp=2024-12-05T16:49:37.219, status=sent)
2024-12-05T17:49:37.233+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-301] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":40,"senderId":2,"conversationId":1,"content":"SDQSDQDQDS","timestamp":"202...(truncated)
2024-12-05T17:49:37.233+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-301] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:49:37.244+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:37.247+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:37.248+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:49:37.248+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:49:37.248+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:49:37.248+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:37.250+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:37.250+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:37.251+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:49:37.251+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:40.751+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-286] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:49:40.752+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-286] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:49:40.753+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=cddvdv, timestamp=2024-12-05T16:49:40.749, status=sent)
2024-12-05T17:49:40.753+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:40.758+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cddvdv, timestamp=2024-12-05T16:49:40.749, status=sent)
2024-12-05T17:49:40.759+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cddvdv, timestamp=2024-12-05T16:49:40.749, status=sent)
2024-12-05T17:49:40.761+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=41, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cddvdv, timestamp=2024-12-05T16:49:40.749, status=sent)
2024-12-05T17:49:40.762+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=41, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=cddvdv, timestamp=2024-12-05T16:49:40.749, status=sent)
2024-12-05T17:49:40.762+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-286] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=41, senderId=2, conversationId=1, content=cddvdv, timestamp=2024-12-05T16:49:40.749, status=sent)
2024-12-05T17:49:40.763+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-286] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":41,"senderId":2,"conversationId":1,"content":"cddvdv","timestamp":"2024-12...(truncated)
2024-12-05T17:49:40.763+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-286] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:49:40.770+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:40.772+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:40.773+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:49:40.773+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:49:40.774+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:49:40.774+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:40.775+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:40.775+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:40.776+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:49:40.776+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:43.588+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:49:43.589+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:49:43.590+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=sddsfdsf, timestamp=2024-12-05T16:49:43.585, status=sent)
2024-12-05T17:49:43.590+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:43.593+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sddsfdsf, timestamp=2024-12-05T16:49:43.585, status=sent)
2024-12-05T17:49:43.594+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sddsfdsf, timestamp=2024-12-05T16:49:43.585, status=sent)
2024-12-05T17:49:43.595+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=42, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sddsfdsf, timestamp=2024-12-05T16:49:43.585, status=sent)
2024-12-05T17:49:43.597+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=42, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=sddsfdsf, timestamp=2024-12-05T16:49:43.585, status=sent)
2024-12-05T17:49:43.597+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=42, senderId=2, conversationId=1, content=sddsfdsf, timestamp=2024-12-05T16:49:43.585, status=sent)
2024-12-05T17:49:43.598+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":42,"senderId":2,"conversationId":1,"content":"sddsfdsf","timestamp":"2024-...(truncated)
2024-12-05T17:49:43.598+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:49:43.605+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:43.607+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:43.608+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:49:43.608+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:49:43.609+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:49:43.609+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:43.611+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:43.611+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:43.611+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:49:43.612+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:49:50.695+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:49:50.696+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:49:50.697+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=dsfdfsfsd, timestamp=2024-12-05T16:49:50.692, status=sent)
2024-12-05T17:49:50.697+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:50.699+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dsfdfsfsd, timestamp=2024-12-05T16:49:50.692, status=sent)
2024-12-05T17:49:50.699+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dsfdfsfsd, timestamp=2024-12-05T16:49:50.692, status=sent)
2024-12-05T17:49:50.700+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=43, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dsfdfsfsd, timestamp=2024-12-05T16:49:50.692, status=sent)
2024-12-05T17:49:50.701+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=43, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=dsfdfsfsd, timestamp=2024-12-05T16:49:50.692, status=sent)
2024-12-05T17:49:50.701+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=43, senderId=2, conversationId=1, content=dsfdfsfsd, timestamp=2024-12-05T16:49:50.692, status=sent)
2024-12-05T17:49:50.702+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":43,"senderId":2,"conversationId":1,"content":"dsfdfsfsd","timestamp":"2024...(truncated)
2024-12-05T17:49:50.702+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:49:50.708+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:49:50.710+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:50.711+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:49:50.711+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:49:50.711+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:49:50.711+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:49:50.712+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:49:50.712+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:49:50.712+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:49:50.712+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:02.584+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=657994fa-0322-5a54-5920-c2781a0f2926, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:50:02.585+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 657994fa-0322-5a54-5920-c2781a0f2926
2024-12-05T17:50:02.585+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-303] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=657994fa-0322-5a54-5920-c2781a0f2926
2024-12-05T17:50:02.586+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-181] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=657994fa-0322-5a54-5920-c2781a0f2926}], simpSessionId=657994fa-0322-5a54-5920-c2781a0f2926}]
2024-12-05T17:50:02.641+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:50:02.641+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:50:02.641+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:50:02.641+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:50:02.641+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, uri=ws://localhost:8080/ws]
2024-12-05T17:50:02.642+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-300] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a
2024-12-05T17:50:02.643+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-287] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a
2024-12-05T17:50:09.332+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:09.338+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:09.338+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:50:09.339+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:50:09.339+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:50:09.339+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:09.339+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:50:09.340+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:09.353+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-292] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-1 session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a
2024-12-05T17:50:09.356+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:09.357+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:09.358+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:09.358+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:50:09.359+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:50:09.359+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:50:09.359+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: john@example.com
2024-12-05T17:50:09.359+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:50:09.360+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:09.360+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:50:09.360+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 2
2024-12-05T17:50:09.360+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:09.362+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:09.362+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [1]
2024-12-05T17:50:09.362+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:13.917+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, lookupDestination='/chat.sendMessage'
2024-12-05T17:50:13.918+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:50:13.919+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=bbbbbbbb, timestamp=2024-12-05T16:50:13.915, status=sent)
2024-12-05T17:50:13.919+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:13.923+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bbbbbbbb, timestamp=2024-12-05T16:50:13.915, status=sent)
2024-12-05T17:50:13.923+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bbbbbbbb, timestamp=2024-12-05T16:50:13.915, status=sent)
2024-12-05T17:50:13.925+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=44, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bbbbbbbb, timestamp=2024-12-05T16:50:13.915, status=sent)
2024-12-05T17:50:13.928+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=44, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=bbbbbbbb, timestamp=2024-12-05T16:50:13.915, status=sent)
2024-12-05T17:50:13.928+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-289] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=44, senderId=2, conversationId=1, content=bbbbbbbb, timestamp=2024-12-05T16:50:13.915, status=sent)
2024-12-05T17:50:13.928+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a payload={"id":44,"senderId":2,"conversationId":1,"content":"bbbbbbbb","timestamp":"2024-...(truncated)
2024-12-05T17:50:13.928+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-289] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:50:13.938+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:13.938+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:13.941+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:13.942+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:13.942+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:13.942+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:13.942+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:13.942+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:13.942+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:13.942+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:13.942+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:13.943+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:13.944+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:13.944+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:13.944+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:13.944+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:13.944+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:13.944+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:13.944+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:13.945+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:24.279+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, lookupDestination='/chat.sendMessage'
2024-12-05T17:50:24.279+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:50:24.281+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=qsddqdqdq, timestamp=2024-12-05T16:50:24.277, status=sent)
2024-12-05T17:50:24.281+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:24.286+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsddqdqdq, timestamp=2024-12-05T16:50:24.277, status=sent)
2024-12-05T17:50:24.286+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsddqdqdq, timestamp=2024-12-05T16:50:24.277, status=sent)
2024-12-05T17:50:24.288+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=45, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsddqdqdq, timestamp=2024-12-05T16:50:24.277, status=sent)
2024-12-05T17:50:24.290+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=45, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=qsddqdqdq, timestamp=2024-12-05T16:50:24.277, status=sent)
2024-12-05T17:50:24.290+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-291] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=45, senderId=2, conversationId=1, content=qsddqdqdq, timestamp=2024-12-05T16:50:24.277, status=sent)
2024-12-05T17:50:24.291+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a payload={"id":45,"senderId":2,"conversationId":1,"content":"qsddqdqdq","timestamp":"2024...(truncated)
2024-12-05T17:50:24.291+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-291] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:50:24.299+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:24.300+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:24.303+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:24.303+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:24.304+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:24.304+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:24.304+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:24.304+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:24.304+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:24.304+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:24.305+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:24.305+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:24.306+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:24.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:24.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:24.306+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:24.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:24.306+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:24.307+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:24.307+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:29.883+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-306] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, lookupDestination='/chat.sendMessage'
2024-12-05T17:50:29.883+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-306] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:50:29.885+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=ssssssss, timestamp=2024-12-05T16:50:29.879, status=sent)
2024-12-05T17:50:29.885+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:29.889+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=ssssssss, timestamp=2024-12-05T16:50:29.879, status=sent)
2024-12-05T17:50:29.889+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=ssssssss, timestamp=2024-12-05T16:50:29.879, status=sent)
2024-12-05T17:50:29.891+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=46, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=ssssssss, timestamp=2024-12-05T16:50:29.879, status=sent)
2024-12-05T17:50:29.892+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=46, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=ssssssss, timestamp=2024-12-05T16:50:29.879, status=sent)
2024-12-05T17:50:29.892+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-306] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=46, senderId=2, conversationId=1, content=ssssssss, timestamp=2024-12-05T16:50:29.879, status=sent)
2024-12-05T17:50:29.893+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-306] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a payload={"id":46,"senderId":2,"conversationId":1,"content":"ssssssss","timestamp":"2024-...(truncated)
2024-12-05T17:50:29.893+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-306] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:50:29.901+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:29.902+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:29.904+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:29.904+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:29.904+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:29.904+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:29.904+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:29.904+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:29.904+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:29.904+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:29.905+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:29.904+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:29.906+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:29.906+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:29.906+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:29.906+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:29.906+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:29.906+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:29.907+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:29.907+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:34.778+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-305] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, lookupDestination='/chat.sendMessage'
2024-12-05T17:50:34.780+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-305] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:50:34.781+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=nhzergesrgesrg, timestamp=2024-12-05T16:50:34.776, status=sent)
2024-12-05T17:50:34.781+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:34.784+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=nhzergesrgesrg, timestamp=2024-12-05T16:50:34.776, status=sent)
2024-12-05T17:50:34.784+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=nhzergesrgesrg, timestamp=2024-12-05T16:50:34.776, status=sent)
2024-12-05T17:50:34.786+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=47, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=nhzergesrgesrg, timestamp=2024-12-05T16:50:34.776, status=sent)
2024-12-05T17:50:34.787+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=47, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=nhzergesrgesrg, timestamp=2024-12-05T16:50:34.776, status=sent)
2024-12-05T17:50:34.787+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-305] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=47, senderId=2, conversationId=1, content=nhzergesrgesrg, timestamp=2024-12-05T16:50:34.776, status=sent)
2024-12-05T17:50:34.788+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-305] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a payload={"id":47,"senderId":2,"conversationId":1,"content":"nhzergesrgesrg","timestamp":...(truncated)
2024-12-05T17:50:34.788+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-305] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:50:34.792+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:34.793+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:34.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:34.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:34.795+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:34.795+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:34.795+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:34.795+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:34.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:34.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:34.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:34.796+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:34.797+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-7] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:34.797+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:34.797+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:34.797+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:34.797+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:34.797+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:34.798+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:34.798+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:39.665+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-307] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, lookupDestination='/chat.sendMessage'
2024-12-05T17:50:39.667+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-307] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:50:39.668+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=gfhfhdhfhsh, timestamp=2024-12-05T16:50:39.662, status=sent)
2024-12-05T17:50:39.668+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:39.672+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=gfhfhdhfhsh, timestamp=2024-12-05T16:50:39.662, status=sent)
2024-12-05T17:50:39.672+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=gfhfhdhfhsh, timestamp=2024-12-05T16:50:39.662, status=sent)
2024-12-05T17:50:39.674+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=48, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=gfhfhdhfhsh, timestamp=2024-12-05T16:50:39.662, status=sent)
2024-12-05T17:50:39.676+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=48, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=gfhfhdhfhsh, timestamp=2024-12-05T16:50:39.662, status=sent)
2024-12-05T17:50:39.676+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-307] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=48, senderId=2, conversationId=1, content=gfhfhdhfhsh, timestamp=2024-12-05T16:50:39.662, status=sent)
2024-12-05T17:50:39.677+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-307] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a payload={"id":48,"senderId":2,"conversationId":1,"content":"gfhfhdhfhsh","timestamp":"20...(truncated)
2024-12-05T17:50:39.677+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-307] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:50:39.686+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:39.686+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:50:39.689+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:39.689+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:39.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:39.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:50:39.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:39.689+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:50:39.690+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:39.690+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:39.690+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:50:39.690+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:50:39.691+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-1] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:39.691+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:50:39.691+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:39.691+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:50:39.692+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:39.692+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:50:39.692+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:50:39.692+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:55:08.860+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T17:55:08.862+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5ea174a0-541d-4e9d-1eb9-5d1717f9a74a
2024-12-05T17:55:08.864+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-309] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a
2024-12-05T17:55:08.866+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-193] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a}], simpSessionId=5ea174a0-541d-4e9d-1eb9-5d1717f9a74a}]
2024-12-05T17:55:56.628+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:55:56.646+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:55:56.647+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T17:55:56.647+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T17:55:56.649+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T17:55:56.651+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:55:56.651+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T17:55:56.651+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:55:56.669+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T17:55:56.669+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T17:55:56.670+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T17:55:56.670+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:55:56.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T17:55:56.671+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-1] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=f0c06c9a-3715-0c2b-0a4b-5827537ad925, uri=ws://localhost:8080/ws]
2024-12-05T17:55:56.671+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:55:56.672+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:55:56.672+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-312] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=f0c06c9a-3715-0c2b-0a4b-5827537ad925
2024-12-05T17:55:56.672+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T17:55:56.673+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T17:55:56.673+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T17:55:56.673+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:55:56.673+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: chat-poc@mcyw.com
2024-12-05T17:55:56.674+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 3
2024-12-05T17:55:56.674+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:55:56.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T17:55:56.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T17:55:56.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:55:56.674+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [3]
2024-12-05T17:55:56.674+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T17:55:56.674+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T17:55:56.674+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: chat-poc@mcyw.com
2024-12-05T17:55:56.675+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-315] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=f0c06c9a-3715-0c2b-0a4b-5827537ad925
2024-12-05T17:55:56.675+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:55:56.676+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 3
2024-12-05T17:55:56.695+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:55:56.695+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [2]
2024-12-05T17:55:56.695+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:56:04.347+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-317] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f0c06c9a-3715-0c2b-0a4b-5827537ad925, lookupDestination='/chat.sendMessage'
2024-12-05T17:56:04.348+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-317] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:56:04.350+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=3, conversationId=2, content=qsdqsDSddD, timestamp=2024-12-05T16:56:04.343, status=sent)
2024-12-05T17:56:04.350+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:56:04.356+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=qsdqsDSddD, timestamp=2024-12-05T16:56:04.343, status=sent)
2024-12-05T17:56:04.356+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=qsdqsDSddD, timestamp=2024-12-05T16:56:04.343, status=sent)
2024-12-05T17:56:04.361+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=49, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=qsdqsDSddD, timestamp=2024-12-05T16:56:04.343, status=sent)
2024-12-05T17:56:04.365+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=49, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=qsdqsDSddD, timestamp=2024-12-05T16:56:04.343, status=sent)
2024-12-05T17:56:04.365+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-317] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=49, senderId=3, conversationId=2, content=qsdqsDSddD, timestamp=2024-12-05T16:56:04.343, status=sent)
2024-12-05T17:56:04.366+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-317] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f0c06c9a-3715-0c2b-0a4b-5827537ad925 payload={"id":49,"senderId":3,"conversationId":2,"content":"qsdqsDSddD","timestamp":"202...(truncated)
2024-12-05T17:56:04.366+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-317] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:56:04.379+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:56:04.380+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:56:04.383+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:04.383+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:04.383+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T17:56:04.383+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T17:56:04.383+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:56:04.383+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:56:04.384+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T17:56:04.384+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T17:56:04.384+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:56:04.384+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:56:04.385+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-3] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:04.385+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:04.386+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:56:04.386+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:56:04.386+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T17:56:04.386+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T17:56:04.386+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:56:04.386+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:56:42.755+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-320] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:56:42.757+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-320] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:56:42.758+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=CA VA?, timestamp=2024-12-05T16:56:42.752, status=sent)
2024-12-05T17:56:42.758+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:56:42.762+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=CA VA?, timestamp=2024-12-05T16:56:42.752, status=sent)
2024-12-05T17:56:42.762+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=CA VA?, timestamp=2024-12-05T16:56:42.752, status=sent)
2024-12-05T17:56:42.764+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=50, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=CA VA?, timestamp=2024-12-05T16:56:42.752, status=sent)
2024-12-05T17:56:42.765+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=50, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=CA VA?, timestamp=2024-12-05T16:56:42.752, status=sent)
2024-12-05T17:56:42.765+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-320] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=50, senderId=2, conversationId=1, content=CA VA?, timestamp=2024-12-05T16:56:42.752, status=sent)
2024-12-05T17:56:42.766+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-320] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":50,"senderId":2,"conversationId":1,"content":"CA VA?","timestamp":"2024-12...(truncated)
2024-12-05T17:56:42.766+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-320] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:56:42.773+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:56:42.776+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:42.776+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:56:42.776+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:56:42.777+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:56:42.777+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:56:42.778+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:42.779+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:56:42.779+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:56:42.779+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:56:42.791+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:56:42.794+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:42.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:56:42.794+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:56:42.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:56:42.795+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:56:42.797+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:42.797+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:56:42.797+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:56:42.798+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:56:47.530+01:00  INFO 63489 --- [ycyw] [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 75 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(75)-CONNECTED(75)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 12, active threads = 0, queued tasks = 0, completed tasks = 801], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 223], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2024-12-05T17:56:54.034+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-323] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f0c06c9a-3715-0c2b-0a4b-5827537ad925, lookupDestination='/chat.sendMessage'
2024-12-05T17:56:54.036+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-323] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:56:54.037+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=3, conversationId=2, content=oui et vous?, timestamp=2024-12-05T16:56:54.031, status=sent)
2024-12-05T17:56:54.037+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:56:54.041+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=oui et vous?, timestamp=2024-12-05T16:56:54.031, status=sent)
2024-12-05T17:56:54.044+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=oui et vous?, timestamp=2024-12-05T16:56:54.031, status=sent)
2024-12-05T17:56:54.050+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=51, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=oui et vous?, timestamp=2024-12-05T16:56:54.031, status=sent)
2024-12-05T17:56:54.054+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=51, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=oui et vous?, timestamp=2024-12-05T16:56:54.031, status=sent)
2024-12-05T17:56:54.055+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-323] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=51, senderId=3, conversationId=2, content=oui et vous?, timestamp=2024-12-05T16:56:54.031, status=sent)
2024-12-05T17:56:54.055+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-323] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f0c06c9a-3715-0c2b-0a4b-5827537ad925 payload={"id":51,"senderId":3,"conversationId":2,"content":"oui et vous?","timestamp":"2...(truncated)
2024-12-05T17:56:54.055+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-323] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:56:54.067+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:56:54.069+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:54.070+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:56:54.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T17:56:54.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:56:54.070+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T17:56:54.070+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:56:54.071+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:54.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:56:54.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T17:56:54.072+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:54.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T17:56:54.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:56:54.072+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:56:54.072+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T17:56:54.073+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:56:54.078+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:56:54.078+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:56:54.078+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T17:56:54.078+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:57:12.234+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-326] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=6c9ab9c6-7d1c-5399-1a76-609830d27844, lookupDestination='/chat.sendMessage'
2024-12-05T17:57:12.234+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-326] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:57:12.235+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=2, conversationId=1, content=je veux une tesla, timestamp=2024-12-05T16:57:12.231, status=sent)
2024-12-05T17:57:12.235+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:57:12.236+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=je veux une tesla, timestamp=2024-12-05T16:57:12.231, status=sent)
2024-12-05T17:57:12.237+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=je veux une tesla, timestamp=2024-12-05T16:57:12.231, status=sent)
2024-12-05T17:57:12.237+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=52, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=je veux une tesla, timestamp=2024-12-05T16:57:12.231, status=sent)
2024-12-05T17:57:12.238+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=52, sender=Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null), conversationId=1, content=je veux une tesla, timestamp=2024-12-05T16:57:12.231, status=sent)
2024-12-05T17:57:12.238+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-326] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=52, senderId=2, conversationId=1, content=je veux une tesla, timestamp=2024-12-05T16:57:12.231, status=sent)
2024-12-05T17:57:12.238+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-326] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=6c9ab9c6-7d1c-5399-1a76-609830d27844 payload={"id":52,"senderId":2,"conversationId":1,"content":"je veux une tesla","timestam...(truncated)
2024-12-05T17:57:12.238+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-326] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:57:12.243+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:57:12.246+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:12.246+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:57:12.246+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:57:12.246+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:57:12.246+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:57:12.246+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:57:12.247+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-5] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:12.247+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:57:12.247+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:57:12.247+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:12.247+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/2", parameters={}
2024-12-05T17:57:12.247+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:57:12.248+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:57:12.248+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 2
2024-12-05T17:57:12.248+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 2
2024-12-05T17:57:12.252+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:12.253+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:57:12.253+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T17:57:12.253+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:57:20.485+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-329] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f0c06c9a-3715-0c2b-0a4b-5827537ad925, lookupDestination='/chat.sendMessage'
2024-12-05T17:57:20.486+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-329] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T17:57:20.487+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=3, conversationId=2, content=faut payer, timestamp=2024-12-05T16:57:20.483, status=sent)
2024-12-05T17:57:20.487+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:57:20.492+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=faut payer, timestamp=2024-12-05T16:57:20.483, status=sent)
2024-12-05T17:57:20.492+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=faut payer, timestamp=2024-12-05T16:57:20.483, status=sent)
2024-12-05T17:57:20.495+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=53, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=faut payer, timestamp=2024-12-05T16:57:20.483, status=sent)
2024-12-05T17:57:20.497+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=53, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=faut payer, timestamp=2024-12-05T16:57:20.483, status=sent)
2024-12-05T17:57:20.498+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-329] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=53, senderId=3, conversationId=2, content=faut payer, timestamp=2024-12-05T16:57:20.483, status=sent)
2024-12-05T17:57:20.498+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-329] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f0c06c9a-3715-0c2b-0a4b-5827537ad925 payload={"id":53,"senderId":3,"conversationId":2,"content":"faut payer","timestamp":"202...(truncated)
2024-12-05T17:57:20.498+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-329] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 2 sessions.
2024-12-05T17:57:20.507+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T17:57:20.507+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T17:57:20.510+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:20.510+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:20.510+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T17:57:20.510+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T17:57:20.511+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:57:20.511+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T17:57:20.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T17:57:20.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T17:57:20.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:57:20.511+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T17:57:20.512+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:20.512+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T17:57:20.513+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:57:20.513+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T17:57:20.513+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T17:57:20.513+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T17:57:20.513+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T17:57:20.513+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:09.033+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: didier@fake.com
2024-12-05T18:00:09.049+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:09.050+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2024-12-05T18:00:09.051+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#login()
2024-12-05T18:00:09.051+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Login endpoint hit
2024-12-05T18:00:09.053+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:09.053+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2024-12-05T18:00:09.053+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:09.068+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/ws", parameters={}
2024-12-05T18:00:09.068+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHandlerMapping      : Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@738b93a8
2024-12-05T18:00:09.069+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.w.s.s.s.WebSocketHttpRequestHandler  : GET /ws
2024-12-05T18:00:09.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 101 SWITCHING_PROTOCOLS
2024-12-05T18:00:09.071+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-7] s.w.s.h.LoggingWebSocketHandlerDecorator : New StandardWebSocketSession[id=5811c41a-5acc-7aeb-0abc-c5f5cd051844, uri=ws://localhost:8080/ws]
2024-12-05T18:00:09.085+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: didier@fake.com
2024-12-05T18:00:09.086+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: didier@fake.com
2024-12-05T18:00:09.086+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-333] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing CONNECT session=5811c41a-5acc-7aeb-0abc-c5f5cd051844
2024-12-05T18:00:09.088+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:09.088+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/conversation/id", parameters={}
2024-12-05T18:00:09.088+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getConversationId()
2024-12-05T18:00:09.088+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:09.088+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get conversation ID
2024-12-05T18:00:09.088+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T18:00:09.088+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: didier@fake.com
2024-12-05T18:00:09.088+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/id", parameters={}
2024-12-05T18:00:09.088+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserId()
2024-12-05T18:00:09.089+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get current user ID
2024-12-05T18:00:09.089+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to get current authenticated user
2024-12-05T18:00:09.089+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Current authenticated user email: didier@fake.com
2024-12-05T18:00:09.089+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-336] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing SUBSCRIBE /topic/public id=sub-0 session=5811c41a-5acc-7aeb-0abc-c5f5cd051844
2024-12-05T18:00:09.090+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-8] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 4
2024-12-05T18:00:09.090+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-10] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Current user ID: 4
2024-12-05T18:00:09.090+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:09.090+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [4]
2024-12-05T18:00:09.091+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:09.098+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:09.098+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [3]
2024-12-05T18:00:09.099+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:18.560+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-338] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=5811c41a-5acc-7aeb-0abc-c5f5cd051844, lookupDestination='/chat.sendMessage'
2024-12-05T18:00:18.561+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-338] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T18:00:18.563+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=4, conversationId=3, content=coucou, timestamp=2024-12-05T17:00:18.557, status=sent)
2024-12-05T18:00:18.563+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 4
2024-12-05T18:00:18.568+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null), conversationId=3, content=coucou, timestamp=2024-12-05T17:00:18.557, status=sent)
2024-12-05T18:00:18.568+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null), conversationId=3, content=coucou, timestamp=2024-12-05T17:00:18.557, status=sent)
2024-12-05T18:00:18.572+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=54, sender=Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null), conversationId=3, content=coucou, timestamp=2024-12-05T17:00:18.557, status=sent)
2024-12-05T18:00:18.574+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=54, sender=Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null), conversationId=3, content=coucou, timestamp=2024-12-05T17:00:18.557, status=sent)
2024-12-05T18:00:18.574+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-338] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=54, senderId=4, conversationId=3, content=coucou, timestamp=2024-12-05T17:00:18.557, status=sent)
2024-12-05T18:00:18.575+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-338] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=5811c41a-5acc-7aeb-0abc-c5f5cd051844 payload={"id":54,"senderId":4,"conversationId":3,"content":"coucou","timestamp":"2024-12...(truncated)
2024-12-05T18:00:18.575+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-338] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 3 sessions.
2024-12-05T18:00:18.586+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: didier@fake.com
2024-12-05T18:00:18.589+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T18:00:18.590+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:18.590+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:18.591+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/4", parameters={}
2024-12-05T18:00:18.591+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/4", parameters={}
2024-12-05T18:00:18.591+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T18:00:18.591+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T18:00:18.591+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 4
2024-12-05T18:00:18.591+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 4
2024-12-05T18:00:18.591+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 4
2024-12-05T18:00:18.591+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 4
2024-12-05T18:00:18.593+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:18.593+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:18.593+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:18.593+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T18:00:18.593+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:18.593+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T18:00:18.594+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:18.594+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:18.618+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T18:00:18.619+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:18.620+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/4", parameters={}
2024-12-05T18:00:18.620+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T18:00:18.620+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 4
2024-12-05T18:00:18.620+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 4
2024-12-05T18:00:18.621+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:18.621+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:18.621+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissanc (truncated)...]
2024-12-05T18:00:18.622+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:34.376+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-341] .WebSocketAnnotationMethodMessageHandler : Searching methods to handle SEND /app/chat.sendMessage session=f0c06c9a-3715-0c2b-0a4b-5827537ad925, lookupDestination='/chat.sendMessage'
2024-12-05T18:00:34.378+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-341] .WebSocketAnnotationMethodMessageHandler : Invoking ChatController#sendMessage[1 args]
2024-12-05T18:00:34.379+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Received message: ChatDTO(id=null, senderId=3, conversationId=2, content=salut, timestamp=2024-12-05T17:00:34.373, status=sent)
2024-12-05T18:00:34.379+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T18:00:34.383+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Mapped to entity: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=salut, timestamp=2024-12-05T17:00:34.373, status=sent)
2024-12-05T18:00:34.384+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saving chat: Chat(id=null, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=salut, timestamp=2024-12-05T17:00:34.373, status=sent)
2024-12-05T18:00:34.385+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.services.ChatService            : ------------ChatServiceJAVA : Saved chat: Chat(id=55, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=salut, timestamp=2024-12-05T17:00:34.373, status=sent)
2024-12-05T18:00:34.387+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Saved chat: Chat(id=55, sender=Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null), conversationId=2, content=salut, timestamp=2024-12-05T17:00:34.373, status=sent)
2024-12-05T18:00:34.387+01:00  INFO 63489 --- [ycyw] [clientInboundChannel-341] c.o.ycyw.controllers.ChatController      : ------------ChatControllerJAVA : Sending message: ChatDTO(id=55, senderId=3, conversationId=2, content=salut, timestamp=2024-12-05T17:00:34.373, status=sent)
2024-12-05T18:00:34.388+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-341] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing MESSAGE destination=/topic/public session=f0c06c9a-3715-0c2b-0a4b-5827537ad925 payload={"id":55,"senderId":3,"conversationId":2,"content":"salut","timestamp":"2024-12-...(truncated)
2024-12-05T18:00:34.388+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-341] o.s.m.s.b.SimpleBrokerMessageHandler     : Broadcasting to 3 sessions.
2024-12-05T18:00:34.399+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: didier@fake.com
2024-12-05T18:00:34.399+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: john@example.com
2024-12-05T18:00:34.402+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=2, nom=Doe, prénom=John, email=john@example.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:34.402+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=4, nom=BD, prénom=Didier, email=didier@fake.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:34.402+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T18:00:34.402+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T18:00:34.403+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T18:00:34.403+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T18:00:34.403+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : Attempting to load user by email: chat-poc@mcyw.com
2024-12-05T18:00:34.403+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T18:00:34.403+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T18:00:34.403+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T18:00:34.403+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T18:00:34.405+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-9] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:34.405+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-6] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:34.405+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:34.405+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:34.405+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T18:00:34.405+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T18:00:34.406+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:34.406+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:00:34.416+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.y.services.CustomUserDetailsService  : -------------CustomUserDetailsServiceJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:34.416+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/3", parameters={}
2024-12-05T18:00:34.417+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.openclassrooms.ycyw.controllers.UserController#getUserById(int)
2024-12-05T18:00:34.417+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : Attempting to get user by ID: 3
2024-12-05T18:00:34.417+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.services.UtilisateurService     : ---------------UtilisateurServiceJAVA : Attempting to find user by ID: 3
2024-12-05T18:00:34.419+01:00  INFO 63489 --- [ycyw] [http-nio-8080-exec-2] c.o.ycyw.controllers.UserController      : -------------UserControllerJAVA : User found: Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=password123, dateNaissance=null)
2024-12-05T18:00:34.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-12-05T18:00:34.419+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [Utilisateur(id=3, nom=Opérateur, prénom=My Car Your Way, email=chat-poc@mcyw.com, motDePasse=passwor (truncated)...]
2024-12-05T18:00:34.420+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-05T18:01:04.954+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=f0c06c9a-3715-0c2b-0a4b-5827537ad925, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T18:01:04.954+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-10] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session f0c06c9a-3715-0c2b-0a4b-5827537ad925
2024-12-05T18:01:04.955+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-345] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=f0c06c9a-3715-0c2b-0a4b-5827537ad925
2024-12-05T18:01:04.956+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-212] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=f0c06c9a-3715-0c2b-0a4b-5827537ad925}], simpSessionId=f0c06c9a-3715-0c2b-0a4b-5827537ad925}]
2024-12-05T18:01:10.069+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=5811c41a-5acc-7aeb-0abc-c5f5cd051844, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T18:01:10.070+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-3] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 5811c41a-5acc-7aeb-0abc-c5f5cd051844
2024-12-05T18:01:10.070+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-348] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=5811c41a-5acc-7aeb-0abc-c5f5cd051844
2024-12-05T18:01:10.071+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-213] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=5811c41a-5acc-7aeb-0abc-c5f5cd051844}], simpSessionId=5811c41a-5acc-7aeb-0abc-c5f5cd051844}]
2024-12-05T18:01:13.862+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] s.w.s.h.LoggingWebSocketHandlerDecorator : StandardWebSocketSession[id=6c9ab9c6-7d1c-5399-1a76-609830d27844, uri=ws://localhost:8080/ws] closed with CloseStatus[code=1001, reason=null]
2024-12-05T18:01:13.862+01:00 DEBUG 63489 --- [ycyw] [http-nio-8080-exec-5] o.s.w.s.m.SubProtocolWebSocketHandler    : Clearing session 6c9ab9c6-7d1c-5399-1a76-609830d27844
2024-12-05T18:01:13.862+01:00 DEBUG 63489 --- [ycyw] [clientInboundChannel-351] o.s.m.s.b.SimpleBrokerMessageHandler     : Processing DISCONNECT session=6c9ab9c6-7d1c-5399-1a76-609830d27844
2024-12-05T18:01:13.862+01:00 DEBUG 63489 --- [ycyw] [clientOutboundChannel-214] o.s.w.s.m.SubProtocolWebSocketHandler    : No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=6c9ab9c6-7d1c-5399-1a76-609830d27844}], simpSessionId=6c9ab9c6-7d1c-5399-1a76-609830d27844}]
2024-12-05T18:03:05.346+01:00 DEBUG 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-12-05T18:03:05.347+01:00 DEBUG 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2024-12-05T18:03:05.348+01:00  INFO 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2024-12-05T18:03:05.348+01:00  INFO 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@298f7b0a]]
2024-12-05T18:03:05.348+01:00 DEBUG 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@298f7b0a]
2024-12-05T18:03:05.348+01:00 DEBUG 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@298f7b0a]
2024-12-05T18:03:05.348+01:00  INFO 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2024-12-05T18:03:05.348+01:00 DEBUG 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T18:03:05.348+01:00 DEBUG 63489 --- [ycyw] [SpringApplicationShutdownHook] o.s.m.s.ExecutorSubscribableChannel      : brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-12-05T18:03:05.366+01:00  INFO 63489 --- [ycyw] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-05T18:03:05.370+01:00  INFO 63489 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-05T18:03:05.373+01:00  INFO 63489 --- [ycyw] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
